function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r={exports:{}},i={},a={exports:{}},o={},s=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function w(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}function S(){}function M(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=w.prototype;var A=M.prototype=new S;A.constructor=M,x(A,w.prototype),A.isPureReactComponent=!0;var T=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!P.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:C.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var L=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case l:o=!0}}if(o)return i=i(o=e),e=""===r?"."+I(o,0):r,T(i)?(n="",null!=e&&(n=e.replace(L,"$&/")+"/"),N(i,t,n,"",(function(e){return e}))):null!=i&&(R(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(L,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",T(e))for(var c=0;c<e.length;c++){var u=r+I(a=e[c],c);o+=N(a,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)o+=N(a=a.value,t,n,u=r+I(a,c++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z={current:null},U={transition:null},F={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:U,ReactCurrentOwner:C};o.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},o.Component=w,o.Fragment=c,o.Profiler=h,o.PureComponent=M,o.StrictMode=u,o.Suspense=m,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,o.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!P.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:s,type:e.type,key:i,ref:a,props:r,_owner:o}},o.createContext=function(e){return(e={$$typeof:f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},o.createElement=k,o.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},o.createRef=function(){return{current:null}},o.forwardRef=function(e){return{$$typeof:p,render:e}},o.isValidElement=R,o.lazy=function(e){return{$$typeof:v,_payload:{_status:-1,_result:e},_init:O}},o.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},o.startTransition=function(e){var t=U.transition;U.transition={};try{e()}finally{U.transition=t}},o.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},o.useCallback=function(e,t){return z.current.useCallback(e,t)},o.useContext=function(e){return z.current.useContext(e)},o.useDebugValue=function(){},o.useDeferredValue=function(e){return z.current.useDeferredValue(e)},o.useEffect=function(e,t){return z.current.useEffect(e,t)},o.useId=function(){return z.current.useId()},o.useImperativeHandle=function(e,t,n){return z.current.useImperativeHandle(e,t,n)},o.useInsertionEffect=function(e,t){return z.current.useInsertionEffect(e,t)},o.useLayoutEffect=function(e,t){return z.current.useLayoutEffect(e,t)},o.useMemo=function(e,t){return z.current.useMemo(e,t)},o.useReducer=function(e,t,n){return z.current.useReducer(e,t,n)},o.useRef=function(e){return z.current.useRef(e)},o.useState=function(e){return z.current.useState(e)},o.useSyncExternalStore=function(e,t,n){return z.current.useSyncExternalStore(e,t,n)},o.useTransition=function(){return z.current.useTransition()},o.version="18.2.0",a.exports=o;var B=a.exports;const V=n(B),j=e({__proto__:null,default:V},[B]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var H=B,W=Symbol.for("react.element"),G=Symbol.for("react.fragment"),q=Object.prototype.hasOwnProperty,X=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y={key:!0,ref:!0,__self:!0,__source:!0};function Z(e,t,n){var r,i={},a=null,o=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(o=t.ref),t)q.call(t,r)&&!Y.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:W,type:e,key:a,ref:o,props:i,_owner:X.current}}i.Fragment=G,i.jsx=Z,i.jsxs=Z,r.exports=i;var J=r.exports;const K=J.Fragment,Q=J.jsx,$=J.jsxs;var ee={},te={exports:{}},ne={},re={exports:{}},ie={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,L(_);else{var t=n(c);null!==t&&I(x,t.startTime-e)}}function _(t,i){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var a=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!C());){var o=h.callback;if("function"==typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?h.callback=s:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var g=n(c);null!==g&&I(x,g.startTime-i),u=!1}return u}finally{h=null,d=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,M=null,A=-1,T=5,E=-1;function C(){return!(e.unstable_now()-E<T)}function P(){if(null!==M){var t=e.unstable_now();E=t;var n=!0;try{n=M(!0,t)}finally{n?w():(S=!1,M=null)}}else S=!1}if("function"==typeof y)w=function(){y(P)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,R=k.port2;k.port1.onmessage=P,w=function(){R.postMessage(null)}}else w=function(){g(P,0)};function L(e){M=e,S||(S=!0,w())}function I(t,n){A=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,L(_))},e.unstable_forceFrameRate=function(e){0>e||125<e||(T=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(v(A),A=-1):m=!0,I(x,a-o))):(r.sortIndex=s,t(l,r),p||f||(p=!0,L(_))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(ie),re.exports=ie;var ae=re.exports,oe=B,se=ae;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ce=new Set,ue={};function he(e,t){de(e,t),de(e+"Capture",t)}function de(e,t){for(ue[e]=t,e=0;e<t.length;e++)ce.add(t[e])}var fe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),pe=Object.prototype.hasOwnProperty,me=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ge={},ve={};function ye(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){be[e]=new ye(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];be[t]=new ye(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){be[e]=new ye(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){be[e]=new ye(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){be[e]=new ye(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){be[e]=new ye(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){be[e]=new ye(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){be[e]=new ye(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){be[e]=new ye(e,5,!1,e.toLowerCase(),null,!1,!1)}));var xe=/[\-:]([a-z])/g;function _e(e){return e[1].toUpperCase()}function we(e,t,n,r){var i=be.hasOwnProperty(t)?be[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!pe.call(ve,e)||!pe.call(ge,e)&&(me.test(e)?ve[e]=!0:(ge[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(xe,_e);be[t]=new ye(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(xe,_e);be[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(xe,_e);be[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){be[e]=new ye(e,1,!1,e.toLowerCase(),null,!1,!1)})),be.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){be[e]=new ye(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Se=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Me=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),Te=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),ke=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),ze=Symbol.iterator;function Ue(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ze&&e[ze]||e["@@iterator"])?e:null}var Fe,Be=Object.assign;function Ve(e){if(void 0===Fe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fe=t&&t[1]||""}return"\n"+Fe+e}var je=!1;function He(e,t){if(!e||je)return"";je=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{je=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ve(e):""}function We(e){switch(e.tag){case 5:return Ve(e.type);case 16:return Ve("Lazy");case 13:return Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 2:case 15:return e=He(e.type,!1);case 11:return e=He(e.type.render,!1);case 1:return e=He(e.type,!0);default:return""}}function Ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Te:return"Fragment";case Ae:return"Portal";case Ce:return"Profiler";case Ee:return"StrictMode";case Le:return"Suspense";case Ie:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ke:return(e.displayName||"Context")+".Consumer";case Pe:return(e._context.displayName||"Context")+".Provider";case Re:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return null!==(t=e.displayName||null)?t:Ge(e.type)||"Memo";case De:t=e._payload,e=e._init;try{return Ge(e(t))}catch(n){}}return null}function qe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(t);case 8:return t===Ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ze(e){e._valueTracker||(e._valueTracker=function(e){var t=Ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ke(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Qe(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Xe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function et(e,t){null!=(t=t.checked)&&we(e,"checked",t,!1)}function tt(e,t){et(e,t);var n=Xe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?rt(e,t.type,n):t.hasOwnProperty("defaultValue")&&rt(e,t.type,Xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function nt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function rt(e,t,n){"number"===t&&Ke(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var it=Array.isArray;function at(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ot(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(le(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function st(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(le(92));if(it(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Xe(n)}}function lt(e,t){var n=Xe(t.value),r=Xe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ct(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ut(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ut(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var dt,ft,pt=(ft=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((dt=dt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ft(e,t)}))}:ft);function mt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];function yt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||gt.hasOwnProperty(e)&&gt[e]?(""+t).trim():t+"px"}function bt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=yt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(gt).forEach((function(e){vt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gt[t]=gt[e]}))}));var xt=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(e,t){if(t){if(xt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(le(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(le(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(le(62))}}function wt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Tt=null,Et=null;function Ct(e){if(e=wa(e)){if("function"!=typeof At)throw Error(le(280));var t=e.stateNode;t&&(t=Ma(t),At(e.stateNode,e.type,t))}}function Pt(e){Tt?Et?Et.push(e):Et=[e]:Tt=e}function kt(){if(Tt){var e=Tt,t=Et;if(Et=Tt=null,Ct(e),t)for(e=0;e<t.length;e++)Ct(t[e])}}function Rt(e,t){return e(t)}function Lt(){}var It=!1;function Nt(e,t,n){if(It)return e(t,n);It=!0;try{return Rt(e,t,n)}finally{It=!1,(null!==Tt||null!==Et)&&(Lt(),kt())}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=Ma(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(le(231,t,typeof n));return n}var Ot=!1;if(fe)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(ft){Ot=!1}function Ut(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ft=!1,Bt=null,Vt=!1,jt=null,Ht={onError:function(e){Ft=!0,Bt=e}};function Wt(e,t,n,r,i,a,o,s,l){Ft=!1,Bt=null,Ut.apply(Ht,arguments)}function Gt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xt(e){if(Gt(e)!==e)throw Error(le(188))}function Yt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Gt(e)))throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xt(i),e;if(a===r)return Xt(i),t;a=a.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(3!==n.tag)throw Error(le(188));return n.stateNode.current===n?e:t}(e))?Zt(e):null}function Zt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Zt(e);if(null!==t)return t;e=e.sibling}return null}var Jt=se.unstable_scheduleCallback,Kt=se.unstable_cancelCallback,Qt=se.unstable_shouldYield,$t=se.unstable_requestPaint,en=se.unstable_now,tn=se.unstable_getCurrentPriorityLevel,nn=se.unstable_ImmediatePriority,rn=se.unstable_UserBlockingPriority,an=se.unstable_NormalPriority,on=se.unstable_LowPriority,sn=se.unstable_IdlePriority,ln=null,cn=null;var un=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(hn(e)/dn|0)|0},hn=Math.log,dn=Math.LN2;var fn=64,pn=4194304;function mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=mn(s):0!==(a&=o)&&(r=mn(a))}else 0!==(o=n&~i)?r=mn(o):0!==a&&(r=mn(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-un(t)),r|=e[n],t&=~i;return r}function vn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function yn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function bn(){var e=fn;return 0==(4194240&(fn<<=1))&&(fn=64),e}function xn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _n(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-un(t)]=n}function wn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Sn=0;function Mn(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var An,Tn,En,Cn,Pn,kn=!1,Rn=[],Ln=null,In=null,Nn=null,Dn=new Map,On=new Map,zn=[],Un="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fn(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function Bn(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wa(t))&&Tn(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vn(e){var t=_a(e.target);if(null!==t){var n=Gt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qt(n)))return e.blockedOn=t,void Pn(e.priority,(function(){En(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$n(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wa(n))&&Tn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);St=r,n.target.dispatchEvent(r),St=null,t.shift()}return!0}function Hn(e,t,n){jn(e)&&n.delete(t)}function Wn(){kn=!1,null!==Ln&&jn(Ln)&&(Ln=null),null!==In&&jn(In)&&(In=null),null!==Nn&&jn(Nn)&&(Nn=null),Dn.forEach(Hn),On.forEach(Hn)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,kn||(kn=!0,se.unstable_scheduleCallback(se.unstable_NormalPriority,Wn)))}function qn(e){function t(t){return Gn(t,e)}if(0<Rn.length){Gn(Rn[0],e);for(var n=1;n<Rn.length;n++){var r=Rn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ln&&Gn(Ln,e),null!==In&&Gn(In,e),null!==Nn&&Gn(Nn,e),Dn.forEach(t),On.forEach(t),n=0;n<zn.length;n++)(r=zn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&null===(n=zn[0]).blockedOn;)Vn(n),null===n.blockedOn&&zn.shift()}var Xn=Se.ReactCurrentBatchConfig,Yn=!0;function Zn(e,t,n,r){var i=Sn,a=Xn.transition;Xn.transition=null;try{Sn=1,Kn(e,t,n,r)}finally{Sn=i,Xn.transition=a}}function Jn(e,t,n,r){var i=Sn,a=Xn.transition;Xn.transition=null;try{Sn=4,Kn(e,t,n,r)}finally{Sn=i,Xn.transition=a}}function Kn(e,t,n,r){if(Yn){var i=$n(e,t,n,r);if(null===i)Xi(e,t,r,Qn,n),Fn(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ln=Bn(Ln,e,t,n,r,i),!0;case"dragenter":return In=Bn(In,e,t,n,r,i),!0;case"mouseover":return Nn=Bn(Nn,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dn.set(a,Bn(Dn.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,On.set(a,Bn(On.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Fn(e,r),4&t&&-1<Un.indexOf(e)){for(;null!==i;){var a=wa(i);if(null!==a&&An(a),null===(a=$n(e,t,n,r))&&Xi(e,t,r,Qn,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Xi(e,t,r,null,n)}}var Qn=null;function $n(e,t,n,r){if(Qn=null,null!==(e=_a(e=Mt(r))))if(null===(t=Gt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qn=e,null}function er(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tn()){case nn:return 1;case rn:return 4;case an:case on:return 16;case sn:return 536870912;default:return 16}default:return 16}}var tr=null,nr=null,rr=null;function ir(){if(rr)return rr;var e,t,n=nr,r=n.length,i="value"in tr?tr.value:tr.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return rr=i.slice(e,1<t?1-t:void 0)}function ar(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function or(){return!0}function sr(){return!1}function lr(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?or:sr,this.isPropagationStopped=sr,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var cr,ur,hr,dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=lr(dr),pr=Be({},dr,{view:0,detail:0}),mr=lr(pr),gr=Be({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&"mousemove"===e.type?(cr=e.screenX-hr.screenX,ur=e.screenY-hr.screenY):ur=cr=0,hr=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:ur}}),vr=lr(gr),yr=lr(Be({},gr,{dataTransfer:0})),br=lr(Be({},pr,{relatedTarget:0})),xr=lr(Be({},dr,{animationName:0,elapsedTime:0,pseudoElement:0})),_r=Be({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wr=lr(_r),Sr=lr(Be({},dr,{data:0})),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tr[e])&&!!t[e]}function Cr(){return Er}var Pr=Be({},pr,{key:function(e){if(e.key){var t=Mr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ar(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ar[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?ar(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ar(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kr=lr(Pr),Rr=lr(Be({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Lr=lr(Be({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Ir=lr(Be({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nr=Be({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=lr(Nr),Or=[9,13,27,32],zr=fe&&"CompositionEvent"in window,Ur=null;fe&&"documentMode"in document&&(Ur=document.documentMode);var Fr=fe&&"TextEvent"in window&&!Ur,Br=fe&&(!zr||Ur&&8<Ur&&11>=Ur),Vr=String.fromCharCode(32),jr=!1;function Hr(e,t){switch(e){case"keyup":return-1!==Or.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Gr=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Yr(e,t,n,r){Pt(r),0<(t=Zi(t,"onChange")).length&&(n=new fr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zr=null,Jr=null;function Kr(e){Vi(e,0)}function Qr(e){if(Je(Sa(e)))return e}function $r(e,t){if("change"===e)return t}var ei=!1;if(fe){var ti;if(fe){var ni="oninput"in document;if(!ni){var ri=document.createElement("div");ri.setAttribute("oninput","return;"),ni="function"==typeof ri.oninput}ti=ni}else ti=!1;ei=ti&&(!document.documentMode||9<document.documentMode)}function ii(){Zr&&(Zr.detachEvent("onpropertychange",ai),Jr=Zr=null)}function ai(e){if("value"===e.propertyName&&Qr(Jr)){var t=[];Yr(t,Jr,e,Mt(e)),Nt(Kr,t)}}function oi(e,t,n){"focusin"===e?(ii(),Jr=n,(Zr=t).attachEvent("onpropertychange",ai)):"focusout"===e&&ii()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Jr)}function li(e,t){if("click"===e)return Qr(t)}function ci(e,t){if("input"===e||"change"===e)return Qr(t)}var ui="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function hi(e,t){if(ui(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pe.call(t,i)||!ui(e[i],t[i]))return!1}return!0}function di(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fi(e,t){var n,r=di(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=di(r)}}function pi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mi(){for(var e=window,t=Ke();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Ke((e=t.contentWindow).document)}return t}function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vi(e){var t=mi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pi(n.ownerDocument.documentElement,n)){if(null!==r&&gi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=fi(n,a);var o=fi(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yi=fe&&"documentMode"in document&&11>=document.documentMode,bi=null,xi=null,_i=null,wi=!1;function Si(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==bi||bi!==Ke(r)||("selectionStart"in(r=bi)&&gi(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_i&&hi(_i,r)||(_i=r,0<(r=Zi(xi,"onSelect")).length&&(t=new fr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bi)))}function Mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ai={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Ti={},Ei={};function Ci(e){if(Ti[e])return Ti[e];if(!Ai[e])return e;var t,n=Ai[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ei)return Ti[e]=n[t];return e}fe&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);var Pi=Ci("animationend"),ki=Ci("animationiteration"),Ri=Ci("animationstart"),Li=Ci("transitionend"),Ii=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(e,t){Ii.set(e,t),he(t,[e])}for(var Oi=0;Oi<Ni.length;Oi++){var zi=Ni[Oi];Di(zi.toLowerCase(),"on"+(zi[0].toUpperCase()+zi.slice(1)))}Di(Pi,"onAnimationEnd"),Di(ki,"onAnimationIteration"),Di(Ri,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Li,"onTransitionEnd"),de("onMouseEnter",["mouseout","mouseover"]),de("onMouseLeave",["mouseout","mouseover"]),de("onPointerEnter",["pointerout","pointerover"]),de("onPointerLeave",["pointerout","pointerover"]),he("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),he("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),he("onBeforeInput",["compositionend","keypress","textInput","paste"]),he("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Bi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,s,l){if(Wt.apply(this,arguments),Ft){if(!Ft)throw Error(le(198));var c=Bt;Ft=!1,Bt=null,Vt||(Vt=!0,jt=c)}}(r,t,void 0,e),e.currentTarget=null}function Vi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Bi(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Bi(i,s,c),a=l}}}if(Vt)throw e=jt,Vt=!1,jt=null,e}function ji(e,t){var n=t[ya];void 0===n&&(n=t[ya]=new Set);var r=e+"__bubble";n.has(r)||(qi(t,e,2,!1),n.add(r))}function Hi(e,t,n){var r=0;t&&(r|=4),qi(n,e,r,t)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Wi]){e[Wi]=!0,ce.forEach((function(t){"selectionchange"!==t&&(Fi.has(t)||Hi(t,!1,e),Hi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wi]||(t[Wi]=!0,Hi("selectionchange",!1,t))}}function qi(e,t,n,r){switch(er(t)){case 1:var i=Zn;break;case 4:i=Jn;break;default:i=Kn}n=i.bind(null,t,n,e),i=void 0,!Ot||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xi(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=_a(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Nt((function(){var r=a,i=Mt(n),o=[];e:{var s=Ii.get(e);if(void 0!==s){var l=fr,c=e;switch(e){case"keypress":if(0===ar(n))break e;case"keydown":case"keyup":l=kr;break;case"focusin":c="focus",l=br;break;case"focusout":c="blur",l=br;break;case"beforeblur":case"afterblur":l=br;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Lr;break;case Pi:case ki:case Ri:l=xr;break;case Li:l=Ir;break;case"scroll":l=mr;break;case"wheel":l=Dr;break;case"copy":case"cut":case"paste":l=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rr}var u=0!=(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Dt(p,d))&&u.push(Yi(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===St||!(c=n.relatedTarget||n.fromElement)||!_a(c)&&!c[va])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?_a(c):null)&&(c!==(h=Gt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rr,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:Sa(l),f=null==c?s:Sa(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,_a(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ji(f))p++;for(f=0,m=d;m;m=Ji(m))f++;for(;0<p-f;)u=Ji(u),p--;for(;0<f-p;)d=Ji(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ji(u),d=Ji(d)}u=null}else u=null;null!==l&&Ki(o,s,l,u,!1),null!==c&&null!==h&&Ki(o,h,c,u,!0)}if("select"===(l=(s=r?Sa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$r;else if(Xr(s))if(ei)g=ci;else{g=si;var v=oi}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=li);switch(g&&(g=g(e,r))?Yr(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&rt(s,"number",s.value)),v=r?Sa(r):window,e){case"focusin":(Xr(v)||"true"===v.contentEditable)&&(bi=v,xi=r,_i=null);break;case"focusout":_i=xi=bi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,Si(o,n,i);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Si(o,n,i)}var y;if(zr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gr?Hr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Br&&"ko"!==n.locale&&(Gr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gr&&(y=ir()):(nr="value"in(tr=i)?tr.value:tr.textContent,Gr=!0)),0<(v=Zi(r,b)).length&&(b=new Sr(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Wr(n))&&(b.data=y))),(y=Fr?function(e,t){switch(e){case"compositionend":return Wr(t);case"keypress":return 32!==t.which?null:(jr=!0,Vr);case"textInput":return(e=t.data)===Vr&&jr?null:e;default:return null}}(e,n):function(e,t){if(Gr)return"compositionend"===e||!zr&&Hr(e,t)?(e=ir(),rr=nr=tr=null,Gr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Br&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Zi(r,"onBeforeInput")).length&&(i=new Sr("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Vi(o,t)}))}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Dt(e,n))&&r.unshift(Yi(e,a,i)),null!=(a=Dt(e,t))&&r.push(Yi(e,a,i))),e=e.return}return r}function Ji(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Dt(n,a))&&o.unshift(Yi(n,l,s)):i||null!=(l=Dt(n,a))&&o.push(Yi(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function ea(e){return("string"==typeof e?e:""+e).replace(Qi,"\n").replace($i,"")}function ta(e,t,n){if(t=ea(t),ea(e)!==t&&n)throw Error(le(425))}function na(){}var ra=null,ia=null;function aa(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oa="function"==typeof setTimeout?setTimeout:void 0,sa="function"==typeof clearTimeout?clearTimeout:void 0,la="function"==typeof Promise?Promise:void 0,ca="function"==typeof queueMicrotask?queueMicrotask:void 0!==la?function(e){return la.resolve(null).then(e).catch(ua)}:oa;function ua(e){setTimeout((function(){throw e}))}function ha(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qn(t)}function da(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pa=Math.random().toString(36).slice(2),ma="__reactFiber$"+pa,ga="__reactProps$"+pa,va="__reactContainer$"+pa,ya="__reactEvents$"+pa,ba="__reactListeners$"+pa,xa="__reactHandles$"+pa;function _a(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[va]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=fa(e);null!==e;){if(n=e[ma])return n;e=fa(e)}return t}n=(e=n).parentNode}return null}function wa(e){return!(e=e[ma]||e[va])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Sa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(le(33))}function Ma(e){return e[ga]||null}var Aa=[],Ta=-1;function Ea(e){return{current:e}}function Ca(e){0>Ta||(e.current=Aa[Ta],Aa[Ta]=null,Ta--)}function Pa(e,t){Ta++,Aa[Ta]=e.current,e.current=t}var ka={},Ra=Ea(ka),La=Ea(!1),Ia=ka;function Na(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Da(e){return null!=(e=e.childContextTypes)}function Oa(){Ca(La),Ca(Ra)}function za(e,t,n){if(Ra.current!==ka)throw Error(le(168));Pa(Ra,t),Pa(La,n)}function Ua(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(le(108,qe(e)||"Unknown",i));return Be({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,Ia=Ra.current,Pa(Ra,e),Pa(La,La.current),!0}function Ba(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=Ua(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Ca(La),Ca(Ra),Pa(Ra,e)):Ca(La),Pa(La,n)}var Va=null,ja=!1,Ha=!1;function Wa(e){null===Va?Va=[e]:Va.push(e)}function Ga(){if(!Ha&&null!==Va){Ha=!0;var e=0,t=Sn;try{var n=Va;for(Sn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Va=null,ja=!1}catch(i){throw null!==Va&&(Va=Va.slice(e+1)),Jt(nn,Ga),i}finally{Sn=t,Ha=!1}}return null}var qa=[],Xa=0,Ya=null,Za=0,Ja=[],Ka=0,Qa=null,$a=1,eo="";function to(e,t){qa[Xa++]=Za,qa[Xa++]=Ya,Ya=e,Za=t}function no(e,t,n){Ja[Ka++]=$a,Ja[Ka++]=eo,Ja[Ka++]=Qa,Qa=e;var r=$a;e=eo;var i=32-un(r)-1;r&=~(1<<i),n+=1;var a=32-un(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$a=1<<32-un(t)+i|n<<i|r,eo=a+e}else $a=1<<a|n<<i|r,eo=e}function ro(e){null!==e.return&&(to(e,1),no(e,1,0))}function io(e){for(;e===Ya;)Ya=qa[--Xa],qa[Xa]=null,Za=qa[--Xa],qa[Xa]=null;for(;e===Qa;)Qa=Ja[--Ka],Ja[Ka]=null,eo=Ja[--Ka],Ja[Ka]=null,$a=Ja[--Ka],Ja[Ka]=null}var ao=null,oo=null,so=!1,lo=null;function co(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ao=e,oo=da(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ao=e,oo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:$a,overflow:eo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ao=e,oo=null,!0);default:return!1}}function ho(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function fo(e){if(so){var t=oo;if(t){var n=t;if(!uo(e,t)){if(ho(e))throw Error(le(418));t=da(n.nextSibling);var r=ao;t&&uo(e,t)?co(r,n):(e.flags=-4097&e.flags|2,so=!1,ao=e)}}else{if(ho(e))throw Error(le(418));e.flags=-4097&e.flags|2,so=!1,ao=e}}}function po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ao=e}function mo(e){if(e!==ao)return!1;if(!so)return po(e),so=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!aa(e.type,e.memoizedProps)),t&&(t=oo)){if(ho(e))throw go(),Error(le(418));for(;t;)co(e,t),t=da(t.nextSibling)}if(po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oo=da(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oo=null}}else oo=ao?da(e.stateNode.nextSibling):null;return!0}function go(){for(var e=oo;e;)e=da(e.nextSibling)}function vo(){oo=ao=null,so=!1}function yo(e){null===lo?lo=[e]:lo.push(e)}var bo=Se.ReactCurrentBatchConfig;function xo(e,t){if(e&&e.defaultProps){for(var n in t=Be({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var _o=Ea(null),wo=null,So=null,Mo=null;function Ao(){Mo=So=wo=null}function To(e){var t=_o.current;Ca(_o),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){wo=e,Mo=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(wl=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===wo)throw Error(le(308));So=e,wo.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var ko=null;function Ro(e){null===ko?ko=[e]:ko.push(e)}function Lo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Io(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Io(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wn(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;No=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(o=0,u=c=l=null,s=a;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=Be({},h,d);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fc|=o,e.lanes=o,e.memoizedState=h}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(le(191,i));i.call(r)}}}var Ho=(new oe.Component).refs;function Wo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Be({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return!!(e=e._reactInternals)&&Gt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ru(),i=iu(e),a=zo(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Uo(e,a,i))&&(au(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ru(),i=iu(e),a=zo(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Uo(e,a,i))&&(au(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ru(),r=iu(e),i=zo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(au(t,e,r,n),Fo(t,e,r))}};function qo(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hi(n,r)||!hi(i,a))}function Xo(e,t,n){var r=!1,i=ka,a=t.contextType;return"object"==typeof a&&null!==a?a=Po(a):(i=Da(t)?Ia:Ra.current,a=(r=null!=(r=t.contextTypes))?Na(e,i):ka),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function Zo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ho,Do(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Po(a):(a=Da(t)?Ia:Ra.current,i.context=Na(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Wo(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Go.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Jo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===Ho&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===Te?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===De&&Qo(a)===t.type)?((r=i(t,n.props)).ref=Jo(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=Jo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Uu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Me:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=Jo(e,null,t),n.return=e,n;case Ae:return(t=Vu(t,e.mode,n)).return=e,t;case De:return h(e,(0,t._init)(t._payload),n)}if(it(t)||Ue(t))return(t=Uu(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Me:return n.key===i?l(e,t,n,r):null;case Ae:return n.key===i?c(e,t,n,r):null;case De:return d(e,t,(i=n._init)(n._payload),r)}if(it(n)||Ue(n))return null!==i?null:u(e,t,n,r,null);Ko(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Me:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Ae:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case De:return f(e,t,n,(0,r._init)(r._payload),i)}if(it(r)||Ue(r))return u(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}return function s(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===Te&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Me:e:{for(var m=u.key,g=c;null!==g;){if(g.key===m){if((m=u.type)===Te){if(7===g.tag){n(l,g.sibling),(c=i(g,u.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===De&&Qo(m)===g.type){n(l,g.sibling),(c=i(g,u.props)).ref=Jo(l,g,u),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}u.type===Te?((c=Uu(u.props.children,l.mode,p,u.key)).return=l,l=c):((p=zu(u.type,u.key,u.props,null,l.mode,p)).ref=Jo(l,c,u),p.return=l,l=p)}return o(l);case Ae:e:{for(g=u.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=i(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Vu(u,l.mode,p)).return=l,l=c}return o(l);case De:return s(l,c,(g=u._init)(u._payload),p)}if(it(u))return function(i,o,s,l){for(var c=null,u=null,p=o,m=o=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=d(i,p,s[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,p=g}if(m===s.length)return n(i,p),so&&to(i,m),c;if(null===p){for(;m<s.length;m++)null!==(p=h(i,s[m],l))&&(o=a(p,o,m),null===u?c=p:u.sibling=p,u=p);return so&&to(i,m),c}for(p=r(i,p);m<s.length;m++)null!==(g=f(p,i,m,s[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach((function(e){return t(i,e)})),so&&to(i,m),c}(l,c,u,p);if(Ue(u))return function(i,o,s,l){var c=Ue(s);if("function"!=typeof c)throw Error(le(150));if(null==(s=c.call(s)))throw Error(le(151));for(var u=c=null,p=o,m=o=0,g=null,v=s.next();null!==p&&!v.done;m++,v=s.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=d(i,p,v.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,p=g}if(v.done)return n(i,p),so&&to(i,m),c;if(null===p){for(;!v.done;m++,v=s.next())null!==(v=h(i,v.value,l))&&(o=a(v,o,m),null===u?c=v:u.sibling=v,u=v);return so&&to(i,m),c}for(p=r(i,p);!v.done;m++,v=s.next())null!==(v=f(p,i,m,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v);return e&&p.forEach((function(e){return t(i,e)})),so&&to(i,m),c}(l,c,u,p);Ko(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=i(c,u)).return=l,l=c):(n(l,c),(c=Bu(u,l.mode,p)).return=l,l=c),o(l)):n(l,c)}}var es=$o(!0),ts=$o(!1),ns={},rs=Ea(ns),is=Ea(ns),as=Ea(ns);function os(e){if(e===ns)throw Error(le(174));return e}function ss(e,t){switch(Pa(as,t),Pa(is,e),Pa(rs,ns),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ht(null,"");break;default:t=ht(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(rs),Pa(rs,t)}function ls(){Ca(rs),Ca(is),Ca(as)}function cs(e){os(as.current);var t=os(rs.current),n=ht(t,e.type);t!==n&&(Pa(is,e),Pa(rs,n))}function us(e){is.current===e&&(Ca(rs),Ca(is))}var hs=Ea(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fs=[];function ps(){for(var e=0;e<fs.length;e++)fs[e]._workInProgressVersionPrimary=null;fs.length=0}var ms=Se.ReactCurrentDispatcher,gs=Se.ReactCurrentBatchConfig,vs=0,ys=null,bs=null,xs=null,_s=!1,ws=!1,Ss=0,Ms=0;function As(){throw Error(le(321))}function Ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ui(e[n],t[n]))return!1;return!0}function Es(e,t,n,r,i,a){if(vs=a,ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ms.current=null===e||null===e.memoizedState?ul:hl,e=n(r,i),ws){a=0;do{if(ws=!1,Ss=0,25<=a)throw Error(le(301));a+=1,xs=bs=null,t.updateQueue=null,ms.current=dl,e=n(r,i)}while(ws)}if(ms.current=cl,t=null!==bs&&null!==bs.next,vs=0,xs=bs=ys=null,_s=!1,t)throw Error(le(300));return e}function Cs(){var e=0!==Ss;return Ss=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xs?ys.memoizedState=xs=e:xs=xs.next=e,xs}function ks(){if(null===bs){var e=ys.alternate;e=null!==e?e.memoizedState:null}else e=bs.next;var t=null===xs?ys.memoizedState:xs.next;if(null!==t)xs=t,bs=e;else{if(null===e)throw Error(le(310));e={memoizedState:(bs=e).memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null},null===xs?ys.memoizedState=xs=e:xs=xs.next=e}return xs}function Rs(e,t){return"function"==typeof t?t(e):t}function Ls(e){var t=ks(),n=t.queue;if(null===n)throw Error(le(311));n.lastRenderedReducer=e;var r=bs,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((vs&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,ys.lanes|=u,Fc|=u}c=c.next}while(null!==c&&c!==a);null===l?o=r:l.next=s,ui(r,t.memoizedState)||(wl=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ys.lanes|=a,Fc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Is(e){var t=ks(),n=t.queue;if(null===n)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);ui(a,t.memoizedState)||(wl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ns(){}function Ds(e,t){var n=ys,r=ks(),i=t(),a=!ui(r.memoizedState,i);if(a&&(r.memoizedState=i,wl=!0),r=r.queue,Xs(Us.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==xs&&1&xs.memoizedState.tag){if(n.flags|=2048,js(9,zs.bind(null,n,r,i,t),void 0,null),null===Lc)throw Error(le(349));0!=(30&vs)||Os(n,t,i)}return i}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ys.updateQueue)?(t={lastEffect:null,stores:null},ys.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zs(e,t,n,r){t.value=n,t.getSnapshot=r,Fs(t)&&Bs(e)}function Us(e,t,n){return n((function(){Fs(t)&&Bs(e)}))}function Fs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ui(e,n)}catch(r){return!0}}function Bs(e){var t=Io(e,1);null!==t&&au(t,e,1,-1)}function Vs(e){var t=Ps();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=al.bind(null,ys,e),[t.memoizedState,e]}function js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ys.updateQueue)?(t={lastEffect:null,stores:null},ys.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Hs(){return ks().memoizedState}function Ws(e,t,n,r){var i=Ps();ys.flags|=e,i.memoizedState=js(1|t,n,void 0,void 0===r?null:r)}function Gs(e,t,n,r){var i=ks();r=void 0===r?null:r;var a=void 0;if(null!==bs){var o=bs.memoizedState;if(a=o.destroy,null!==r&&Ts(r,o.deps))return void(i.memoizedState=js(t,n,a,r))}ys.flags|=e,i.memoizedState=js(1|t,n,a,r)}function qs(e,t){return Ws(8390656,8,e,t)}function Xs(e,t){return Gs(2048,8,e,t)}function Ys(e,t){return Gs(4,2,e,t)}function Zs(e,t){return Gs(4,4,e,t)}function Js(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!=n?n.concat([e]):null,Gs(4,4,Js.bind(null,t,e),n)}function Qs(){}function $s(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function el(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ts(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tl(e,t,n){return 0==(21&vs)?(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=n):(ui(n,t)||(n=bn(),ys.lanes|=n,Fc|=n,e.baseState=!0),t)}function nl(e,t){var n=Sn;Sn=0!==n&&4>n?n:4,e(!0);var r=gs.transition;gs.transition={};try{e(!1),t()}finally{Sn=n,gs.transition=r}}function rl(){return ks().memoizedState}function il(e,t,n){var r=iu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ol(e))sl(t,n);else if(null!==(n=Lo(e,t,n,r))){au(n,e,r,ru()),ll(n,t,r)}}function al(e,t,n){var r=iu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ol(e))sl(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ui(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Lo(e,t,i,r))&&(au(n,e,r,i=ru()),ll(n,t,r))}}function ol(e){var t=e.alternate;return e===ys||null!==t&&t===ys}function sl(e,t){ws=_s=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ll(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wn(e,n)}}var cl={readContext:Po,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useInsertionEffect:As,useLayoutEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useMutableSource:As,useSyncExternalStore:As,useId:As,unstable_isNewReconciler:!1},ul={readContext:Po,useCallback:function(e,t){return Ps().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ws(4194308,4,Js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var n=Ps();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ps();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=il.bind(null,ys,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ps().memoizedState=e},useState:Vs,useDebugValue:Qs,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=Vs(!1),t=e[0];return e=nl.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ys,i=Ps();if(so){if(void 0===n)throw Error(le(407));n=n()}else{if(n=t(),null===Lc)throw Error(le(349));0!=(30&vs)||Os(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qs(Us.bind(null,r,a,e),[e]),r.flags|=2048,js(9,zs.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ps(),t=Lc.identifierPrefix;if(so){var n=eo;t=":"+t+"R"+(n=($a&~(1<<32-un($a)-1)).toString(32)+n),0<(n=Ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hl={readContext:Po,useCallback:$s,useContext:Po,useEffect:Xs,useImperativeHandle:Ks,useInsertionEffect:Ys,useLayoutEffect:Zs,useMemo:el,useReducer:Ls,useRef:Hs,useState:function(){return Ls(Rs)},useDebugValue:Qs,useDeferredValue:function(e){return tl(ks(),bs.memoizedState,e)},useTransition:function(){return[Ls(Rs)[0],ks().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ds,useId:rl,unstable_isNewReconciler:!1},dl={readContext:Po,useCallback:$s,useContext:Po,useEffect:Xs,useImperativeHandle:Ks,useInsertionEffect:Ys,useLayoutEffect:Zs,useMemo:el,useReducer:Is,useRef:Hs,useState:function(){return Is(Rs)},useDebugValue:Qs,useDeferredValue:function(e){var t=ks();return null===bs?t.memoizedState=e:tl(t,bs.memoizedState,e)},useTransition:function(){return[Is(Rs)[0],ks().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ds,useId:rl,unstable_isNewReconciler:!1};function fl(e,t){try{var n="",r=t;do{n+=We(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var ml="function"==typeof WeakMap?WeakMap:Map;function gl(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xc||(Xc=!0,Yc=r)},n}function vl(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Zc?Zc=new Set([this]):Zc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ml;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function bl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _l=Se.ReactCurrentOwner,wl=!1;function Sl(e,t,n,r){t.child=null===e?ts(t,null,n,r):es(t,e.child,n,r)}function Ml(e,t,n,r,i){n=n.render;var a=t.ref;return Co(t,i),r=Es(e,t,n,r,a,i),n=Cs(),null===e||wl?(so&&n&&ro(t),t.flags|=1,Sl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function Al(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Du(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Tl(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:hi)(o,r)&&e.ref===t.ref)return Xl(e,t,i)}return t.flags|=1,(e=Ou(a,r)).ref=t.ref,e.return=t,t.child=e}function Tl(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(hi(a,r)&&e.ref===t.ref){if(wl=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,Xl(e,t,i);0!=(131072&e.flags)&&(wl=!0)}}return Pl(e,t,n,r,i)}function El(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pa(Oc,Dc),Dc|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pa(Oc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Pa(Oc,Dc),Dc|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Pa(Oc,Dc),Dc|=r;return Sl(e,t,i,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,n,r,i){var a=Da(n)?Ia:Ra.current;return a=Na(t,a),Co(t,i),n=Es(e,t,n,r,a,i),r=Cs(),null===e||wl?(so&&r&&ro(t),t.flags|=1,Sl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i))}function kl(e,t,n,r,i){if(Da(n)){var a=!0;Fa(t)}else a=!1;if(Co(t,i),null===t.stateNode)ql(e,t),Xo(t,n,r),Zo(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=Po(c):c=Na(t,c=Da(n)?Ia:Ra.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&Yo(t,o,r,c),No=!1;var d=t.memoizedState;o.state=d,Vo(t,r,o,i),l=t.memoizedState,s!==r||d!==l||La.current||No?("function"==typeof u&&(Wo(t,n,u,r),l=t.memoizedState),(s=No||qo(t,n,s,r,d,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:xo(t.type,s),o.props=c,h=t.pendingProps,d=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Po(l):l=Na(t,l=Da(n)?Ia:Ra.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==h||d!==l)&&Yo(t,o,r,l),No=!1,d=t.memoizedState,o.state=d,Vo(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||La.current||No?("function"==typeof f&&(Wo(t,n,f,r),p=t.memoizedState),(c=No||qo(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Rl(e,t,n,r,a,i)}function Rl(e,t,n,r,i,a){Cl(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&Ba(t,n,!1),Xl(e,t,a);r=t.stateNode,_l.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=es(t,e.child,null,a),t.child=es(t,null,s,a)):Sl(e,t,s,a),t.memoizedState=r.state,i&&Ba(t,n,!0),t.child}function Ll(e){var t=e.stateNode;t.pendingContext?za(0,t.pendingContext,t.pendingContext!==t.context):t.context&&za(0,t.context,!1),ss(e,t.containerInfo)}function Il(e,t,n,r,i){return vo(),yo(i),t.flags|=256,Sl(e,t,n,r),t.child}var Nl,Dl,Ol,zl,Ul={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bl(e,t,n){var r,i=t.pendingProps,a=hs.current,o=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Pa(hs,1&a),null===e)return fo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=Fu(s,i,0,null),e=Uu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fl(n),t.memoizedState=Ul,e):Vl(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,jl(e,t,o,r=pl(Error(le(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(a=Uu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&es(t,e.child,null,o),t.child.memoizedState=Fl(o),t.memoizedState=Ul,a);if(0==(1&t.mode))return jl(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,jl(e,t,o,r=pl(a=Error(le(419)),r,void 0))}if(s=0!=(o&e.childLanes),wl||s){if(null!==(r=Lc)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Io(e,i),au(r,e,i,-1))}return yu(),jl(e,t,o,r=pl(Error(le(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,oo=da(i.nextSibling),ao=t,so=!0,lo=null,null!==e&&(Ja[Ka++]=$a,Ja[Ka++]=eo,Ja[Ka++]=Qa,$a=e.id,eo=e.overflow,Qa=t),t=Vl(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(o){o=i.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ou(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ou(r,o):(o=Uu(o,s,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?Fl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Ul,i}return e=(o=e.child).sibling,i=Ou(o,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vl(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jl(e,t,n,r){return null!==r&&yo(r),es(t,e.child,null,n),(e=Vl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Wl(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Gl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Sl(e,t,r.children,n),0!=(2&(r=hs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hl(e,n,t);else if(19===e.tag)Hl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pa(hs,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wl(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wl(t,!0,n,null,a);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(le(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){if(!so)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jl(e,t,n){var r=t.pendingProps;switch(io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zl(t),null;case 1:case 17:return Da(t.type)&&Oa(),Zl(t),null;case 3:return r=t.stateNode,ls(),Ca(La),Ca(Ra),ps(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(mo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==lo&&(cu(lo),lo=null))),Dl(e,t),Zl(t),null;case 5:us(t);var i=os(as.current);if(n=t.type,null!==e&&null!=t.stateNode)Ol(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(le(166));return Zl(t),null}if(e=os(rs.current),mo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ma]=t,r[ga]=a,e=0!=(1&t.mode),n){case"dialog":ji("cancel",r),ji("close",r);break;case"iframe":case"object":case"embed":ji("load",r);break;case"video":case"audio":for(i=0;i<Ui.length;i++)ji(Ui[i],r);break;case"source":ji("error",r);break;case"img":case"image":case"link":ji("error",r),ji("load",r);break;case"details":ji("toggle",r);break;case"input":$e(r,a),ji("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ji("invalid",r);break;case"textarea":st(r,a),ji("invalid",r)}for(var o in _t(n,a),i=null,a)if(a.hasOwnProperty(o)){var s=a[o];"children"===o?"string"==typeof s?r.textContent!==s&&(!0!==a.suppressHydrationWarning&&ta(r.textContent,s,e),i=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==a.suppressHydrationWarning&&ta(r.textContent,s,e),i=["children",""+s]):ue.hasOwnProperty(o)&&null!=s&&"onScroll"===o&&ji("scroll",r)}switch(n){case"input":Ze(r),nt(r,a,!0);break;case"textarea":Ze(r),ct(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=na)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ut(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ma]=t,e[ga]=r,Nl(e,t,!1,!1),t.stateNode=e;e:{switch(o=wt(n,r),n){case"dialog":ji("cancel",e),ji("close",e),i=r;break;case"iframe":case"object":case"embed":ji("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ui.length;i++)ji(Ui[i],e);i=r;break;case"source":ji("error",e),i=r;break;case"img":case"image":case"link":ji("error",e),ji("load",e),i=r;break;case"details":ji("toggle",e),i=r;break;case"input":$e(e,r),i=Qe(e,r),ji("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),ji("invalid",e);break;case"textarea":st(e,r),i=ot(e,r),ji("invalid",e)}for(a in _t(n,i),s=i)if(s.hasOwnProperty(a)){var l=s[a];"style"===a?bt(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&pt(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&mt(e,l):"number"==typeof l&&mt(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(ue.hasOwnProperty(a)?null!=l&&"onScroll"===a&&ji("scroll",e):null!=l&&we(e,a,l,o))}switch(n){case"input":Ze(e),nt(e,r,!1);break;case"textarea":Ze(e),ct(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Xe(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?at(e,!!r.multiple,a,!1):null!=r.defaultValue&&at(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=na)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zl(t),null;case 6:if(e&&null!=t.stateNode)zl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(le(166));if(n=os(as.current),os(rs.current),mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(a=r.nodeValue!==n)&&null!==(e=ao))switch(e.tag){case 3:ta(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ta(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Zl(t),null;case 13:if(Ca(hs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(so&&null!==oo&&0!=(1&t.mode)&&0==(128&t.flags))go(),vo(),t.flags|=98560,a=!1;else if(a=mo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(le(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(le(317));a[ma]=t}else vo(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zl(t),a=!1}else null!==lo&&(cu(lo),lo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&hs.current)?0===zc&&(zc=3):yu())),null!==t.updateQueue&&(t.flags|=4),Zl(t),null);case 4:return ls(),Dl(e,t),null===e&&Gi(t.stateNode.containerInfo),Zl(t),null;case 10:return To(t.type._context),Zl(t),null;case 19:if(Ca(hs),null===(a=t.memoizedState))return Zl(t),null;if(r=0!=(128&t.flags),null===(o=a.rendering))if(r)Yl(a,!1);else{if(0!==zc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ds(e))){for(t.flags|=128,Yl(a,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(o=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pa(hs,1&hs.current|2),t.child}e=e.sibling}null!==a.tail&&en()>Gc&&(t.flags|=128,r=!0,Yl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!so)return Zl(t),null}else 2*en()-a.renderingStartTime>Gc&&1073741824!==n&&(t.flags|=128,r=!0,Yl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=a.last)?n.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=en(),t.sibling=null,n=hs.current,Pa(hs,r?1&n|2:1&n),t):(Zl(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Dc)&&(Zl(t),6&t.subtreeFlags&&(t.flags|=8192)):Zl(t),null;case 24:case 25:return null}throw Error(le(156,t.tag))}function Kl(e,t){switch(io(t),t.tag){case 1:return Da(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ls(),Ca(La),Ca(Ra),ps(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return us(t),null;case 13:if(Ca(hs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(le(340));vo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(hs),null;case 4:return ls(),null;case 10:return To(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Nl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dl=function(){},Ol=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,os(rs.current);var a,o=null;switch(n){case"input":i=Qe(e,i),r=Qe(e,r),o=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":i=ot(e,i),r=ot(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=na)}for(c in _t(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ue.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ue.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&ji("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},zl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ql=!1,$l=!1,ec="function"==typeof WeakSet?WeakSet:Set,tc=null;function nc(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function rc(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var ic=!1;function ac(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&rc(t,n,a)}i=i.next}while(i!==r)}}function oc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function lc(e){var t=e.alternate;null!==t&&(e.alternate=null,lc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[ga],delete t[ya],delete t[ba],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cc(e){return 5===e.tag||3===e.tag||4===e.tag}function uc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||cc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function hc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=na));else if(4!==r&&null!==(e=e.child))for(hc(e,t,n),e=e.sibling;null!==e;)hc(e,t,n),e=e.sibling}function dc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dc(e,t,n),e=e.sibling;null!==e;)dc(e,t,n),e=e.sibling}var fc=null,pc=!1;function mc(e,t,n){for(n=n.child;null!==n;)gc(e,t,n),n=n.sibling}function gc(e,t,n){if(cn&&"function"==typeof cn.onCommitFiberUnmount)try{cn.onCommitFiberUnmount(ln,n)}catch(s){}switch(n.tag){case 5:$l||nc(n,t);case 6:var r=fc,i=pc;fc=null,mc(e,t,n),pc=i,null!==(fc=r)&&(pc?(e=fc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fc.removeChild(n.stateNode));break;case 18:null!==fc&&(pc?(e=fc,n=n.stateNode,8===e.nodeType?ha(e.parentNode,n):1===e.nodeType&&ha(e,n),qn(e)):ha(fc,n.stateNode));break;case 4:r=fc,i=pc,fc=n.stateNode.containerInfo,pc=!0,mc(e,t,n),fc=r,pc=i;break;case 0:case 11:case 14:case 15:if(!$l&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!=(2&a)||0!=(4&a))&&rc(n,t,o),i=i.next}while(i!==r)}mc(e,t,n);break;case 1:if(!$l&&(nc(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}mc(e,t,n);break;case 21:mc(e,t,n);break;case 22:1&n.mode?($l=(r=$l)||null!==n.memoizedState,mc(e,t,n),$l=r):mc(e,t,n);break;default:mc(e,t,n)}}function vc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ec),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:fc=s.stateNode,pc=!1;break e;case 3:case 4:fc=s.stateNode.containerInfo,pc=!0;break e}s=s.return}if(null===fc)throw Error(le(160));gc(a,o,i),fc=null,pc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Eu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bc(t,e),t=t.sibling}function bc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yc(t,e),xc(e),4&r){try{ac(3,e,e.return),oc(3,e)}catch(m){Eu(e,e.return,m)}try{ac(5,e,e.return)}catch(m){Eu(e,e.return,m)}}break;case 1:yc(t,e),xc(e),512&r&&null!==n&&nc(n,n.return);break;case 5:if(yc(t,e),xc(e),512&r&&null!==n&&nc(n,n.return),32&e.flags){var i=e.stateNode;try{mt(i,"")}catch(m){Eu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===a.type&&null!=a.name&&et(i,a),wt(s,o);var c=wt(s,a);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];"style"===u?bt(i,h):"dangerouslySetInnerHTML"===u?pt(i,h):"children"===u?mt(i,h):we(i,u,h,c)}switch(s){case"input":tt(i,a);break;case"textarea":lt(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?at(i,!!a.multiple,f,!1):d!==!!a.multiple&&(null!=a.defaultValue?at(i,!!a.multiple,a.defaultValue,!0):at(i,!!a.multiple,a.multiple?[]:"",!1))}i[ga]=a}catch(m){Eu(e,e.return,m)}}break;case 6:if(yc(t,e),xc(e),4&r){if(null===e.stateNode)throw Error(le(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Eu(e,e.return,m)}}break;case 3:if(yc(t,e),xc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(m){Eu(e,e.return,m)}break;case 4:default:yc(t,e),xc(e);break;case 13:yc(t,e),xc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wc=en())),4&r&&vc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?($l=(c=$l)||u,yc(t,e),$l=c):yc(t,e),xc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!=(1&e.mode))for(tc=e,u=e.child;null!==u;){for(h=tc=u;null!==tc;){switch(f=(d=tc).child,d.tag){case 0:case 11:case 14:case 15:ac(4,d,d.return);break;case 1:nc(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Eu(r,n,m)}}break;case 5:nc(d,d.return);break;case 22:if(null!==d.memoizedState){Mc(h);continue}}null!==f?(f.return=d,tc=f):Mc(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,o=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=yt("display",o))}catch(m){Eu(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Eu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yc(t,e),xc(e),4&r&&vc(e);case 21:}}function xc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(cc(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(mt(i,""),r.flags&=-33),dc(e,uc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;hc(e,uc(e),a);break;default:throw Error(le(161))}}catch(o){Eu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _c(e,t,n){tc=e,wc(e)}function wc(e,t,n){for(var r=0!=(1&e.mode);null!==tc;){var i=tc,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ql;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||$l;s=Ql;var c=$l;if(Ql=o,($l=l)&&!c)for(tc=i;null!==tc;)l=(o=tc).child,22===o.tag&&null!==o.memoizedState?Ac(i):null!==l?(l.return=o,tc=l):Ac(i);for(;null!==a;)tc=a,wc(a),a=a.sibling;tc=i,Ql=s,$l=c}Sc(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,tc=a):Sc(e)}}function Sc(e){for(;null!==tc;){var t=tc;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$l||oc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$l)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qn(h)}}}break;default:throw Error(le(163))}$l||512&t.flags&&sc(t)}catch(d){Eu(t,t.return,d)}}if(t===e){tc=null;break}if(null!==(n=t.sibling)){n.return=t.return,tc=n;break}tc=t.return}}function Mc(e){for(;null!==tc;){var t=tc;if(t===e){tc=null;break}var n=t.sibling;if(null!==n){n.return=t.return,tc=n;break}tc=t.return}}function Ac(e){for(;null!==tc;){var t=tc;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oc(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var a=t.return;try{sc(t)}catch(l){Eu(t,a,l)}break;case 5:var o=t.return;try{sc(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){tc=null;break}var s=t.sibling;if(null!==s){s.return=t.return,tc=s;break}tc=t.return}}var Tc,Ec=Math.ceil,Cc=Se.ReactCurrentDispatcher,Pc=Se.ReactCurrentOwner,kc=Se.ReactCurrentBatchConfig,Rc=0,Lc=null,Ic=null,Nc=0,Dc=0,Oc=Ea(0),zc=0,Uc=null,Fc=0,Bc=0,Vc=0,jc=null,Hc=null,Wc=0,Gc=1/0,qc=null,Xc=!1,Yc=null,Zc=null,Jc=!1,Kc=null,Qc=0,$c=0,eu=null,tu=-1,nu=0;function ru(){return 0!=(6&Rc)?en():-1!==tu?tu:tu=en()}function iu(e){return 0==(1&e.mode)?1:0!=(2&Rc)&&0!==Nc?Nc&-Nc:null!==bo.transition?(0===nu&&(nu=bn()),nu):0!==(e=Sn)?e:e=void 0===(e=window.event)?16:er(e.type)}function au(e,t,n,r){if(50<$c)throw $c=0,eu=null,Error(le(185));_n(e,n,r),0!=(2&Rc)&&e===Lc||(e===Lc&&(0==(2&Rc)&&(Bc|=n),4===zc&&uu(e,Nc)),ou(e,r),1===n&&0===Rc&&0==(1&t.mode)&&(Gc=en()+500,ja&&Ga()))}function ou(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-un(a),s=1<<o,l=i[o];-1===l?0!=(s&n)&&0==(s&r)||(i[o]=vn(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=gn(e,e===Lc?Nc:0);if(0===r)null!==n&&Kt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Kt(n),1===t)0===e.tag?function(e){ja=!0,Wa(e)}(hu.bind(null,e)):Wa(hu.bind(null,e)),ca((function(){0==(6&Rc)&&Ga()})),n=null;else{switch(Mn(r)){case 1:n=nn;break;case 4:n=rn;break;case 16:default:n=an;break;case 536870912:n=sn}n=Lu(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(tu=-1,nu=0,0!=(6&Rc))throw Error(le(327));var n=e.callbackNode;if(Au()&&e.callbackNode!==n)return null;var r=gn(e,e===Lc?Nc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=bu(e,r);else{t=r;var i=Rc;Rc|=2;var a=vu();for(Lc===e&&Nc===t||(qc=null,Gc=en()+500,mu(e,t));;)try{_u();break}catch(s){gu(e,s)}Ao(),Cc.current=a,Rc=i,null!==Ic?t=0:(Lc=null,Nc=0,t=zc)}if(0!==t){if(2===t&&(0!==(i=yn(e))&&(r=i,t=lu(e,i))),1===t)throw n=Uc,mu(e,0),uu(e,r),ou(e,en()),n;if(6===t)uu(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ui(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=bu(e,r))&&(0!==(a=yn(e))&&(r=a,t=lu(e,a))),1===t))throw n=Uc,mu(e,0),uu(e,r),ou(e,en()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:case 5:Mu(e,Hc,qc);break;case 3:if(uu(e,r),(130023424&r)===r&&10<(t=Wc+500-en())){if(0!==gn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ru(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oa(Mu.bind(null,e,Hc,qc),t);break}Mu(e,Hc,qc);break;case 4:if(uu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-un(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=en()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ec(r/1960))-r)){e.timeoutHandle=oa(Mu.bind(null,e,Hc,qc),r);break}Mu(e,Hc,qc);break;default:throw Error(le(329))}}}return ou(e,en()),e.callbackNode===n?su.bind(null,e):null}function lu(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(mu(e,t).flags|=256),2!==(e=bu(e,t))&&(t=Hc,Hc=n,null!==t&&cu(t)),e}function cu(e){null===Hc?Hc=e:Hc.push.apply(Hc,e)}function uu(e,t){for(t&=~Vc,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function hu(e){if(0!=(6&Rc))throw Error(le(327));Au();var t=gn(e,0);if(0==(1&t))return ou(e,en()),null;var n=bu(e,t);if(0!==e.tag&&2===n){var r=yn(e);0!==r&&(t=r,n=lu(e,r))}if(1===n)throw n=Uc,mu(e,0),uu(e,t),ou(e,en()),n;if(6===n)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mu(e,Hc,qc),ou(e,en()),null}function du(e,t){var n=Rc;Rc|=1;try{return e(t)}finally{0===(Rc=n)&&(Gc=en()+500,ja&&Ga())}}function fu(e){null!==Kc&&0===Kc.tag&&0==(6&Rc)&&Au();var t=Rc;Rc|=1;var n=kc.transition,r=Sn;try{if(kc.transition=null,Sn=1,e)return e()}finally{Sn=r,kc.transition=n,0==(6&(Rc=t))&&Ga()}}function pu(){Dc=Oc.current,Ca(Oc)}function mu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,sa(n)),null!==Ic)for(n=Ic.return;null!==n;){var r=n;switch(io(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oa();break;case 3:ls(),Ca(La),Ca(Ra),ps();break;case 5:us(r);break;case 4:ls();break;case 13:case 19:Ca(hs);break;case 10:To(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Lc=e,Ic=e=Ou(e.current,null),Nc=Dc=t,zc=0,Uc=null,Vc=Bc=Fc=0,Hc=jc=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ko=null}return e}function gu(e,t){for(;;){var n=Ic;try{if(Ao(),ms.current=cl,_s){for(var r=ys.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_s=!1}if(vs=0,xs=bs=ys=null,ws=!1,Ss=0,Pc.current=null,null===n||null===n.return){zc=1,Uc=t,Ic=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Nc,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=s,h=u.tag;if(0==(1&u.mode)&&(0===h||11===h||15===h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=bl(o);if(null!==f){f.flags&=-257,xl(f,o,s,0,t),1&f.mode&&yl(a,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(0==(1&t)){yl(a,c,t),yu();break e}l=Error(le(426))}else if(so&&1&s.mode){var g=bl(o);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),xl(g,o,s,0,t),yo(fl(l,s));break e}}a=l=fl(l,s),4!==zc&&(zc=2),null===jc?jc=[a]:jc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,gl(0,l,t));break e;case 1:s=l;var v=a.type,y=a.stateNode;if(0==(128&a.flags)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Zc||!Zc.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,vl(a,s,t));break e}}a=a.return}while(null!==a)}Su(n)}catch(b){t=b,Ic===n&&null!==n&&(Ic=n=n.return);continue}break}}function vu(){var e=Cc.current;return Cc.current=cl,null===e?cl:e}function yu(){0!==zc&&3!==zc&&2!==zc||(zc=4),null===Lc||0==(268435455&Fc)&&0==(268435455&Bc)||uu(Lc,Nc)}function bu(e,t){var n=Rc;Rc|=2;var r=vu();for(Lc===e&&Nc===t||(qc=null,mu(e,t));;)try{xu();break}catch(i){gu(e,i)}if(Ao(),Rc=n,Cc.current=r,null!==Ic)throw Error(le(261));return Lc=null,Nc=0,zc}function xu(){for(;null!==Ic;)wu(Ic)}function _u(){for(;null!==Ic&&!Qt();)wu(Ic)}function wu(e){var t=Tc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?Su(e):Ic=t,Pc.current=null}function Su(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Jl(n,t,Dc)))return void(Ic=n)}else{if(null!==(n=Kl(n,t)))return n.flags&=32767,void(Ic=n);if(null===e)return zc=6,void(Ic=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ic=t);Ic=t=e}while(null!==t);0===zc&&(zc=5)}function Mu(e,t,n){var r=Sn,i=kc.transition;try{kc.transition=null,Sn=1,function(e,t,n,r){do{Au()}while(null!==Kc);if(0!=(6&Rc))throw Error(le(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-un(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Lc&&(Ic=Lc=null,Nc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Jc||(Jc=!0,Lu(an,(function(){return Au(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=kc.transition,kc.transition=null;var o=Sn;Sn=1;var s=Rc;Rc|=4,Pc.current=null,function(e,t){if(ra=Yn,gi(e=mi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(s=o+i),h!==a||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=o),d===a&&++u===r&&(l=o),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ia={focusedElem:e,selectionRange:n},Yn=!1,tc=t;null!==tc;)if(e=(t=tc).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,tc=e;else for(;null!==tc;){t=tc;try{var p=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:xo(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(le(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,tc=e;break}tc=t.return}p=ic,ic=!1}(e,n),bc(n,e),vi(ia),Yn=!!ra,ia=ra=null,e.current=n,_c(n),$t(),Rc=s,Sn=o,kc.transition=a}else e.current=n;if(Jc&&(Jc=!1,Kc=e,Qc=i),a=e.pendingLanes,0===a&&(Zc=null),function(e){if(cn&&"function"==typeof cn.onCommitFiberRoot)try{cn.onCommitFiberRoot(ln,e,void 0,128==(128&e.current.flags))}catch(t){}}(n.stateNode),ou(e,en()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xc)throw Xc=!1,e=Yc,Yc=null,e;0!=(1&Qc)&&0!==e.tag&&Au(),a=e.pendingLanes,0!=(1&a)?e===eu?$c++:($c=0,eu=e):$c=0,Ga()}(e,t,n,r)}finally{kc.transition=i,Sn=r}return null}function Au(){if(null!==Kc){var e=Mn(Qc),t=kc.transition,n=Sn;try{if(kc.transition=null,Sn=16>e?16:e,null===Kc)var r=!1;else{if(e=Kc,Kc=null,Qc=0,0!=(6&Rc))throw Error(le(331));var i=Rc;for(Rc|=4,tc=e.current;null!==tc;){var a=tc,o=a.child;if(0!=(16&tc.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(tc=c;null!==tc;){var u=tc;switch(u.tag){case 0:case 11:case 15:ac(8,u,a)}var h=u.child;if(null!==h)h.return=u,tc=h;else for(;null!==tc;){var d=(u=tc).sibling,f=u.return;if(lc(u),u===c){tc=null;break}if(null!==d){d.return=f,tc=d;break}tc=f}}}var p=a.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}tc=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,tc=o;else e:for(;null!==tc;){if(0!=(2048&(a=tc).flags))switch(a.tag){case 0:case 11:case 15:ac(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,tc=v;break e}tc=a.return}}var y=e.current;for(tc=y;null!==tc;){var b=(o=tc).child;if(0!=(2064&o.subtreeFlags)&&null!==b)b.return=o,tc=b;else e:for(o=y;null!==tc;){if(0!=(2048&(s=tc).flags))try{switch(s.tag){case 0:case 11:case 15:oc(9,s)}}catch(_){Eu(s,s.return,_)}if(s===o){tc=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,tc=x;break e}tc=s.return}}if(Rc=i,Ga(),cn&&"function"==typeof cn.onPostCommitFiberRoot)try{cn.onPostCommitFiberRoot(ln,e)}catch(_){}r=!0}return r}finally{Sn=n,kc.transition=t}}return!1}function Tu(e,t,n){e=Uo(e,t=gl(0,t=fl(n,t),1),1),t=ru(),null!==e&&(_n(e,1,t),ou(e,t))}function Eu(e,t,n){if(3===e.tag)Tu(e,e,n);else for(;null!==t;){if(3===t.tag){Tu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Zc||!Zc.has(r))){t=Uo(t,e=vl(t,e=fl(n,e),1),1),e=ru(),null!==t&&(_n(t,1,e),ou(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ru(),e.pingedLanes|=e.suspendedLanes&n,Lc===e&&(Nc&n)===n&&(4===zc||3===zc&&(130023424&Nc)===Nc&&500>en()-Wc?mu(e,0):Vc|=n),ou(e,t)}function Pu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=pn,0==(130023424&(pn<<=1))&&(pn=4194304)));var n=ru();null!==(e=Io(e,t))&&(_n(e,t,n),ou(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pu(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}null!==r&&r.delete(t),Pu(e,n)}function Lu(e,t){return Jt(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Iu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)Du(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case Te:return Uu(n.children,i,a,t);case Ee:o=8,i|=8;break;case Ce:return(e=Nu(12,n,t,2|i)).elementType=Ce,e.lanes=a,e;case Le:return(e=Nu(13,n,t,i)).elementType=Le,e.lanes=a,e;case Ie:return(e=Nu(19,n,t,i)).elementType=Ie,e.lanes=a,e;case Oe:return Fu(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Pe:o=10;break e;case ke:o=9;break e;case Re:o=11;break e;case Ne:o=14;break e;case De:o=16,r=null;break e}throw Error(le(130,null==e?e:typeof e,""))}return(t=Nu(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=Oe,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Vu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xn(0),this.expirationTimes=xn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hu(e,t,n,r,i,a,o,s,l){return e=new ju(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(a),e}function Wu(e){if(!e)return ka;e:{if(Gt(e=e._reactInternals)!==e||1!==e.tag)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(le(171))}if(1===e.tag){var n=e.type;if(Da(n))return Ua(e,n,t)}return t}function Gu(e,t,n,r,i,a,o,s,l){return(e=Hu(n,r,!0,e,0,a,0,s,l)).context=Wu(null),n=e.current,(a=zo(r=ru(),i=iu(n))).callback=null!=t?t:null,Uo(n,a,i),e.current.lanes=i,_n(e,i,r),ou(e,r),e}function qu(e,t,n,r){var i=t.current,a=ru(),o=iu(i);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,o))&&(au(e,i,o,a),Fo(e,i,o)),o}function Xu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}Tc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||La.current)wl=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return wl=!1,function(e,t,n){switch(t.tag){case 3:Ll(t),vo();break;case 5:cs(t);break;case 1:Da(t.type)&&Fa(t);break;case 4:ss(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pa(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pa(hs,1&hs.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Bl(e,t,n):(Pa(hs,1&hs.current),null!==(e=Xl(e,t,n))?e.sibling:null);Pa(hs,1&hs.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Gl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pa(hs,hs.current),r)break;return null;case 22:case 23:return t.lanes=0,El(e,t,n)}return Xl(e,t,n)}(e,t,n);wl=0!=(131072&e.flags)}else wl=!1,so&&0!=(1048576&t.flags)&&no(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var i=Na(t,Ra.current);Co(t,n),i=Es(null,t,r,e,i,n);var a=Cs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(r)?(a=!0,Fa(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=Go,t.stateNode=i,i._reactInternals=t,Zo(t,r,e,n),t=Rl(null,t,r,!0,a,n)):(t.tag=0,so&&a&&ro(t),Sl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Du(e)?1:0;if(null!=e){if((e=e.$$typeof)===Re)return 11;if(e===Ne)return 14}return 2}(r),e=xo(r,e),i){case 0:t=Pl(null,t,r,e,n);break e;case 1:t=kl(null,t,r,e,n);break e;case 11:t=Ml(null,t,r,e,n);break e;case 14:t=Al(null,t,r,xo(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Pl(e,t,r,i=t.elementType===r?i:xo(r,i),n);case 1:return r=t.type,i=t.pendingProps,kl(e,t,r,i=t.elementType===r?i:xo(r,i),n);case 3:e:{if(Ll(t),null===e)throw Error(le(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),Vo(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Il(e,t,r,n,i=fl(Error(le(423)),t));break e}if(r!==i){t=Il(e,t,r,n,i=fl(Error(le(424)),t));break e}for(oo=da(t.stateNode.containerInfo.firstChild),ao=t,so=!0,lo=null,n=ts(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vo(),r===i){t=Xl(e,t,n);break e}Sl(e,t,r,n)}t=t.child}return t;case 5:return cs(t),null===e&&fo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,aa(r,i)?o=null:null!==a&&aa(r,a)&&(t.flags|=32),Cl(e,t),Sl(e,t,o,n),t.child;case 6:return null===e&&fo(t),null;case 13:return Bl(e,t,n);case 4:return ss(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=es(t,null,r,n):Sl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ml(e,t,r,i=t.elementType===r?i:xo(r,i),n);case 7:return Sl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Sl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Pa(_o,r._currentValue),r._currentValue=o,null!==a)if(ui(a.value,o)){if(a.children===i.children&&!La.current){t=Xl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=zo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Eo(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(le(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Eo(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Sl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Po(i)),t.flags|=1,Sl(e,t,r,n),t.child;case 14:return i=xo(r=t.type,t.pendingProps),Al(e,t,r,i=xo(r.type,i),n);case 15:return Tl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),ql(e,t),t.tag=1,Da(r)?(e=!0,Fa(t)):e=!1,Co(t,n),Xo(t,r,i),Zo(t,r,i,n),Rl(null,t,r,!0,e,n);case 19:return Gl(e,t,n);case 22:return El(e,t,n)}throw Error(le(156,t.tag))};var Ju="function"==typeof reportError?reportError:function(e){};function Ku(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function eh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function th(){}function nh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Xu(o);s.call(e)}}qu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Xu(o);a.call(e)}}var o=Gu(t,r,e,0,null,!1,0,"",th);return e._reactRootContainer=o,e[va]=o.current,Gi(8===e.nodeType?e.parentNode:e),fu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Xu(l);s.call(e)}}var l=Hu(e,0,!1,null,0,!1,0,"",th);return e._reactRootContainer=l,e[va]=l.current,Gi(8===e.nodeType?e.parentNode:e),fu((function(){qu(t,l,n,r)})),l}(n,t,e,i,r);return Xu(o)}Qu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(le(409));qu(e,t,null,null)},Qu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fu((function(){qu(null,e,null,null)})),t[va]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&0!==t&&t<zn[n].priority;n++);zn.splice(n,0,e),0===n&&Vn(e)}},An=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mn(t.pendingLanes);0!==n&&(wn(t,1|n),ou(t,en()),0==(6&Rc)&&(Gc=en()+500,Ga()))}break;case 13:fu((function(){var t=Io(e,1);if(null!==t){var n=ru();au(t,e,1,n)}})),Zu(e,1)}},Tn=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)au(t,e,134217728,ru());Zu(e,134217728)}},En=function(e){if(13===e.tag){var t=iu(e),n=Io(e,t);if(null!==n)au(n,e,t,ru());Zu(e,t)}},Cn=function(){return Sn},Pn=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}},At=function(e,t,n){switch(t){case"input":if(tt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ma(r);if(!i)throw Error(le(90));Je(r),tt(r,i)}}}break;case"textarea":lt(e,n);break;case"select":null!=(t=n.value)&&at(e,!!n.multiple,t,!1)}},Rt=du,Lt=fu;var rh={usingClientEntryPoint:!1,Events:[wa,Sa,Ma,Pt,kt,du]},ih={findFiberByHostInstance:_a,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ah={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Yt(e))?null:e.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ln=oh.inject(ah),cn=oh}catch(ft){}}ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rh,ne.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(le(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ae,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},ne.createRoot=function(e,t){if(!$u(e))throw Error(le(299));var n=!1,r="",i=Ju;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hu(e,1,!1,null,0,n,0,r,i),e[va]=t.current,Gi(8===e.nodeType?e.parentNode:e),new Ku(t)},ne.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(le(188));throw e=Object.keys(e).join(","),Error(le(268,e))}return e=null===(e=Yt(t))?null:e.stateNode},ne.flushSync=function(e){return fu(e)},ne.hydrate=function(e,t,n){if(!eh(t))throw Error(le(200));return nh(null,e,t,!0,n)},ne.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(le(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Ju;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Gu(t,null,e,1,null!=n?n:null,i,0,a,o),e[va]=t.current,Gi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},ne.render=function(e,t,n){if(!eh(t))throw Error(le(200));return nh(null,e,t,!1,n)},ne.unmountComponentAtNode=function(e){if(!eh(e))throw Error(le(40));return!!e._reactRootContainer&&(fu((function(){nh(null,null,e,!1,(function(){e._reactRootContainer=null,e[va]=null}))})),!0)},ne.unstable_batchedUpdates=du,ne.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eh(n))throw Error(le(200));if(null==e||void 0===e._reactInternals)throw Error(le(38));return nh(e,t,n,!1,r)},ne.version="18.2.0-next-9e3b772b8-20220608",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),te.exports=ne;var sh=te.exports;const lh=n(sh);var ch,uh=sh;ch=ee.createRoot=uh.createRoot,ee.hydrateRoot=uh.hydrateRoot;
/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(this,arguments)}var dh,fh;(fh=dh||(dh={})).Pop="POP",fh.Push="PUSH",fh.Replace="REPLACE";const ph="popstate";function mh(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=dh.Pop,l=null,c=u();null==c&&(c=0,o.replaceState(hh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){s=dh.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function d(e,t){s=dh.Push;let r=bh(m.location,e,t);n&&n(r,e),c=u()+1;let h=yh(r,c),d=m.createHref(r);try{o.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}a&&l&&l({action:s,location:m.location,delta:1})}function f(e,t){s=dh.Replace;let r=bh(m.location,e,t);n&&n(r,e),c=u();let i=yh(r,c),h=m.createHref(r);o.replaceState(i,"",h),a&&l&&l({action:s,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:xh(e);return gh(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ph,h),l=e,()=>{i.removeEventListener(ph,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:d,replace:f,go:e=>o.go(e)};return m}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return bh("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:xh(t)}),null,e)}function gh(e,t){if(!1===e||null==e)throw new Error(t)}function vh(e,t){if(!e)try{throw new Error(t)}catch(n){}}function yh(e,t){return{usr:e.state,key:e.key,idx:t}}function bh(e,t,n,r){return void 0===n&&(n=null),hh({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?_h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function xh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function _h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var wh,Sh;function Mh(e,t,n){void 0===n&&(n="/");let r=Uh(("string"==typeof t?_h(t):t).pathname||"/",n);if(null==r)return null;let i=Ah(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o)a=Dh(i[o],zh(r));return a}function Ah(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(gh(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=jh([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(gh(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Ah(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Nh(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Th(e.path))i(e,t,r);else i(e,t)})),t}function Th(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=Th(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}(Sh=wh||(wh={})).data="data",Sh.deferred="deferred",Sh.redirect="redirect",Sh.error="error";const Eh=/^:\w+$/,Ch=3,Ph=2,kh=1,Rh=10,Lh=-2,Ih=e=>"*"===e;function Nh(e,t){let n=e.split("/"),r=n.length;return n.some(Ih)&&(r+=Lh),t&&(r+=Ph),n.filter((e=>!Ih(e))).reduce(((e,t)=>e+(Eh.test(t)?Ch:""===t?kh:Rh)),r)}function Dh(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let e=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Oh({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;a.push({params:r,pathname:jh([i,c.pathname]),pathnameBase:Hh(jh([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=jh([i,c.pathnameBase]))}return a}function Oh(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);vh("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return vh(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function zh(e){try{return decodeURI(e)}catch(t){return vh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Uh(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Fh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Bh(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Vh(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=_h(e):(i=hh({},e),gh(!i.pathname||!i.pathname.includes("?"),Fh("?","pathname","search",i)),gh(!i.pathname||!i.pathname.includes("#"),Fh("#","pathname","hash",i)),gh(!i.search||!i.search.includes("#"),Fh("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?_h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Wh(r),hash:Gh(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const jh=e=>e.join("/").replace(/\/\/+/g,"/"),Hh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wh=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Gh=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const qh=["post","put","patch","delete"];new Set(qh);const Xh=["get",...qh];
/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(this,arguments)}new Set(Xh);const Zh=B.createContext(null),Jh=B.createContext(null),Kh=B.createContext(null),Qh=B.createContext(null),$h=B.createContext({outlet:null,matches:[],isDataRoute:!1}),ed=B.createContext(null);function td(){return null!=B.useContext(Qh)}function nd(){return td()||gh(!1),B.useContext(Qh).location}function rd(e){B.useContext(Kh).static||B.useLayoutEffect(e)}function id(){let{isDataRoute:e}=B.useContext($h);return e?function(){let{router:e}=function(e){let t=B.useContext(Zh);return t||gh(!1),t}(ud.UseNavigateStable),t=dd(hd.UseNavigateStable),n=B.useRef(!1);return rd((()=>{n.current=!0})),B.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Yh({fromRouteId:t},i)))}),[e,t])}():function(){td()||gh(!1);let e=B.useContext(Zh),{basename:t,navigator:n}=B.useContext(Kh),{matches:r}=B.useContext($h),{pathname:i}=nd(),a=JSON.stringify(Bh(r).map((e=>e.pathnameBase))),o=B.useRef(!1);return rd((()=>{o.current=!0})),B.useCallback((function(r,s){if(void 0===s&&(s={}),!o.current)return;if("number"==typeof r)return void n.go(r);let l=Vh(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:jh([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)}),[t,n,a,i,e])}()}function ad(e,t){return function(e,t,n){td()||gh(!1);let{navigator:r}=B.useContext(Kh),{matches:i}=B.useContext($h),a=i[i.length-1],o=a?a.params:{};!a||a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l,c=nd();if(t){var u;let e="string"==typeof t?_h(t):t;"/"===s||(null==(u=e.pathname)?void 0:u.startsWith(s))||gh(!1),l=e}else l=c;let h=l.pathname||"/",d="/"===s?h:h.slice(s.length)||"/",f=Mh(e,{pathname:d}),p=function(e,t,n){var r,i;void 0===t&&(t=[]);void 0===n&&(n=null);if(null==e){if(null==(i=n)||!i.errors)return null;e=n.matches}let a=e,o=null==(r=n)?void 0:r.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||gh(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,r,i)=>{let s=r.route.id?null==o?void 0:o[r.route.id]:null,l=null;n&&(l=r.route.errorElement||sd);let c=t.concat(a.slice(0,i+1)),u=()=>{let t;return t=s?l:r.route.Component?B.createElement(r.route.Component,null):r.route.element?r.route.element:e,B.createElement(cd,{match:r,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?B.createElement(ld,{location:n.location,revalidation:n.revalidation,component:l,error:s,children:u(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):u()}),null)}(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:jh([s,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:jh([s,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n);if(t&&p)return B.createElement(Qh.Provider,{value:{location:Yh({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:dh.Pop}},p);return p}(e,t)}function od(){let e=function(){var e;let t=B.useContext(ed),n=function(e){let t=B.useContext(Jh);return t||gh(!1),t}(hd.UseRouteError),r=dd(hd.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:r},n):null,null)}const sd=B.createElement(od,null);class ld extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return this.state.error?B.createElement($h.Provider,{value:this.props.routeContext},B.createElement(ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cd(e){let{routeContext:t,match:n,children:r}=e,i=B.useContext(Zh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement($h.Provider,{value:t},r)}var ud=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ud||{}),hd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hd||{});function dd(e){let t=function(e){let t=B.useContext($h);return t||gh(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||gh(!1),n.route.id}function fd(e){let{to:t,replace:n,state:r,relative:i}=e;td()||gh(!1);let{matches:a}=B.useContext($h),{pathname:o}=nd(),s=id(),l=Vh(t,Bh(a).map((e=>e.pathnameBase)),o,"path"===i),c=JSON.stringify(l);return B.useEffect((()=>s(JSON.parse(c),{replace:n,state:r,relative:i})),[s,c,i,n,r]),null}function pd(e){gh(!1)}function md(e){let{basename:t="/",children:n=null,location:r,navigationType:i=dh.Pop,navigator:a,static:o=!1}=e;td()&&gh(!1);let s=t.replace(/^\/*/,"/"),l=B.useMemo((()=>({basename:s,navigator:a,static:o})),[s,a,o]);"string"==typeof r&&(r=_h(r));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=r,p=B.useMemo((()=>{let e=Uh(c,s);return null==e?null:{location:{pathname:e,search:u,hash:h,state:d,key:f},navigationType:i}}),[s,c,u,h,d,f,i]);return null==p?null:B.createElement(Kh.Provider,{value:l},B.createElement(Qh.Provider,{children:n,value:p}))}function gd(e){let{children:t,location:n}=e;return ad(vd(t),n)}function vd(e,t){void 0===t&&(t=[]);let n=[];return B.Children.forEach(e,((e,r)=>{if(!B.isValidElement(e))return;let i=[...t,r];if(e.type===B.Fragment)return void n.push.apply(n,vd(e.props.children,i));e.type!==pd&&gh(!1),e.props.index&&e.props.children&&gh(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=vd(e.props.children,i)),n.push(a)})),n}
/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */new Promise((()=>{}));const yd=j.startTransition;function bd(e){let{basename:t,children:n,future:r,window:i}=e,a=B.useRef();null==a.current&&(a.current=mh({window:i,v5Compat:!0}));let o=a.current,[s,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=B.useCallback((e=>{c&&yd?yd((()=>l(e))):l(e)}),[l,c]);return B.useLayoutEffect((()=>o.listen(u)),[o,u]),B.createElement(md,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var xd,_d,wd,Sd;(_d=xd||(xd={})).UseScrollRestoration="useScrollRestoration",_d.UseSubmit="useSubmit",_d.UseSubmitFetcher="useSubmitFetcher",_d.UseFetcher="useFetcher",_d.useViewTransitionState="useViewTransitionState",(Sd=wd||(wd={})).UseFetcher="useFetcher",Sd.UseFetchers="useFetchers",Sd.UseScrollRestoration="useScrollRestoration";
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const Md="148",Ad={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Td={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ed=0,Cd=1,Pd=2,kd=1,Rd=2,Ld=3,Id=0,Nd=1,Dd=2,Od=0,zd=1,Ud=2,Fd=3,Bd=4,Vd=5,jd=100,Hd=101,Wd=102,Gd=103,qd=104,Xd=200,Yd=201,Zd=202,Jd=203,Kd=204,Qd=205,$d=206,ef=207,tf=208,nf=209,rf=210,af=0,of=1,sf=2,lf=3,cf=4,uf=5,hf=6,df=7,ff=0,pf=1,mf=2,gf=0,vf=1,yf=2,bf=3,xf=4,_f=5,wf=300,Sf=301,Mf=302,Af=303,Tf=304,Ef=306,Cf=1e3,Pf=1001,kf=1002,Rf=1003,Lf=1004,If=1005,Nf=1006,Df=1007,Of=1008,zf=1009,Uf=1010,Ff=1011,Bf=1012,Vf=1013,jf=1014,Hf=1015,Wf=1016,Gf=1017,qf=1018,Xf=1020,Yf=1021,Zf=1022,Jf=1023,Kf=1024,Qf=1025,$f=1026,ep=1027,tp=1028,np=1029,rp=1030,ip=1031,ap=1033,op=33776,sp=33777,lp=33778,cp=33779,up=35840,hp=35841,dp=35842,fp=35843,pp=36196,mp=37492,gp=37496,vp=37808,yp=37809,bp=37810,xp=37811,_p=37812,wp=37813,Sp=37814,Mp=37815,Ap=37816,Tp=37817,Ep=37818,Cp=37819,Pp=37820,kp=37821,Rp=36492,Lp=2300,Ip=2301,Np=2302,Dp=2400,Op=2401,zp=2402,Up=2500,Fp=2501,Bp=3e3,Vp=3001,jp=3201,Hp=0,Wp=1,Gp="srgb",qp="srgb-linear",Xp=7680,Yp=35044,Zp="300 es",Jp=1035;class Kp{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Qp=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $p=1234567;const em=Math.PI/180,tm=180/Math.PI;function nm(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Qp[255&e]+Qp[e>>8&255]+Qp[e>>16&255]+Qp[e>>24&255]+"-"+Qp[255&t]+Qp[t>>8&255]+"-"+Qp[t>>16&15|64]+Qp[t>>24&255]+"-"+Qp[63&n|128]+Qp[n>>8&255]+"-"+Qp[n>>16&255]+Qp[n>>24&255]+Qp[255&r]+Qp[r>>8&255]+Qp[r>>16&255]+Qp[r>>24&255]).toLowerCase()}function rm(e,t,n){return Math.max(t,Math.min(n,e))}function im(e,t){return(e%t+t)%t}function am(e,t,n){return(1-n)*e+n*t}function om(e){return 0==(e&e-1)&&0!==e}function sm(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function lm(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function cm(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function um(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var hm=Object.freeze({__proto__:null,DEG2RAD:em,RAD2DEG:tm,generateUUID:nm,clamp:rm,euclideanModulo:im,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:am,damp:function(e,t,n,r){return am(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(im(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&($p=e);let t=$p+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*em},radToDeg:function(e){return e*tm},isPowerOfTwo:om,ceilPowerOfTwo:sm,floorPowerOfTwo:lm,setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*h,l*d,s*c);break;case"YZY":e.set(l*d,s*u,l*h,s*c);break;case"ZXZ":e.set(l*h,l*d,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c)}},normalize:um,denormalize:cm});class dm{constructor(e=0,t=0){dm.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fm{constructor(){fm.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,i,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=a*p+o*v+s*x,i[3]=a*m+o*y+s*_,i[6]=a*g+o*b+s*w,i[1]=l*p+c*v+u*x,i[4]=l*m+c*y+u*_,i[7]=l*g+c*b+u*w,i[2]=h*p+d*v+f*x,i[5]=h*m+d*y+f*_,i[8]=h*g+d*b+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,h=o*s-c*i,d=l*i-a*s,f=t*u+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(pm.makeScale(e,t)),this}rotate(e){return this.premultiply(pm.makeRotation(-e)),this}translate(e,t){return this.premultiply(pm.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const pm=new fm;function mm(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const gm={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function vm(e,t){return new gm[e](t)}function ym(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function bm(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function xm(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const _m={[Gp]:{[qp]:bm},[qp]:{[Gp]:xm}},wm={legacyMode:!0,get workingColorSpace(){return qp},set workingColorSpace(e){},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(_m[t]&&void 0!==_m[t][n]){const r=_m[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Sm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mm={r:0,g:0,b:0},Am={h:0,s:0,l:0},Tm={h:0,s:0,l:0};function Em(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Cm(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}class Pm{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Gp){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,wm.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=wm.workingColorSpace){return this.r=e,this.g=t,this.b=n,wm.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=wm.workingColorSpace){if(e=im(e,1),t=rm(t,0,1),n=rm(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Em(i,r,e+1/3),this.g=Em(i,r,e),this.b=Em(i,r,e-1/3)}return wm.toWorkingColorSpace(this,r),this}setStyle(e,t=Gp){function n(e){void 0!==e&&parseFloat(e)}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,wm.toWorkingColorSpace(this,t),n(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,wm.toWorkingColorSpace(this,t),n(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const r=parseFloat(e[1])/360,i=parseFloat(e[2])/100,a=parseFloat(e[3])/100;return n(e[4]),this.setHSL(r,i,a,t)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,wm.toWorkingColorSpace(this,t),this;if(6===n)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,wm.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Gp){const n=Sm[e.toLowerCase()];return void 0!==n&&this.setHex(n,t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bm(e.r),this.g=bm(e.g),this.b=bm(e.b),this}copyLinearToSRGB(e){return this.r=xm(e.r),this.g=xm(e.g),this.b=xm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Gp){return wm.fromWorkingColorSpace(Cm(this,Mm),e),rm(255*Mm.r,0,255)<<16^rm(255*Mm.g,0,255)<<8^rm(255*Mm.b,0,255)<<0}getHexString(e=Gp){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wm.workingColorSpace){wm.fromWorkingColorSpace(Cm(this,Mm),t);const n=Mm.r,r=Mm.g,i=Mm.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=wm.workingColorSpace){return wm.fromWorkingColorSpace(Cm(this,Mm),t),e.r=Mm.r,e.g=Mm.g,e.b=Mm.b,e}getStyle(e=Gp){return wm.fromWorkingColorSpace(Cm(this,Mm),e),e!==Gp?`color(${e} ${Mm.r} ${Mm.g} ${Mm.b})`:`rgb(${255*Mm.r|0},${255*Mm.g|0},${255*Mm.b|0})`}offsetHSL(e,t,n){return this.getHSL(Am),Am.h+=e,Am.s+=t,Am.l+=n,this.setHSL(Am.h,Am.s,Am.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Am),e.getHSL(Tm);const n=am(Am.h,Tm.h,t),r=am(Am.s,Tm.s,t),i=am(Am.l,Tm.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let km;Pm.NAMES=Sm;class Rm{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===km&&(km=ym("canvas")),km.width=e.width,km.height=e.height;const n=km.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=km}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=ym("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*bm(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*bm(t[e]/255)):t[e]=bm(t[e]);return{data:t,width:e.width,height:e.height}}return e}}class Lm{constructor(e=null){this.isSource=!0,this.uuid=nm(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(Im(r[t].image)):e.push(Im(r[t]))}else e=Im(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function Im(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Rm.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}let Nm=0;class Dm extends Kp{constructor(e=Dm.DEFAULT_IMAGE,t=Dm.DEFAULT_MAPPING,n=Pf,r=Pf,i=Nf,a=Of,o=Jf,s=zf,l=Dm.DEFAULT_ANISOTROPY,c=Bp){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Nm++}),this.uuid=nm(),this.name="",this.source=new Lm(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new dm(0,0),this.repeat=new dm(1,1),this.center=new dm(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fm,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==wf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Cf:e.x=e.x-Math.floor(e.x);break;case Pf:e.x=e.x<0?0:1;break;case kf:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Cf:e.y=e.y-Math.floor(e.y);break;case Pf:e.y=e.y<0?0:1;break;case kf:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}Dm.DEFAULT_IMAGE=null,Dm.DEFAULT_MAPPING=wf,Dm.DEFAULT_ANISOTROPY=1;class Om{constructor(e=0,t=0,n=0,r=1){Om.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<a&&Math.abs(u-p)<a&&Math.abs(f-m)<a){if(Math.abs(c+h)<o&&Math.abs(u+p)<o&&Math.abs(f+m)<o&&Math.abs(l+d+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(d+1)/2,v=(g+1)/2,y=(c+h)/4,b=(u+p)/4,x=(f+m)/4;return e>s&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=x/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class zm extends Kp{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Om(0,0,e,t),this.scissorTest=!1,this.viewport=new Om(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Dm(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Nf,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Lm(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Um extends Dm{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Rf,this.minFilter=Rf,this.wrapR=Pf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fm extends Dm{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Rf,this.minFilter=Rf,this.wrapR=Pf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Bm{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==h||l!==d||c!==f){let e=1-o;const t=s*h+l*d+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*n;if(s=s*e+h*i,l=l*e+d*i,c=c*e+f*i,u=u*e+p*i,e===1-o){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+c*u+s*d-l*h,e[t+1]=s*f+c*h+l*u-o*d,e[t+2]=l*f+c*d+o*h-s*u,e[t+3]=c*f-o*u-s*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],h=n+o+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rm(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vm{constructor(e=0,t=0,n=0){Vm.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Hm.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Hm.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,c=s*n+o*t-i*r,u=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=l*s+h*-i+c*-o-u*-a,this.y=c*s+h*-a+u*-i-l*-o,this.z=u*s+h*-o+l*-a-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return jm.copy(this).projectOnVector(e),this.sub(jm)}reflect(e){return this.sub(jm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(rm(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const jm=new Vm,Hm=new Bm;class Wm{constructor(e=new Vm(1/0,1/0,1/0),t=new Vm(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.length;s<l;s+=3){const l=e[s],c=e[s+1],u=e[s+2];l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.count;s<l;s++){const l=e.getX(s),c=e.getY(s),u=e.getZ(s);l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=qm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)qm.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(qm)}else null===n.boundingBox&&n.computeBoundingBox(),Xm.copy(n.boundingBox),Xm.applyMatrix4(e.matrixWorld),this.union(Xm);const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qm),qm.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(eg),tg.subVectors(this.max,eg),Ym.subVectors(e.a,eg),Zm.subVectors(e.b,eg),Jm.subVectors(e.c,eg),Km.subVectors(Zm,Ym),Qm.subVectors(Jm,Zm),$m.subVectors(Ym,Jm);let t=[0,-Km.z,Km.y,0,-Qm.z,Qm.y,0,-$m.z,$m.y,Km.z,0,-Km.x,Qm.z,0,-Qm.x,$m.z,0,-$m.x,-Km.y,Km.x,0,-Qm.y,Qm.x,0,-$m.y,$m.x,0];return!!ig(t,Ym,Zm,Jm,tg)&&(t=[1,0,0,0,1,0,0,0,1],!!ig(t,Ym,Zm,Jm,tg)&&(ng.crossVectors(Km,Qm),t=[ng.x,ng.y,ng.z],ig(t,Ym,Zm,Jm,tg)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return qm.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(qm).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Gm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gm)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Gm=[new Vm,new Vm,new Vm,new Vm,new Vm,new Vm,new Vm,new Vm],qm=new Vm,Xm=new Wm,Ym=new Vm,Zm=new Vm,Jm=new Vm,Km=new Vm,Qm=new Vm,$m=new Vm,eg=new Vm,tg=new Vm,ng=new Vm,rg=new Vm;function ig(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){rg.fromArray(e,a);const o=i.x*Math.abs(rg.x)+i.y*Math.abs(rg.y)+i.z*Math.abs(rg.z),s=t.dot(rg),l=n.dot(rg),c=r.dot(rg);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const ag=new Wm,og=new Vm,sg=new Vm;class lg{constructor(e=new Vm,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):ag.setFromPoints(e).getCenter(n);let r=0;for(let i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;og.subVectors(e,this.center);const t=og.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(og,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(sg.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(og.copy(e.center).add(sg)),this.expandByPoint(og.copy(e.center).sub(sg))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const cg=new Vm,ug=new Vm,hg=new Vm,dg=new Vm,fg=new Vm,pg=new Vm,mg=new Vm;class gg{constructor(e=new Vm,t=new Vm(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,cg)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=cg.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(cg.copy(this.direction).multiplyScalar(t).add(this.origin),cg.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){ug.copy(e).add(t).multiplyScalar(.5),hg.copy(t).sub(e).normalize(),dg.copy(this.origin).sub(ug);const i=.5*e.distanceTo(t),a=-this.direction.dot(hg),o=dg.dot(this.direction),s=-dg.dot(hg),l=dg.lengthSq(),c=Math.abs(1-a*a);let u,h,d,f;if(c>0)if(u=a*s-o,h=a*o-s,f=i*c,u>=0)if(h>=-f)if(h<=f){const e=1/c;u*=e,h*=e,d=u*(u+a*h+2*o)+h*(a*u+h+2*s)+l}else h=i,u=Math.max(0,-(a*h+o)),d=-u*u+h*(h+2*s)+l;else h=-i,u=Math.max(0,-(a*h+o)),d=-u*u+h*(h+2*s)+l;else h<=-f?(u=Math.max(0,-(-a*i+o)),h=u>0?-i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l):h<=f?(u=0,h=Math.min(Math.max(-i,-s),i),d=h*(h+2*s)+l):(u=Math.max(0,-(a*i+o)),h=u>0?i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l);else h=a>0?-i:i,u=Math.max(0,-(a*h+o)),d=-u*u+h*(h+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(hg).multiplyScalar(h).add(ug),d}intersectSphere(e,t){cg.subVectors(e.center,this.origin);const n=cg.dot(this.direction),r=cg.dot(cg)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,a=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,a=(e.min.y-h.y)*c),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,cg)}intersectTriangle(e,t,n,r,i){fg.subVectors(t,e),pg.subVectors(n,e),mg.crossVectors(fg,pg);let a,o=this.direction.dot(mg);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}dg.subVectors(this.origin,e);const s=a*this.direction.dot(pg.crossVectors(dg,pg));if(s<0)return null;const l=a*this.direction.dot(fg.cross(dg));if(l<0)return null;if(s+l>o)return null;const c=-a*dg.dot(mg);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class vg{constructor(){vg.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,i,a,o,s,l,c,u,h,d,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new vg).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/yg.setFromMatrixColumn(e,0).length(),i=1/yg.setFromMatrixColumn(e,1).length(),a=1/yg.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*c,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xg,e,_g)}lookAt(e,t,n){const r=this.elements;return Mg.subVectors(e,t),0===Mg.lengthSq()&&(Mg.z=1),Mg.normalize(),wg.crossVectors(n,Mg),0===wg.lengthSq()&&(1===Math.abs(n.z)?Mg.x+=1e-4:Mg.z+=1e-4,Mg.normalize(),wg.crossVectors(n,Mg)),wg.normalize(),Sg.crossVectors(Mg,wg),r[0]=wg.x,r[4]=Sg.x,r[8]=Mg.x,r[1]=wg.y,r[5]=Sg.y,r[9]=Mg.y,r[2]=wg.z,r[6]=Sg.z,r[10]=Mg.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],S=r[8],M=r[12],A=r[1],T=r[5],E=r[9],C=r[13],P=r[2],k=r[6],R=r[10],L=r[14],I=r[3],N=r[7],D=r[11],O=r[15];return i[0]=a*_+o*A+s*P+l*I,i[4]=a*w+o*T+s*k+l*N,i[8]=a*S+o*E+s*R+l*D,i[12]=a*M+o*C+s*L+l*O,i[1]=c*_+u*A+h*P+d*I,i[5]=c*w+u*T+h*k+d*N,i[9]=c*S+u*E+h*R+d*D,i[13]=c*M+u*C+h*L+d*O,i[2]=f*_+p*A+m*P+g*I,i[6]=f*w+p*T+m*k+g*N,i[10]=f*S+p*E+m*R+g*D,i[14]=f*M+p*C+m*L+g*O,i[3]=v*_+y*A+b*P+x*I,i[7]=v*w+y*T+b*k+x*N,i[11]=v*S+y*E+b*R+x*D,i[15]=v*M+y*C+b*L+x*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*s*u-r*l*u-i*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*a*h-r*a*d+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*d-i*a*u+n*a*d+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*h+r*a*u-n*a*h+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*h*l+p*s*d-o*m*d-u*s*g+o*h*g,y=f*h*l-c*m*l-f*s*d+a*m*d+c*s*g-a*h*g,b=c*p*l-f*u*l+f*o*d-a*p*d-c*o*g+a*u*g,x=f*u*s-c*p*s-f*o*h+a*p*h+c*o*m-a*u*m,_=t*v+n*y+r*b+i*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=v*w,e[1]=(p*h*i-u*m*i-p*r*d+n*m*d+u*r*g-n*h*g)*w,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*w,e[3]=(u*s*i-o*h*i-u*r*l+n*h*l+o*r*d-n*s*d)*w,e[4]=y*w,e[5]=(c*m*i-f*h*i+f*r*d-t*m*d-c*r*g+t*h*g)*w,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*g-t*s*g)*w,e[7]=(a*h*i-c*s*i+c*r*l-t*h*l-a*r*d+t*s*d)*w,e[8]=b*w,e[9]=(f*u*i-c*p*i-f*n*d+t*p*d+c*n*g-t*u*g)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*g+t*o*g)*w,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*d-t*o*d)*w,e[12]=x*w,e[13]=(c*p*r-f*u*r+f*n*h-t*p*h-c*n*m+t*u*m)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*w,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*h+t*o*h)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,h=i*l,d=i*c,f=i*u,p=a*c,m=a*u,g=o*u,v=s*l,y=s*c,b=s*u,x=n.x,_=n.y,w=n.z;return r[0]=(1-(p+g))*x,r[1]=(d+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(d-b)*_,r[5]=(1-(h+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(f+y)*w,r[9]=(m-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=yg.set(r[0],r[1],r[2]).length();const a=yg.set(r[4],r[5],r[6]).length(),o=yg.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],bg.copy(this);const s=1/i,l=1/a,c=1/o;return bg.elements[0]*=s,bg.elements[1]*=s,bg.elements[2]*=s,bg.elements[4]*=l,bg.elements[5]*=l,bg.elements[6]*=l,bg.elements[8]*=c,bg.elements[9]*=c,bg.elements[10]*=c,t.setFromRotationMatrix(bg),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){const o=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,a){const o=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-i),u=(t+e)*s,h=(n+r)*l,d=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const yg=new Vm,bg=new vg,xg=new Vm(0,0,0),_g=new Vm(1,1,1),wg=new Vm,Sg=new Vm,Mg=new Vm,Ag=new vg,Tg=new Bm;class Eg{constructor(e=0,t=0,n=0,r=Eg.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(rm(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-rm(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(rm(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-rm(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(rm(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-rm(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,d),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Ag.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ag,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Tg.setFromEuler(this),this.setFromQuaternion(Tg,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){}}Eg.DefaultOrder="XYZ",Eg.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Cg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Pg=0;const kg=new Vm,Rg=new Bm,Lg=new vg,Ig=new Vm,Ng=new Vm,Dg=new Vm,Og=new Bm,zg=new Vm(1,0,0),Ug=new Vm(0,1,0),Fg=new Vm(0,0,1),Bg={type:"added"},Vg={type:"removed"};class jg extends Kp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Pg++}),this.uuid=nm(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jg.DefaultUp.clone();const e=new Vm,t=new Eg,n=new Bm,r=new Vm(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new vg},normalMatrix:{value:new fm}}),this.matrix=new vg,this.matrixWorld=new vg,this.matrixAutoUpdate=jg.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=jg.DefaultMatrixWorldAutoUpdate,this.layers=new Cg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Rg.setFromAxisAngle(e,t),this.quaternion.multiply(Rg),this}rotateOnWorldAxis(e,t){return Rg.setFromAxisAngle(e,t),this.quaternion.premultiply(Rg),this}rotateX(e){return this.rotateOnAxis(zg,e)}rotateY(e){return this.rotateOnAxis(Ug,e)}rotateZ(e){return this.rotateOnAxis(Fg,e)}translateOnAxis(e,t){return kg.copy(e).applyQuaternion(this.quaternion),this.position.add(kg.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(zg,e)}translateY(e){return this.translateOnAxis(Ug,e)}translateZ(e){return this.translateOnAxis(Fg,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Lg.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ig.copy(e):Ig.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Ng.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Lg.lookAt(Ng,Ig,this.up):Lg.lookAt(Ig,Ng,this.up),this.quaternion.setFromRotationMatrix(Lg),r&&(Lg.extractRotation(r.matrixWorld),Rg.setFromRotationMatrix(Lg),this.quaternion.premultiply(Rg.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this||e&&e.isObject3D&&(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Bg)),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Vg)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Vg)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Lg.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Lg.multiply(e.parent.matrixWorld)),e.applyMatrix4(Lg),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ng,e,Dg),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ng,Og,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}jg.DefaultUp=new Vm(0,1,0),jg.DefaultMatrixAutoUpdate=!0,jg.DefaultMatrixWorldAutoUpdate=!0;const Hg=new Vm,Wg=new Vm,Gg=new Vm,qg=new Vm,Xg=new Vm,Yg=new Vm,Zg=new Vm,Jg=new Vm,Kg=new Vm,Qg=new Vm;class $g{constructor(e=new Vm,t=new Vm,n=new Vm){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Hg.subVectors(e,t),r.cross(Hg);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Hg.subVectors(r,t),Wg.subVectors(n,t),Gg.subVectors(e,t);const a=Hg.dot(Hg),o=Hg.dot(Wg),s=Hg.dot(Gg),l=Wg.dot(Wg),c=Wg.dot(Gg),u=a*l-o*o;if(0===u)return i.set(-2,-1,-1);const h=1/u,d=(l*s-o*c)*h,f=(a*c-o*s)*h;return i.set(1-d-f,f,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,qg),qg.x>=0&&qg.y>=0&&qg.x+qg.y<=1}static getUV(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,qg),s.set(0,0),s.addScaledVector(i,qg.x),s.addScaledVector(a,qg.y),s.addScaledVector(o,qg.z),s}static isFrontFacing(e,t,n,r){return Hg.subVectors(n,t),Wg.subVectors(e,t),Hg.cross(Wg).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Hg.subVectors(this.c,this.b),Wg.subVectors(this.a,this.b),.5*Hg.cross(Wg).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return $g.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return $g.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return $g.getUV(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return $g.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return $g.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;Xg.subVectors(r,n),Yg.subVectors(i,n),Jg.subVectors(e,n);const s=Xg.dot(Jg),l=Yg.dot(Jg);if(s<=0&&l<=0)return t.copy(n);Kg.subVectors(e,r);const c=Xg.dot(Kg),u=Yg.dot(Kg);if(c>=0&&u<=c)return t.copy(r);const h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(Xg,a);Qg.subVectors(e,i);const d=Xg.dot(Qg),f=Yg.dot(Qg);if(f>=0&&d<=f)return t.copy(i);const p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(n).addScaledVector(Yg,o);const m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return Zg.subVectors(i,r),o=(u-c)/(u-c+(d-f)),t.copy(r).addScaledVector(Zg,o);const g=1/(m+p+h);return a=p*g,o=h*g,t.copy(n).addScaledVector(Xg,a).addScaledVector(Yg,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let ev=0;class tv extends Kp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ev++}),this.uuid=nm(),this.name="",this.type="Material",this.blending=zd,this.side=Id,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Kd,this.blendDst=Qd,this.blendEquation=jd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=lf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xp,this.stencilZFail=Xp,this.stencilZPass=Xp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n)continue;const r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==zd&&(n.blending=this.blending),this.side!==Id&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class nv extends tv{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Pm(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ff,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const rv=new Vm,iv=new dm;class av{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Yp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)iv.fromBufferAttribute(this,t),iv.applyMatrix3(e),this.setXY(t,iv.x,iv.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)rv.fromBufferAttribute(this,t),rv.applyMatrix3(e),this.setXYZ(t,rv.x,rv.y,rv.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)rv.fromBufferAttribute(this,t),rv.applyMatrix4(e),this.setXYZ(t,rv.x,rv.y,rv.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)rv.fromBufferAttribute(this,t),rv.applyNormalMatrix(e),this.setXYZ(t,rv.x,rv.y,rv.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)rv.fromBufferAttribute(this,t),rv.transformDirection(e),this.setXYZ(t,rv.x,rv.y,rv.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=cm(t,this.array)),t}setX(e,t){return this.normalized&&(t=um(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=cm(t,this.array)),t}setY(e,t){return this.normalized&&(t=um(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=cm(t,this.array)),t}setZ(e,t){return this.normalized&&(t=um(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=cm(t,this.array)),t}setW(e,t){return this.normalized&&(t=um(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=um(t,this.array),n=um(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=um(t,this.array),n=um(n,this.array),r=um(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=um(t,this.array),n=um(n,this.array),r=um(r,this.array),i=um(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Yp&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){}copyVector2sArray(){}copyVector3sArray(){}copyVector4sArray(){}}class ov extends av{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class sv extends av{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class lv extends av{constructor(e,t,n){super(new Float32Array(e),t,n)}}let cv=0;const uv=new vg,hv=new jg,dv=new Vm,fv=new Wm,pv=new Wm,mv=new Vm;class gv extends Kp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cv++}),this.uuid=nm(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mm(e)?sv:ov)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new fm).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return uv.makeRotationFromQuaternion(e),this.applyMatrix4(uv),this}rotateX(e){return uv.makeRotationX(e),this.applyMatrix4(uv),this}rotateY(e){return uv.makeRotationY(e),this.applyMatrix4(uv),this}rotateZ(e){return uv.makeRotationZ(e),this.applyMatrix4(uv),this}translate(e,t,n){return uv.makeTranslation(e,t,n),this.applyMatrix4(uv),this}scale(e,t,n){return uv.makeScale(e,t,n),this.applyMatrix4(uv),this}lookAt(e){return hv.lookAt(e),hv.updateMatrix(),this.applyMatrix4(hv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dv).negate(),this.translate(dv.x,dv.y,dv.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new lv(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Wm);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new Vm(-1/0,-1/0,-1/0),new Vm(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];fv.setFromBufferAttribute(n),this.morphTargetsRelative?(mv.addVectors(this.boundingBox.min,fv.min),this.boundingBox.expandByPoint(mv),mv.addVectors(this.boundingBox.max,fv.max),this.boundingBox.expandByPoint(mv)):(this.boundingBox.expandByPoint(fv.min),this.boundingBox.expandByPoint(fv.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new lg);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new Vm,1/0);else if(e){const n=this.boundingSphere.center;if(fv.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];pv.setFromBufferAttribute(n),this.morphTargetsRelative?(mv.addVectors(fv.min,pv.min),fv.expandByPoint(mv),mv.addVectors(fv.max,pv.max),fv.expandByPoint(mv)):(fv.expandByPoint(pv.min),fv.expandByPoint(pv.max))}fv.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)mv.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(mv));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)mv.fromBufferAttribute(a,t),o&&(dv.fromBufferAttribute(e,t),mv.add(dv)),r=Math.max(r,n.distanceToSquared(mv))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return;const n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new av(new Float32Array(4*o),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let A=0;A<o;A++)l[A]=new Vm,c[A]=new Vm;const u=new Vm,h=new Vm,d=new Vm,f=new dm,p=new dm,m=new dm,g=new Vm,v=new Vm;function y(e,t,n){u.fromArray(r,3*e),h.fromArray(r,3*t),d.fromArray(r,3*n),f.fromArray(a,2*e),p.fromArray(a,2*t),m.fromArray(a,2*n),h.sub(u),d.sub(u),p.sub(f),m.sub(f);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar(i),v.copy(d).multiplyScalar(p.x).addScaledVector(h,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(v),c[t].add(v),c[n].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let A=0,T=b.length;A<T;++A){const e=b[A],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)y(n[r+0],n[r+1],n[r+2])}const x=new Vm,_=new Vm,w=new Vm,S=new Vm;function M(e){w.fromArray(i,3*e),S.copy(w);const t=l[e];x.copy(t),x.sub(w.multiplyScalar(w.dot(t))).normalize(),_.crossVectors(S,t);const n=_.dot(c[e])<0?-1:1;s[4*e]=x.x,s[4*e+1]=x.y,s[4*e+2]=x.z,s[4*e+3]=n}for(let A=0,T=b.length;A<T;++A){const e=b[A],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)M(n[r+0]),M(n[r+1]),M(n[r+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new av(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Vm,i=new Vm,a=new Vm,o=new Vm,s=new Vm,l=new Vm,c=new Vm,u=new Vm;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),o.fromBufferAttribute(n,d),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(c),s.add(c),l.add(c),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)mv.fromBufferAttribute(e,t),mv.normalize(),e.setXYZ(t,mv.x,mv.y,mv.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new av(a,r,i)}if(null===this.index)return this;const t=new gv,n=this.index.array,r=this.attributes;for(const o in r){const i=e(r[o],n);t.setAttribute(o,i)}const i=this.morphAttributes;for(const o in i){const r=[],a=i[o];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);r.push(i)}t.morphAttributes[o]=r}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const vv=new vg,yv=new gg,bv=new lg,xv=new Vm,_v=new Vm,wv=new Vm,Sv=new Vm,Mv=new Vm,Av=new dm,Tv=new dm,Ev=new dm,Cv=new Vm,Pv=new Vm;class kv extends jg{constructor(e=new gv,t=new nv){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(i&&o){Mv.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=o[n],s=i[n];0!==r&&(Sv.fromBufferAttribute(s,e),a?Mv.addScaledVector(Sv,r):Mv.addScaledVector(Sv.sub(t),r))}t.add(Mv)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),bv.copy(n.boundingSphere),bv.applyMatrix4(i),!1===e.ray.intersectsSphere(bv))return;if(vv.copy(i).invert(),yv.copy(e.ray).applyMatrix4(vv),null!==n.boundingBox&&!1===yv.intersectsBox(n.boundingBox))return;let a;const o=n.index,s=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(r))for(let d=0,f=u.length;d<f;d++){const n=u[d],i=r[n.materialIndex];for(let r=Math.max(n.start,h.start),s=Math.min(o.count,Math.min(n.start+n.count,h.start+h.count));r<s;r+=3){const s=o.getX(r),u=o.getX(r+1),h=o.getX(r+2);a=Rv(this,i,e,yv,l,c,s,u,h),a&&(a.faceIndex=Math.floor(r/3),a.face.materialIndex=n.materialIndex,t.push(a))}}else{for(let n=Math.max(0,h.start),i=Math.min(o.count,h.start+h.count);n<i;n+=3){const i=o.getX(n),s=o.getX(n+1),u=o.getX(n+2);a=Rv(this,r,e,yv,l,c,i,s,u),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}}else if(void 0!==s)if(Array.isArray(r))for(let d=0,f=u.length;d<f;d++){const n=u[d],i=r[n.materialIndex];for(let r=Math.max(n.start,h.start),o=Math.min(s.count,Math.min(n.start+n.count,h.start+h.count));r<o;r+=3){a=Rv(this,i,e,yv,l,c,r,r+1,r+2),a&&(a.faceIndex=Math.floor(r/3),a.face.materialIndex=n.materialIndex,t.push(a))}}else{for(let n=Math.max(0,h.start),i=Math.min(s.count,h.start+h.count);n<i;n+=3){a=Rv(this,r,e,yv,l,c,n,n+1,n+2),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}}}}function Rv(e,t,n,r,i,a,o,s,l){e.getVertexPosition(o,xv),e.getVertexPosition(s,_v),e.getVertexPosition(l,wv);const c=function(e,t,n,r,i,a,o,s){let l;if(l=t.side===Nd?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===Id,s),null===l)return null;Pv.copy(s),Pv.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Pv);return c<n.near||c>n.far?null:{distance:c,point:Pv.clone(),object:e}}(e,t,n,r,xv,_v,wv,Cv);if(c){i&&(Av.fromBufferAttribute(i,o),Tv.fromBufferAttribute(i,s),Ev.fromBufferAttribute(i,l),c.uv=$g.getUV(Cv,xv,_v,wv,Av,Tv,Ev,new dm)),a&&(Av.fromBufferAttribute(a,o),Tv.fromBufferAttribute(a,s),Ev.fromBufferAttribute(a,l),c.uv2=$g.getUV(Cv,xv,_v,wv,Av,Tv,Ev,new dm));const e={a:o,b:s,c:l,normal:new Vm,materialIndex:0};$g.getNormal(xv,_v,wv,e.normal),c.face=e}return c}class Lv extends gv{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],c=[],u=[];let h=0,d=0;function f(e,t,n,r,i,a,f,p,m,g,v){const y=a/m,b=f/g,x=a/2,_=f/2,w=p/2,S=m+1,M=g+1;let A=0,T=0;const E=new Vm;for(let o=0;o<M;o++){const a=o*b-_;for(let s=0;s<S;s++){const h=s*y-x;E[e]=h*r,E[t]=a*i,E[n]=w,l.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=p>0?1:-1,c.push(E.x,E.y,E.z),u.push(s/m),u.push(1-o/g),A+=1}}for(let o=0;o<g;o++)for(let e=0;e<m;e++){const t=h+e+S*o,n=h+e+S*(o+1),r=h+(e+1)+S*(o+1),i=h+(e+1)+S*o;s.push(t,n,i),s.push(n,r,i),T+=6}o.addGroup(d,T,v),d+=T,h+=A}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new lv(l,3)),this.setAttribute("normal",new lv(c,3)),this.setAttribute("uv",new lv(u,2))}static fromJSON(e){return new Lv(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Iv(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Nv(e){const t={};for(let n=0;n<e.length;n++){const r=Iv(e[n]);for(const e in r)t[e]=r[e]}return t}function Dv(e){return null===e.getRenderTarget()&&e.outputEncoding===Vp?Gp:qp}const Ov={clone:Iv,merge:Nv};class zv extends tv{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Iv(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Uv extends jg{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vg,this.projectionMatrix=new vg,this.projectionMatrixInverse=new vg}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}let Fv=class extends Uv{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*tm*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*em*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*tm*Math.atan(Math.tan(.5*em*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*em*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Bv=-90;class Vv extends jg{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Fv(Bv,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const i=new Fv(Bv,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);const a=new Fv(Bv,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const o=new Fv(Bv,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);const s=new Fv(Bv,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);const l=new Fv(Bv,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,a,o,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,h=e.xr.enabled;e.toneMapping=gf,e.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class jv extends Dm{constructor(e,t,n,r,i,a,o,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:Sf,n,r,i,a,o,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Hv extends zm{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new jv(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Nf}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Lv(5,5,5),i=new zv({name:"CubemapFromEquirect",uniforms:Iv(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Nd,blending:Od});i.uniforms.tEquirect.value=t;const a=new kv(r,i),o=t.minFilter;t.minFilter===Of&&(t.minFilter=Nf);return new Vv(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}const Wv=new Vm,Gv=new Vm,qv=new fm;let Xv=class{constructor(e=new Vm(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Wv.subVectors(n,t).cross(Gv.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(Wv),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||qv.getNormalMatrix(e),r=this.coplanarPoint(Wv).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}};const Yv=new lg,Zv=new Vm;class Jv{constructor(e=new Xv,t=new Xv,n=new Xv,r=new Xv,i=new Xv,a=new Xv){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-r,u-s,p-h,y-m).normalize(),t[1].setComponents(o+r,u+s,p+h,y+m).normalize(),t[2].setComponents(o+i,u+l,p+d,y+g).normalize(),t[3].setComponents(o-i,u-l,p-d,y-g).normalize(),t[4].setComponents(o-a,u-c,p-f,y-v).normalize(),t[5].setComponents(o+a,u+c,p+f,y+v).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Yv.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Yv)}intersectsSprite(e){return Yv.center.set(0,0,0),Yv.radius=.7071067811865476,Yv.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yv)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Zv.x=r.normal.x>0?e.max.x:e.min.x,Zv.y=r.normal.y>0?e.max.y:e.min.y,Zv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Zv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Kv(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Qv(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const a=r.get(t);void 0===a?r.set(t,function(t,r){const i=t.array,a=t.usage,o=e.createBuffer();let s;if(e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback(),i instanceof Float32Array)s=5126;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(i instanceof Int16Array)s=5122;else if(i instanceof Uint32Array)s=5125;else if(i instanceof Int32Array)s=5124;else if(i instanceof Int8Array)s=5120;else if(i instanceof Uint8Array)s=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=5121}return{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,r,i){const a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(a.buffer,t,i),a.version=t.version)}}}class $v extends gv{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,c=s+1,u=e/o,h=t/s,d=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*h-a;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/o),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<o;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;d.push(t,n,i),d.push(n,r,i)}this.setIndex(d),this.setAttribute("position",new lv(f,3)),this.setAttribute("normal",new lv(p,3)),this.setAttribute("uv",new lv(m,2))}static fromJSON(e){return new $v(e.width,e.height,e.widthSegments,e.heightSegments)}}const ey={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},ty={common:{diffuse:{value:new Pm(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new fm},uv2Transform:{value:new fm},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new dm(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pm(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pm(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fm}},sprite:{diffuse:{value:new Pm(16777215)},opacity:{value:1},center:{value:new dm(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fm}}},ny={basic:{uniforms:Nv([ty.common,ty.specularmap,ty.envmap,ty.aomap,ty.lightmap,ty.fog]),vertexShader:ey.meshbasic_vert,fragmentShader:ey.meshbasic_frag},lambert:{uniforms:Nv([ty.common,ty.specularmap,ty.envmap,ty.aomap,ty.lightmap,ty.emissivemap,ty.bumpmap,ty.normalmap,ty.displacementmap,ty.fog,ty.lights,{emissive:{value:new Pm(0)}}]),vertexShader:ey.meshlambert_vert,fragmentShader:ey.meshlambert_frag},phong:{uniforms:Nv([ty.common,ty.specularmap,ty.envmap,ty.aomap,ty.lightmap,ty.emissivemap,ty.bumpmap,ty.normalmap,ty.displacementmap,ty.fog,ty.lights,{emissive:{value:new Pm(0)},specular:{value:new Pm(1118481)},shininess:{value:30}}]),vertexShader:ey.meshphong_vert,fragmentShader:ey.meshphong_frag},standard:{uniforms:Nv([ty.common,ty.envmap,ty.aomap,ty.lightmap,ty.emissivemap,ty.bumpmap,ty.normalmap,ty.displacementmap,ty.roughnessmap,ty.metalnessmap,ty.fog,ty.lights,{emissive:{value:new Pm(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ey.meshphysical_vert,fragmentShader:ey.meshphysical_frag},toon:{uniforms:Nv([ty.common,ty.aomap,ty.lightmap,ty.emissivemap,ty.bumpmap,ty.normalmap,ty.displacementmap,ty.gradientmap,ty.fog,ty.lights,{emissive:{value:new Pm(0)}}]),vertexShader:ey.meshtoon_vert,fragmentShader:ey.meshtoon_frag},matcap:{uniforms:Nv([ty.common,ty.bumpmap,ty.normalmap,ty.displacementmap,ty.fog,{matcap:{value:null}}]),vertexShader:ey.meshmatcap_vert,fragmentShader:ey.meshmatcap_frag},points:{uniforms:Nv([ty.points,ty.fog]),vertexShader:ey.points_vert,fragmentShader:ey.points_frag},dashed:{uniforms:Nv([ty.common,ty.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ey.linedashed_vert,fragmentShader:ey.linedashed_frag},depth:{uniforms:Nv([ty.common,ty.displacementmap]),vertexShader:ey.depth_vert,fragmentShader:ey.depth_frag},normal:{uniforms:Nv([ty.common,ty.bumpmap,ty.normalmap,ty.displacementmap,{opacity:{value:1}}]),vertexShader:ey.meshnormal_vert,fragmentShader:ey.meshnormal_frag},sprite:{uniforms:Nv([ty.sprite,ty.fog]),vertexShader:ey.sprite_vert,fragmentShader:ey.sprite_frag},background:{uniforms:{uvTransform:{value:new fm},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ey.background_vert,fragmentShader:ey.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ey.backgroundCube_vert,fragmentShader:ey.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ey.cube_vert,fragmentShader:ey.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ey.equirect_vert,fragmentShader:ey.equirect_frag},distanceRGBA:{uniforms:Nv([ty.common,ty.displacementmap,{referencePosition:{value:new Vm},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ey.distanceRGBA_vert,fragmentShader:ey.distanceRGBA_frag},shadow:{uniforms:Nv([ty.lights,ty.fog,{color:{value:new Pm(0)},opacity:{value:1}}]),vertexShader:ey.shadow_vert,fragmentShader:ey.shadow_frag}};ny.physical={uniforms:Nv([ny.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new dm(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Pm(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new dm},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Pm(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Pm(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ey.meshphysical_vert,fragmentShader:ey.meshphysical_frag};const ry={r:0,b:0,g:0};function iy(e,t,n,r,i,a,o){const s=new Pm(0);let l,c,u=!0===a?0:1,h=null,d=0,f=null;function p(t,n){t.getRGB(ry,Dv(e)),r.buffers.color.setClear(ry.r,ry.g,ry.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),u=t,p(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,p(s,u)},render:function(r,a){let o=!1,m=!0===a.isScene?a.background:null;if(m&&m.isTexture){m=(a.backgroundBlurriness>0?n:t).get(m)}const g=e.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(m=null),null===m?p(s,u):m&&m.isColor&&(p(m,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.mapping===Ef)?(void 0===c&&(c=new kv(new Lv(1,1,1),new zv({name:"BackgroundCubeMaterial",uniforms:Iv(ny.backgroundCube.uniforms),vertexShader:ny.backgroundCube.vertexShader,fragmentShader:ny.backgroundCube.fragmentShader,side:Nd,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=m,c.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,c.material.toneMapped=m.encoding!==Vp,h===m&&d===m.version&&f===e.toneMapping||(c.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),c.layers.enableAll(),r.unshift(c,c.geometry,c.material,0,0,null)):m&&m.isTexture&&(void 0===l&&(l=new kv(new $v(2,2),new zv({name:"BackgroundMaterial",uniforms:Iv(ny.background.uniforms),vertexShader:ny.background.vertexShader,fragmentShader:ny.background.fragmentShader,side:Id,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=m,l.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,l.material.toneMapped=m.encoding!==Vp,!0===m.matrixAutoUpdate&&m.updateMatrix(),l.material.uniforms.uvTransform.value.copy(m.matrix),h===m&&d===m.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null))}}}function ay(e,t,n,r){const i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null);let c=l,u=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){const t=[],n=[],r=[];for(let a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){g(e,0)}function g(n,i){const a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;if(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function v(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function b(){x(),u=!0,c!==l&&(c=l,h(c.object))}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,b,x){let _=!1;if(o){const t=function(t,n,i){const o=!0===i.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[o];void 0===u&&(u=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),c[o]=u);return u}(b,d,l);c!==t&&(c=t,h(c.object)),_=function(e,t,n,r){const i=c.attributes,a=t.attributes;let o=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){const t=i[l];let n=a[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;o++}}return c.attributesNum!==o||c.index!==r}(i,b,d,x),_&&function(e,t,n,r){const i={},a=t.attributes;let o=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){let t=a[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[l]=n,o++}}c.attributes=i,c.attributesNum=o,c.index=r}(i,b,d,x)}else{const e=!0===l.wireframe;c.geometry===b.id&&c.program===d.id&&c.wireframe===e||(c.geometry=b.id,c.program=d.id,c.wireframe=e,_=!0)}null!==x&&n.update(x,34963),(_||u)&&(u=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(const t in c){const r=c[t];if(r.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,o=a.itemSize,l=n.get(a);if(void 0===l)continue;const c=l.buffer,u=l.type,h=l.bytesPerElement;if(a.isInterleavedBufferAttribute){const n=a.data,l=n.stride,d=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)g(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,u,t,l*h,(d+o/r.locationSize*e)*h)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)g(r.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,u,t,o*h,o/r.locationSize*e*h)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}v()}(i,l,d,b),null!==x&&e.bindBuffer(34963,n.get(x).buffer))},reset:b,resetDefaultState:x,dispose:function(){b();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const n in t){const e=t[n];for(const t in e)d(e[t].object),delete e[t];delete t[n]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)d(r[e].object),delete r[e];delete n[e.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:v}}function oy(e,t,n,r){const i=r.isWebGL2;let a;this.setMode=function(e){a=e},this.render=function(t,r){e.drawArrays(a,t,r),n.update(r,a,1)},this.renderInstances=function(r,o,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return;l[c](a,r,o,s),n.update(o,a,s)}}function sy(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let o=void 0!==n.precision?n.precision:"highp";const s=i(o);s!==o&&(o=s);const l=a||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),g=e.getParameter(36348),v=e.getParameter(36349),y=h>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(36183):0}}function ly(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new Xv,s=new fm,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(i,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){const o=0!==e.length||t||0!==r||i;return i=t,n=u(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(t,o,s){const h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===h||0===h.length||a&&!f)a?u(null):c();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=u(h,o,t,s);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function cy(e){let t=new WeakMap;function n(e,t){return t===Af?e.mapping=Sf:t===Tf&&(e.mapping=Mf),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const a=i.mapping;if(a===Af||a===Tf){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new Hv(a.height/2);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class uy extends Uv{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const hy=[.125,.215,.35,.446,.526,.582],dy=20,fy=new uy,py=new Pm;let my=null;const gy=(1+Math.sqrt(5))/2,vy=1/gy,yy=[new Vm(1,1,1),new Vm(-1,1,1),new Vm(1,1,-1),new Vm(-1,1,-1),new Vm(0,gy,vy),new Vm(0,gy,-vy),new Vm(vy,0,gy),new Vm(-vy,0,gy),new Vm(gy,vy,0),new Vm(-gy,vy,0)];class by{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){my=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Sy(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=wy(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(my),e.scissorTest=!1,_y(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Sf||e.mapping===Mf?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),my=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Nf,minFilter:Nf,generateMipmaps:!1,type:Wf,format:Jf,encoding:Bp,depthBuffer:!1},r=xy(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=xy(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+hy.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=hy[o-e+4-1]:0===o&&(s=0),r.push(s);const l=1/(a-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*d),y=new Float32Array(m*f*d),b=new Float32Array(g*f*d);for(let e=0;e<d;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),y.set(h,m*f*e);const i=[e,e,e,e,e,e];b.set(i,g*f*e)}const x=new gv;x.setAttribute("position",new av(v,p)),x.setAttribute("uv",new av(y,m)),x.setAttribute("faceIndex",new av(b,g)),t.push(x),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(dy),i=new Vm(0,1,0),a=new zv({name:"SphericalGaussianBlur",defines:{n:dy,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:My(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Od,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return r}_compileMaterial(e){const t=new kv(this._lodPlanes[0],e);this._renderer.compile(t,fy)}_sceneToCubeUV(e,t,n,r){const i=new Fv(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(py),s.toneMapping=gf,s.autoClear=!1;const u=new nv({name:"PMREM.Background",side:Nd,depthWrite:!1,depthTest:!1}),h=new kv(new Lv,u);let d=!1;const f=e.background;f?f.isColor&&(u.color.copy(f),e.background=null,d=!0):(u.color.copy(py),d=!0);for(let p=0;p<6;p++){const t=p%3;0===t?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===t?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));const n=this._cubeSize;_y(r,t*n,p>2?n:0,n,n),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=f}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Sf||e.mapping===Mf;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Sy()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=wy());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new kv(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const o=this._cubeSize;_y(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,fy)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=yy[(r-1)%yy.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial,c=new kv(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):dy,m=[];let g=0;for(let b=0;b<dy;++b){const e=b/f,t=Math.exp(-e*e/2);m.push(t),0===b?g+=t:b<p&&(g+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:v}=this;u.dTheta.value=d,u.mipInt.value=v-n;const y=this._sizeLods[r];_y(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,fy)}}function xy(e,t,n){const r=new zm(e,t,n);return r.texture.mapping=Ef,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _y(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function wy(){return new zv({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:My(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Od,depthTest:!1,depthWrite:!1})}function Sy(){return new zv({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:My(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Od,depthTest:!1,depthWrite:!1})}function My(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Ay(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===Af||a===Tf,s=a===Sf||a===Mf;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new by(e)),r=o?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const a=i.image;if(o&&a&&a.height>0||s&&a&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(a)){null===n&&(n=new by(e));const a=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,a),i.addEventListener("dispose",r),a.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Ty(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return t}}}function Ey(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(mm(n)?sv:ov)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){const n=e.attributes;for(const i in n)t.update(n[i],34962);const r=e.morphAttributes;for(const i in r){const e=r[i];for(let n=0,r=e.length;n<r;n++)t.update(e[n],34962)}},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Cy(e,t,n,r){const i=r.isWebGL2;let a,o,s;this.setMode=function(e){a=e},this.setIndex=function(e){o=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(a,r,o,t*s),n.update(r,a,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,h;if(i)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return;u[h](a,l,o,r*s,c),n.update(l,a,c)}}function Py(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e}}}}function ky(e,t){return e[0]-t[0]}function Ry(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ly(e,t,n){const r={},i=new Float32Array(8),a=new WeakMap,o=new Om,s=[];for(let l=0;l<8;l++)s[l]=[l,0];return{update:function(l,c,u,h){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const r=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,i=void 0!==r?r.length:0;let s=a.get(c);if(void 0===s||s.count!==i){let e=function(){v.dispose(),a.delete(c),c.removeEventListener("dispose",e)};void 0!==s&&s.texture.dispose();const n=void 0!==c.morphAttributes.position,r=void 0!==c.morphAttributes.normal,l=void 0!==c.morphAttributes.color,u=c.morphAttributes.position||[],h=c.morphAttributes.normal||[],d=c.morphAttributes.color||[];let f=0;!0===n&&(f=1),!0===r&&(f=2),!0===l&&(f=3);let p=c.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const g=new Float32Array(p*m*4*i),v=new Um(g,p,m,i);v.type=Hf,v.needsUpdate=!0;const y=4*f;for(let t=0;t<i;t++){const e=u[t],i=h[t],a=d[t],s=p*m*4*t;for(let t=0;t<e.count;t++){const c=t*y;!0===n&&(o.fromBufferAttribute(e,t),g[s+c+0]=o.x,g[s+c+1]=o.y,g[s+c+2]=o.z,g[s+c+3]=0),!0===r&&(o.fromBufferAttribute(i,t),g[s+c+4]=o.x,g[s+c+5]=o.y,g[s+c+6]=o.z,g[s+c+7]=0),!0===l&&(o.fromBufferAttribute(a,t),g[s+c+8]=o.x,g[s+c+9]=o.y,g[s+c+10]=o.z,g[s+c+11]=4===a.itemSize?o.w:1)}}s={count:i,texture:v,size:new dm(p,m)},a.set(c,s),c.addEventListener("dispose",e)}let l=0;for(let e=0;e<d.length;e++)l+=d[e];const u=c.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",u),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",s.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",s.size)}else{const t=void 0===d?0:d.length;let n=r[c.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];r[c.id]=n}for(let e=0;e<t;e++){const t=n[e];t[0]=e,t[1]=d[e]}n.sort(Ry);for(let e=0;e<8;e++)e<t&&n[e][1]?(s[e][0]=n[e][0],s[e][1]=n[e][1]):(s[e][0]=Number.MAX_SAFE_INTEGER,s[e][1]=0);s.sort(ky);const a=c.morphAttributes.position,o=c.morphAttributes.normal;let l=0;for(let e=0;e<8;e++){const t=s[e],n=t[0],r=t[1];n!==Number.MAX_SAFE_INTEGER&&r?(a&&c.getAttribute("morphTarget"+e)!==a[n]&&c.setAttribute("morphTarget"+e,a[n]),o&&c.getAttribute("morphNormal"+e)!==o[n]&&c.setAttribute("morphNormal"+e,o[n]),i[e]=r,l+=r):(a&&!0===c.hasAttribute("morphTarget"+e)&&c.deleteAttribute("morphTarget"+e),o&&!0===c.hasAttribute("morphNormal"+e)&&c.deleteAttribute("morphNormal"+e),i[e]=0)}const u=c.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",u),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Iy(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){const o=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}const Ny=new Dm,Dy=new Um,Oy=new Fm,zy=new jv,Uy=[],Fy=[],By=new Float32Array(16),Vy=new Float32Array(9),jy=new Float32Array(4);function Hy(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=Uy[i];if(void 0===a&&(a=new Float32Array(i),Uy[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function Wy(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Gy(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function qy(e,t){let n=Fy[t];void 0===n&&(n=new Int32Array(t),Fy[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Xy(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Yy(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Wy(n,t))return;e.uniform2fv(this.addr,t),Gy(n,t)}}function Zy(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Wy(n,t))return;e.uniform3fv(this.addr,t),Gy(n,t)}}function Jy(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Wy(n,t))return;e.uniform4fv(this.addr,t),Gy(n,t)}}function Ky(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Wy(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Gy(n,t)}else{if(Wy(n,r))return;jy.set(r),e.uniformMatrix2fv(this.addr,!1,jy),Gy(n,r)}}function Qy(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Wy(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Gy(n,t)}else{if(Wy(n,r))return;Vy.set(r),e.uniformMatrix3fv(this.addr,!1,Vy),Gy(n,r)}}function $y(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Wy(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Gy(n,t)}else{if(Wy(n,r))return;By.set(r),e.uniformMatrix4fv(this.addr,!1,By),Gy(n,r)}}function eb(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function tb(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Wy(n,t))return;e.uniform2iv(this.addr,t),Gy(n,t)}}function nb(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Wy(n,t))return;e.uniform3iv(this.addr,t),Gy(n,t)}}function rb(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Wy(n,t))return;e.uniform4iv(this.addr,t),Gy(n,t)}}function ib(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function ab(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Wy(n,t))return;e.uniform2uiv(this.addr,t),Gy(n,t)}}function ob(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Wy(n,t))return;e.uniform3uiv(this.addr,t),Gy(n,t)}}function sb(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Wy(n,t))return;e.uniform4uiv(this.addr,t),Gy(n,t)}}function lb(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Ny,i)}function cb(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Oy,i)}function ub(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||zy,i)}function hb(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Dy,i)}function db(e,t){e.uniform1fv(this.addr,t)}function fb(e,t){const n=Hy(t,this.size,2);e.uniform2fv(this.addr,n)}function pb(e,t){const n=Hy(t,this.size,3);e.uniform3fv(this.addr,n)}function mb(e,t){const n=Hy(t,this.size,4);e.uniform4fv(this.addr,n)}function gb(e,t){const n=Hy(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function vb(e,t){const n=Hy(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function yb(e,t){const n=Hy(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function bb(e,t){e.uniform1iv(this.addr,t)}function xb(e,t){e.uniform2iv(this.addr,t)}function _b(e,t){e.uniform3iv(this.addr,t)}function wb(e,t){e.uniform4iv(this.addr,t)}function Sb(e,t){e.uniform1uiv(this.addr,t)}function Mb(e,t){e.uniform2uiv(this.addr,t)}function Ab(e,t){e.uniform3uiv(this.addr,t)}function Tb(e,t){e.uniform4uiv(this.addr,t)}function Eb(e,t,n){const r=this.cache,i=t.length,a=qy(n,i);Wy(r,a)||(e.uniform1iv(this.addr,a),Gy(r,a));for(let o=0;o!==i;++o)n.setTexture2D(t[o]||Ny,a[o])}function Cb(e,t,n){const r=this.cache,i=t.length,a=qy(n,i);Wy(r,a)||(e.uniform1iv(this.addr,a),Gy(r,a));for(let o=0;o!==i;++o)n.setTexture3D(t[o]||Oy,a[o])}function Pb(e,t,n){const r=this.cache,i=t.length,a=qy(n,i);Wy(r,a)||(e.uniform1iv(this.addr,a),Gy(r,a));for(let o=0;o!==i;++o)n.setTextureCube(t[o]||zy,a[o])}function kb(e,t,n){const r=this.cache,i=t.length,a=qy(n,i);Wy(r,a)||(e.uniform1iv(this.addr,a),Gy(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(t[o]||Dy,a[o])}class Rb{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Xy;case 35664:return Yy;case 35665:return Zy;case 35666:return Jy;case 35674:return Ky;case 35675:return Qy;case 35676:return $y;case 5124:case 35670:return eb;case 35667:case 35671:return tb;case 35668:case 35672:return nb;case 35669:case 35673:return rb;case 5125:return ib;case 36294:return ab;case 36295:return ob;case 36296:return sb;case 35678:case 36198:case 36298:case 36306:case 35682:return lb;case 35679:case 36299:case 36307:return cb;case 35680:case 36300:case 36308:case 36293:return ub;case 36289:case 36303:case 36311:case 36292:return hb}}(t.type)}}class Lb{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return db;case 35664:return fb;case 35665:return pb;case 35666:return mb;case 35674:return gb;case 35675:return vb;case 35676:return yb;case 5124:case 35670:return bb;case 35667:case 35671:return xb;case 35668:case 35672:return _b;case 35669:case 35673:return wb;case 5125:return Sb;case 36294:return Mb;case 36295:return Ab;case 36296:return Tb;case 35678:case 36198:case 36298:case 36306:case 35682:return Eb;case 35679:case 36299:case 36307:return Cb;case 35680:case 36300:case 36308:case 36293:return Pb;case 36289:case 36303:case 36311:case 36292:return kb}}(t.type)}}class Ib{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const Nb=/(\w+)(\])?(\[|\.)?/g;function Db(e,t){e.seq.push(t),e.map[t.id]=t}function Ob(e,t,n){const r=e.name,i=r.length;for(Nb.lastIndex=0;;){const a=Nb.exec(r),o=Nb.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){Db(n,void 0===c?new Rb(s,e,t):new Lb(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new Ib(s),Db(n,e)),n=e}}}class zb{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);Ob(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Ub(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let Fb=0;function Bb(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=i;o<a;o++){const e=o+1;r.push(`${e===t?">":" "} ${e}: ${n[o]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function Vb(e,t){const n=function(e){switch(e){case Bp:return["Linear","( value )"];case Vp:return["sRGB","( value )"];default:return["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function jb(e,t){let n;switch(t){case vf:n="Linear";break;case yf:n="Reinhard";break;case bf:n="OptimizedCineon";break;case xf:n="ACESFilmic";break;case _f:n="Custom";break;default:n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Hb(e){return""!==e}function Wb(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Gb(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const qb=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xb(e){return e.replace(qb,Yb)}function Yb(e,t){const n=ey[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Xb(n)}const Zb=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Jb(e){return e.replace(Zb,Kb)}function Kb(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Qb(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function $b(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===kd?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Rd?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Ld&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Sf:case Mf:t="ENVMAP_TYPE_CUBE";break;case Ef:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Mf&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ff:t="ENVMAP_BLENDING_MULTIPLY";break;case pf:t="ENVMAP_BLENDING_MIX";break;case mf:t="ENVMAP_BLENDING_ADD"}return t}(n),d=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Hb).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[p].filter(Hb).join("\n"),g.length>0&&(g+="\n"),v=[f,p].filter(Hb).join("\n"),v.length>0&&(v+="\n")):(g=[Qb(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Hb).join("\n"),v=[f,Qb(n),"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==gf?"#define TONE_MAPPING":"",n.toneMapping!==gf?ey.tonemapping_pars_fragment:"",n.toneMapping!==gf?jb("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ey.encodings_pars_fragment,Vb("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Hb).join("\n")),o=Xb(o),o=Wb(o,n),o=Gb(o,n),s=Xb(s),s=Wb(s,n),s=Gb(s,n),o=Jb(o),s=Jb(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Zp?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Zp?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+v+s,x=Ub(i,35633,y+g+o),_=Ub(i,35632,b);if(i.attachShader(m,x),i.attachShader(m,_),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(m).trim(),t=i.getShaderInfoLog(x).trim(),n=i.getShaderInfoLog(_).trim();let r=!0,a=!0;if(!1===i.getProgramParameter(m,35714)){r=!1;Bb(i,x,"vertex"),Bb(i,_,"fragment")}else""!==e||""!==t&&""!==n||(a=!1);a&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:v}})}let w,S;return i.deleteShader(x),i.deleteShader(_),this.getUniforms=function(){return void 0===w&&(w=new zb(i,m)),w},this.getAttributes=function(){return void 0===S&&(S=function(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;35674===r.type&&(o=2),35675===r.type&&(o=3),35676===r.type&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(i,m)),S},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=Fb++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=_,this}let ex=0;class tx{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new nx(e),t.set(e,n)),n}}class nx{constructor(e){this.id=ex++,this.code=e,this.usedTimes=0}}function rx(e,t,n,r,i,a,o){const s=new Cg,l=new tx,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,c,m,g){const v=m.fog,y=g.geometry,b=a.isMeshStandardMaterial?m.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),_=x&&x.mapping===Ef?x.image.height:null,w=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision),a.precision);const S=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,M=void 0!==S?S.length:0;let A,T,E,C,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),w){const e=ny[w];A=e.vertexShader,T=e.fragmentShader}else A=a.vertexShader,T=a.fragmentShader,l.update(a),E=l.getVertexShaderID(a),C=l.getFragmentShaderID(a);const k=e.getRenderTarget(),R=a.alphaTest>0,L=a.clearcoat>0,I=a.iridescence>0;return{isWebGL2:u,shaderID:w,shaderName:a.type,vertexShader:A,fragmentShader:T,defines:a.defines,customVertexShaderID:E,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:d,outputEncoding:null===k?e.outputEncoding:!0===k.isXRRenderTarget?k.texture.encoding:Bp,map:!!a.map,matcap:!!a.matcap,envMap:!!x,envMapMode:x&&x.mapping,envMapCubeUVHeight:_,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===Wp,tangentSpaceNormalMap:a.normalMapType===Hp,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===Vp,clearcoat:L,clearcoatMap:L&&!!a.clearcoatMap,clearcoatRoughnessMap:L&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:L&&!!a.clearcoatNormalMap,iridescence:I,iridescenceMap:I&&!!a.iridescenceMap,iridescenceThicknessMap:I&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===zd,alphaMap:!!a.alphaMap,alphaTest:R,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatMap||a.clearcoatRoughnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.displacementMap||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheenColorMap||a.sheenRoughnessMap),uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap||!a.displacementMap),fog:!!v,useFog:!0===a.fog,fogExp2:v&&v.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:M,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:gf,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===Dd,flipSided:a.side===Nd,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.iridescence&&s.enable(18);t.iridescenceMap&&s.enable(19);t.iridescenceThicknessMap&&s.enable(20);t.displacementMap&&s.enable(21);t.specularMap&&s.enable(22);t.roughnessMap&&s.enable(23);t.metalnessMap&&s.enable(24);t.gradientMap&&s.enable(25);t.alphaMap&&s.enable(26);t.alphaTest&&s.enable(27);t.vertexColors&&s.enable(28);t.vertexAlphas&&s.enable(29);t.vertexUvs&&s.enable(30);t.vertexTangents&&s.enable(31);t.uvsVertexOnly&&s.enable(32);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=ny[t];n=Ov.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=c.length;e<i;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new $b(e,n,t,a),c.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function ix(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function ax(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ox(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function sx(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||ax),r.length>1&&r.sort(t||ox),i.length>1&&i.sort(t||ox)}}}function lx(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new sx,e.set(t,[i])):n>=r.length?(i=new sx,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function cx(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Vm,color:new Pm};break;case"SpotLight":n={position:new Vm,direction:new Vm,color:new Pm,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Vm,color:new Pm,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Vm,skyColor:new Pm,groundColor:new Pm};break;case"RectAreaLight":n={color:new Pm,position:new Vm,halfWidth:new Vm,halfHeight:new Vm}}return e[t.id]=n,n}}}let ux=0;function hx(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function dx(e,t){const n=new cx,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dm};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dm,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let l=0;l<9;l++)i.probe.push(new Vm);const a=new Vm,o=new vg,s=new vg;return{setup:function(a,o){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0;a.sort(hx);const x=!0!==o?Math.PI:1;for(let e=0,t=a.length;e<t;e++){const t=a[e],o=t.color,_=t.intensity,w=t.distance,S=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=o.r*_*x,l+=o.g*_*x,c+=o.b*_*x;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],_);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*x),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=S,i.directionalShadowMatrix[u]=t.shadow.matrix,m++}i.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(o).multiplyScalar(_*x),e.distance=w,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[d]=e;const a=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,a.updateMatrices(t),t.castShadow&&b++),i.spotLightMatrix[d]=a.matrix,t.castShadow){const e=r.get(t);e.shadowBias=a.bias,e.shadowNormalBias=a.normalBias,e.shadowRadius=a.radius,e.shadowMapSize=a.mapSize,i.spotShadow[d]=e,i.spotShadowMap[d]=S,v++}d++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(o).multiplyScalar(_),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*x),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[h]=n,i.pointShadowMap[h]=S,i.pointShadowMatrix[h]=t.shadow.matrix,g++}i.point[h]=e,h++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(_*x),e.groundColor.copy(t.groundColor).multiplyScalar(_*x),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=ty.LTC_FLOAT_1,i.rectAreaLTC2=ty.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")&&(i.rectAreaLTC1=ty.LTC_HALF_1,i.rectAreaLTC2=ty.LTC_HALF_2)),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const _=i.hash;_.directionalLength===u&&_.pointLength===h&&_.spotLength===d&&_.rectAreaLength===f&&_.hemiLength===p&&_.numDirectionalShadows===m&&_.numPointShadows===g&&_.numSpotShadows===v&&_.numSpotMaps===y||(i.directional.length=u,i.spot.length=d,i.rectArea.length=f,i.point.length=h,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,_.directionalLength=u,_.pointLength=h,_.spotLength=d,_.rectAreaLength=f,_.hemiLength=p,_.numDirectionalShadows=m,_.numPointShadows=g,_.numSpotShadows=v,_.numSpotMaps=y,i.version=ux++)},setupView:function(e,t){let n=0,r=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,f=e.length;d<f;d++){const t=e[d];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),a.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),a.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),s.identity(),o.copy(t.matrixWorld),o.premultiply(h),s.extractRotation(o),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(t.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),r++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),u++}}},state:i}}function fx(e,t){const n=new dx(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function px(e,t){let n=new WeakMap;return{get:function(r,i=0){const a=n.get(r);let o;return void 0===a?(o=new fx(e,t),n.set(r,[o])):i>=a.length?(o=new fx(e,t),a.push(o)):o=a[i],o},dispose:function(){n=new WeakMap}}}class mx extends tv{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class gx extends tv{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vm,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vx="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",yx="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function bx(e,t,n){let r=new Jv;const i=new dm,a=new dm,o=new Om,s=new mx({depthPacking:jp}),l=new gx,c={},u=n.maxTextureSize,h={0:Nd,1:Id,2:Dd},d=new zv({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dm},radius:{value:4}},vertexShader:vx,fragmentShader:yx}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const p=new gv;p.setAttribute("position",new av(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new kv(p,d),g=this;function v(n,r){const a=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new zm(i.x,i.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,d,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}function y(t,n,r,i,a,o){let u=null;const d=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==d)u=d;else if(u=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=u.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=u.clone(),r[t]=i),u=i}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=o===Ld?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],u.alphaMap=n.alphaMap,u.alphaTest=n.alphaTest,u.map=n.map,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.displacementMap=n.displacementMap,u.displacementScale=n.displacementScale,u.displacementBias=n.displacementBias,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,!0===r.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(r.matrixWorld),u.nearDistance=i,u.farDistance=a),u}function b(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===Ld)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=y(n,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,c)}}}else if(i.visible){const t=y(n,i,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)b(l[e],i,a,o,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kd,this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(Od),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let f=0,p=t.length;f<p;f++){const l=t[f],c=l.shadow;if(void 0===c)continue;if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const h=c.getFrameExtents();if(i.multiply(h),a.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/h.x),i.x=a.x*h.x,c.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/h.y),i.y=a.y*h.y,c.mapSize.y=a.y)),null===c.map){const e=this.type!==Ld?{minFilter:Rf,magFilter:Rf}:{};c.map=new zm(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const p=c.getViewportCount();for(let e=0;e<p;e++){const t=c.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),d.viewport(o),c.updateMatrices(l,e),r=c.getFrustum(),b(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===Ld&&v(c,s),c.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(l,c,h)}}function xx(e,t,n){const r=n.isWebGL2;const i=new function(){let t=!1;const n=new Om;let r=null;const i=new Om(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?B(2929):V(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case af:e.depthFunc(512);break;case of:e.depthFunc(519);break;case sf:e.depthFunc(513);break;case lf:e.depthFunc(515);break;case cf:e.depthFunc(514);break;case uf:e.depthFunc(518);break;case hf:e.depthFunc(516);break;case df:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?B(2960):V(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}},s=new WeakMap,l=new WeakMap;let c={},u={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,b=null,x=null,_=null,w=!1,S=null,M=null,A=null,T=null,E=null;const C=e.getParameter(35661);let P=!1,k=0;const R=e.getParameter(7938);-1!==R.indexOf("WebGL")?(k=parseFloat(/^WebGL (\d)/.exec(R)[1]),P=k>=1):-1!==R.indexOf("OpenGL ES")&&(k=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),P=k>=2);let L=null,I={};const N=e.getParameter(3088),D=e.getParameter(2978),O=(new Om).fromArray(N),z=(new Om).fromArray(D);function U(t,n,r){const i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}const F={};function B(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function V(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}F[3553]=U(3553,3553,1),F[34067]=U(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),B(2929),a.setFunc(lf),G(!1),q(Cd),B(2884),W(Od);const j={[jd]:32774,[Hd]:32778,[Wd]:32779};if(r)j[Gd]=32775,j[qd]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(j[Gd]=e.MIN_EXT,j[qd]=e.MAX_EXT)}const H={[Xd]:0,[Yd]:1,[Zd]:768,[Kd]:770,[rf]:776,[tf]:774,[$d]:772,[Jd]:769,[Qd]:771,[nf]:775,[ef]:773};function W(t,n,r,i,a,o,s,l){if(t!==Od){if(!1===p&&(B(3042),p=!0),t===Vd)a=a||n,o=o||r,s=s||i,n===g&&a===b||(e.blendEquationSeparate(j[n],j[a]),g=n,b=a),r===v&&i===y&&o===x&&s===_||(e.blendFuncSeparate(H[r],H[i],H[o],H[s]),v=r,y=i,x=o,_=s),m=t,w=!1;else if(t!==m||l!==w){if(g===jd&&b===jd||(e.blendEquation(32774),g=jd,b=jd),l)switch(t){case zd:e.blendFuncSeparate(1,771,1,771);break;case Ud:e.blendFunc(1,1);break;case Fd:e.blendFuncSeparate(0,769,0,1);break;case Bd:e.blendFuncSeparate(0,768,0,770)}else switch(t){case zd:e.blendFuncSeparate(770,771,1,771);break;case Ud:e.blendFunc(770,1);break;case Fd:e.blendFuncSeparate(0,769,0,1);break;case Bd:e.blendFunc(0,768)}v=null,y=null,x=null,_=null,m=t,w=l}}else!0===p&&(V(3042),p=!1)}function G(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function q(t){t!==Ed?(B(2884),t!==M&&(t===Cd?e.cullFace(1029):t===Pd?e.cullFace(1028):e.cullFace(1032))):V(2884),M=t}function X(t,n,r){t?(B(32823),T===n&&E===r||(e.polygonOffset(n,r),T=n,E=r)):V(32823)}return{buffers:{color:i,depth:a,stencil:o},enable:B,disable:V,bindFramebuffer:function(t,n){return u[t]!==n&&(e.bindFramebuffer(t,n),u[t]=n,r&&(36009===t&&(u[36160]=n),36160===t&&(u[36009]=n)),!0)},drawBuffers:function(r,i){let a=d,o=!1;if(r)if(a=h.get(i),void 0===a&&(a=[],h.set(i,a)),r.isWebGLMultipleRenderTargets){const e=r.texture;if(a.length!==e.length||36064!==a[0]){for(let t=0,n=e.length;t<n;t++)a[t]=36064+t;a.length=e.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:W,setMaterial:function(e,t){e.side===Dd?V(2884):B(2884);let n=e.side===Nd;t&&(n=!n),G(n),e.blending===zd&&!1===e.transparent?W(Od):W(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite);const r=e.stencilWrite;o.setTest(r),r&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),X(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?B(32926):V(32926)},setFlipSided:G,setCullFace:q,setLineWidth:function(t){t!==A&&(P&&e.lineWidth(t),A=t)},setPolygonOffset:X,setScissorTest:function(e){e?B(3089):V(3089)},activeTexture:function(t){void 0===t&&(t=33984+C-1),L!==t&&(e.activeTexture(t),L=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===L?33984+C-1:L);let i=I[r];void 0===i&&(i={type:void 0,texture:void 0},I[r]=i),i.type===t&&i.texture===n||(L!==r&&(e.activeTexture(r),L=r),e.bindTexture(t,n||F[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=I[L];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){}},updateUBOMapping:function(t,n){let r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=l.get(n).get(t);s.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),s.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},L=null,I={},u={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,b=null,x=null,_=null,w=!1,S=null,M=null,A=null,T=null,E=null,O.set(0,0,e.canvas.width,e.canvas.height),z.set(0,0,e.canvas.width,e.canvas.height),i.reset(),a.reset(),o.reset()}}}function _x(e,t,n,r,i,a,o){const s=i.isWebGL2,l=(i.maxTextures,i.maxCubemapSize),c=i.maxTextureSize,u=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,d="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let p;const m=new WeakMap;let g=!1;try{g="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function v(e,t){return g?new OffscreenCanvas(e,t):ym("canvas")}function y(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?lm:Math.floor,a=r(i*e.width),o=r(i*e.height);void 0===p&&(p=v(a,o));const s=n?v(a,o):p;s.width=a,s.height=o;return s.getContext("2d").drawImage(e,0,0,a,o),s}return e}return e}function b(e){return om(e.width)&&om(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==Rf&&e.minFilter!==Nf}function _(t){e.generateMipmap(t)}function w(n,r,i,a,o=!1){if(!1===s)return r;if(null!==n&&void 0!==e[n])return e[n];let l=r;return 6403===r&&(5126===i&&(l=33326),5131===i&&(l=33325),5121===i&&(l=33321)),33319===r&&(5126===i&&(l=33328),5131===i&&(l=33327),5121===i&&(l=33323)),6408===r&&(5126===i&&(l=34836),5131===i&&(l=34842),5121===i&&(l=a===Vp&&!1===o?35907:32856),32819===i&&(l=32854),32820===i&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function S(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&e.minFilter!==Rf&&e.minFilter!==Nf?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function M(e){return e===Rf||e===Lf||e===If?9728:9729}function A(e){const t=e.target;t.removeEventListener("dispose",A),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=m.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&E(e),0===Object.keys(i).length&&m.delete(n)}r.remove(e)}(t),t.isVideoTexture&&f.delete(t)}function T(t){const n=t.target;n.removeEventListener("dispose",T),function(t){const n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++)e.deleteFramebuffer(i.__webglFramebuffer[r]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[r]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let s=0,l=n.length;s<l;s++){const t=r.get(n[s]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),r.remove(n[s])}r.remove(n),r.remove(t)}(n)}function E(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete m.get(i)[n.__cacheKey],o.memory.textures--}let C=0;function P(e,t){const i=r.get(e);if(e.isVideoTexture&&function(e){const t=o.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){const n=e.image;if(null===n);else if(!1!==n.complete)return void N(i,e,t)}n.bindTexture(3553,i.__webglTexture,33984+t)}const k={[Cf]:10497,[Pf]:33071,[kf]:33648},R={[Rf]:9728,[Lf]:9984,[If]:9986,[Nf]:9729,[Df]:9985,[Of]:9987};function L(n,a,o){if(o?(e.texParameteri(n,10242,k[a.wrapS]),e.texParameteri(n,10243,k[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,k[a.wrapR]),e.texParameteri(n,10240,R[a.magFilter]),e.texParameteri(n,10241,R[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS!==Pf||a.wrapT,e.texParameteri(n,10240,M(a.magFilter)),e.texParameteri(n,10241,M(a.minFilter)),a.minFilter!==Rf&&a.minFilter),!0===t.has("EXT_texture_filter_anisotropic")){const o=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Rf)return;if(a.minFilter!==If&&a.minFilter!==Of)return;if(a.type===Hf&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&a.type===Wf&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function I(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",A));const i=n.source;let a=m.get(i);void 0===a&&(a={},m.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&E(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function N(t,i,o){let l=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=35866),i.isData3DTexture&&(l=32879);const u=I(t,i),h=i.source;n.bindTexture(l,t.__webglTexture,33984+o);const d=r.get(h);if(h.version!==d.__version||!0===u){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=function(e){return!s&&(e.wrapS!==Pf||e.wrapT!==Pf||e.minFilter!==Rf&&e.minFilter!==Nf)}(i)&&!1===b(i.image);let r=y(i.image,t,!1,c);r=B(i,r);const f=b(r)||s,p=a.convert(i.format,i.encoding);let m,g=a.convert(i.type),v=w(i.internalFormat,p,g,i.encoding,i.isVideoTexture);L(l,i,f);const M=i.mipmaps,A=s&&!0!==i.isVideoTexture,T=void 0===d.__version||!0===u,E=S(i,r,f);if(i.isDepthTexture)v=6402,s?v=i.type===Hf?36012:i.type===jf?33190:i.type===Xf?35056:33189:i.type,i.format===$f&&6402===v&&i.type!==Bf&&i.type!==jf&&(i.type=jf,g=a.convert(i.type)),i.format===ep&&6402===v&&(v=34041,i.type!==Xf&&(i.type=Xf,g=a.convert(i.type))),T&&(A?n.texStorage2D(3553,1,v,r.width,r.height):n.texImage2D(3553,0,v,r.width,r.height,0,p,g,null));else if(i.isDataTexture)if(M.length>0&&f){A&&T&&n.texStorage2D(3553,E,v,M[0].width,M[0].height);for(let e=0,t=M.length;e<t;e++)m=M[e],A?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,v,m.width,m.height,0,p,g,m.data);i.generateMipmaps=!1}else A?(T&&n.texStorage2D(3553,E,v,r.width,r.height),n.texSubImage2D(3553,0,0,0,r.width,r.height,p,g,r.data)):n.texImage2D(3553,0,v,r.width,r.height,0,p,g,r.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){A&&T&&n.texStorage3D(35866,E,v,M[0].width,M[0].height,r.depth);for(let e=0,t=M.length;e<t;e++)m=M[e],i.format!==Jf?null!==p&&(A?n.compressedTexSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,p,m.data,0,0):n.compressedTexImage3D(35866,e,v,m.width,m.height,r.depth,0,m.data,0,0)):A?n.texSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,p,g,m.data):n.texImage3D(35866,e,v,m.width,m.height,r.depth,0,p,g,m.data)}else{A&&T&&n.texStorage2D(3553,E,v,M[0].width,M[0].height);for(let e=0,t=M.length;e<t;e++)m=M[e],i.format!==Jf?null!==p&&(A?n.compressedTexSubImage2D(3553,e,0,0,m.width,m.height,p,m.data):n.compressedTexImage2D(3553,e,v,m.width,m.height,0,m.data)):A?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,v,m.width,m.height,0,p,g,m.data)}else if(i.isDataArrayTexture)A?(T&&n.texStorage3D(35866,E,v,r.width,r.height,r.depth),n.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(35866,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isData3DTexture)A?(T&&n.texStorage3D(32879,E,v,r.width,r.height,r.depth),n.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(32879,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isFramebufferTexture){if(T)if(A)n.texStorage2D(3553,E,v,r.width,r.height);else{let e=r.width,t=r.height;for(let r=0;r<E;r++)n.texImage2D(3553,r,v,e,t,0,p,g,null),e>>=1,t>>=1}}else if(M.length>0&&f){A&&T&&n.texStorage2D(3553,E,v,M[0].width,M[0].height);for(let e=0,t=M.length;e<t;e++)m=M[e],A?n.texSubImage2D(3553,e,0,0,p,g,m):n.texImage2D(3553,e,v,p,g,m);i.generateMipmaps=!1}else A?(T&&n.texStorage2D(3553,E,v,r.width,r.height),n.texSubImage2D(3553,0,0,0,p,g,r)):n.texImage2D(3553,0,v,p,g,r);x(i,f)&&_(l),d.__version=h.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function D(t,i,o,s,l){const c=a.convert(o.format,o.encoding),u=a.convert(o.type),d=w(o.internalFormat,c,u,o.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,d,i.width,i.height,0,c,u,null)),n.bindFramebuffer(36160,t),F(i)?h.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,U(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function O(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||F(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Hf?i=36012:t.type===jf&&(i=33190));const r=U(n);F(n)?h.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=U(n);r&&!1===F(n)?e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):F(n)?h.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const o=t[i],s=a.convert(o.format,o.encoding),l=a.convert(o.type),c=w(o.internalFormat,s,l,o.encoding),u=U(n);r&&!1===F(n)?e.renderbufferStorageMultisample(36161,u,c,n.width,n.height):F(n)?h.renderbufferStorageMultisampleEXT(36161,u,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function z(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),P(i.depthTexture,0);const a=r.get(i.depthTexture).__webglTexture,o=U(i);if(i.depthTexture.format===$f)F(i)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==ep)throw new Error("Unknown depthTexture format");F(i)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),O(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),O(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function U(e){return Math.min(u,e.samples)}function F(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function B(e,n){const r=e.encoding,i=e.format;e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Jp||r!==Bp&&r===Vp&&!1===s&&(!0===t.has("EXT_sRGB")&&i===Jf?(e.format=Jp,e.minFilter=Nf,e.generateMipmaps=!1):n=Rm.sRGBToLinear(n)),n}this.allocateTextureUnit=function(){const e=C;return C+=1,e},this.resetTextureUnits=function(){C=0},this.setTexture2D=P,this.setTexture2DArray=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;const c=I(t,i),u=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);const h=r.get(u);if(u.version!==h.__version||!0===c){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=i.isCompressedTexture||i.image[0].isCompressedTexture,r=i.image[0]&&i.image[0].isDataTexture,d=[];for(let e=0;e<6;e++)d[e]=t||r?r?i.image[e].image:i.image[e]:y(i.image[e],!1,!0,l),d[e]=B(i,d[e]);const f=d[0],p=b(f)||s,m=a.convert(i.format,i.encoding),g=a.convert(i.type),v=w(i.internalFormat,m,g,i.encoding),M=s&&!0!==i.isVideoTexture,A=void 0===h.__version||!0===c;let T,E=S(i,f,p);if(L(34067,i,p),t){M&&A&&n.texStorage2D(34067,E,v,f.width,f.height);for(let e=0;e<6;e++){T=d[e].mipmaps;for(let t=0;t<T.length;t++){const r=T[t];i.format!==Jf?null!==m&&(M?n.compressedTexSubImage2D(34069+e,t,0,0,r.width,r.height,m,r.data):n.compressedTexImage2D(34069+e,t,v,r.width,r.height,0,r.data)):M?n.texSubImage2D(34069+e,t,0,0,r.width,r.height,m,g,r.data):n.texImage2D(34069+e,t,v,r.width,r.height,0,m,g,r.data)}}}else{T=i.mipmaps,M&&A&&(T.length>0&&E++,n.texStorage2D(34067,E,v,d[0].width,d[0].height));for(let e=0;e<6;e++)if(r){M?n.texSubImage2D(34069+e,0,0,0,d[e].width,d[e].height,m,g,d[e].data):n.texImage2D(34069+e,0,v,d[e].width,d[e].height,0,m,g,d[e].data);for(let t=0;t<T.length;t++){const r=T[t].image[e].image;M?n.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,m,g,r.data):n.texImage2D(34069+e,t+1,v,r.width,r.height,0,m,g,r.data)}}else{M?n.texSubImage2D(34069+e,0,0,0,m,g,d[e]):n.texImage2D(34069+e,0,v,m,g,d[e]);for(let t=0;t<T.length;t++){const r=T[t];M?n.texSubImage2D(34069+e,t+1,0,0,m,g,r.image[e]):n.texImage2D(34069+e,t+1,v,m,g,r.image[e])}}}x(i,p)&&_(34067),h.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){const i=r.get(e);void 0!==t&&D(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&z(e)},this.setupRenderTarget=function(t){const l=t.texture,c=r.get(t),u=r.get(l);t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,o.memory.textures++);const h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=b(t)||s;if(h){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),d&&i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),o.memory.textures++)}}if(s&&t.samples>0&&!1===F(t)){const r=d?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);const o=a.convert(i.format,i.encoding),s=a.convert(i.type),l=w(i.internalFormat,o,s,i.encoding,!0===t.isXRRenderTarget),u=U(t);e.renderbufferStorageMultisample(36161,u,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),O(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),L(34067,l,f);for(let e=0;e<6;e++)D(c.__webglFramebuffer[e],t,l,36064,34069+e);x(l,f)&&_(34067),n.unbindTexture()}else if(d){const e=t.texture;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=r.get(a);n.bindTexture(3553,o.__webglTexture),L(3553,a,f),D(c.__webglFramebuffer,t,a,36064+i,3553),x(a,f)&&_(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&s&&(e=t.isWebGL3DRenderTarget?32879:35866),n.bindTexture(e,u.__webglTexture),L(e,l,f),D(c.__webglFramebuffer,t,l,36064,e),x(l,f)&&_(e),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(e){const t=b(e)||s,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,o=i.length;a<o;a++){const o=i[a];if(x(o,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(o).__webglTexture;n.bindTexture(t,i),_(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===F(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height;let s=16384;const l=[],c=t.stencilBuffer?33306:36096,u=r.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(36064+n),t.depthBuffer&&l.push(c);const f=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===f&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),h&&e.framebufferRenderbuffer(36008,36064,36161,u.__webglColorRenderbuffer[n]),!0===f&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),h){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),d&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,a,0)}n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=D,this.useMultisampledRTT=F}function wx(e,t,n){const r=n.isWebGL2;return{convert:function(n,i=null){let a;if(n===zf)return 5121;if(n===Gf)return 32819;if(n===qf)return 32820;if(n===Uf)return 5120;if(n===Ff)return 5122;if(n===Bf)return 5123;if(n===Vf)return 5124;if(n===jf)return 5125;if(n===Hf)return 5126;if(n===Wf)return r?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(n===Yf)return 6406;if(n===Jf)return 6408;if(n===Kf)return 6409;if(n===Qf)return 6410;if(n===$f)return 6402;if(n===ep)return 34041;if(n===Zf)return 6408;if(n===Jp)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(n===tp)return 6403;if(n===np)return 36244;if(n===rp)return 33319;if(n===ip)return 33320;if(n===ap)return 36249;if(n===op||n===sp||n===lp||n===cp)if(i===Vp){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(n===op)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===sp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===lp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===cp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(n===op)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===sp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===lp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===cp)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===up||n===hp||n===dp||n===fp){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(n===up)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===hp)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===dp)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===fp)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===pp)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===mp||n===gp){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(n===mp)return i===Vp?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===gp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(n===vp||n===yp||n===bp||n===xp||n===_p||n===wp||n===Sp||n===Mp||n===Ap||n===Tp||n===Ep||n===Cp||n===Pp||n===kp){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(n===vp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===yp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===bp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===xp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===_p)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===wp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Sp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Mp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Ap)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Tp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Ep)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Cp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Pp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===kp)return i===Vp?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Rp){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(n===Rp)return i===Vp?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===Xf?r?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class Sx extends Fv{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Mx extends jg{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Ax={type:"move"};class Tx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Mx,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Mx,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vm,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vm),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Mx,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vm,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vm),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),r=this._getHandJoint(l,a);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Ax)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Mx;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Ex extends Dm{constructor(e,t,n,r,i,a,o,s,l,c){if((c=void 0!==c?c:$f)!==$f&&c!==ep)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===$f&&(n=jf),void 0===n&&c===ep&&(n=Xf),super(null,r,i,a,o,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:Rf,this.minFilter=void 0!==s?s:Rf,this.flipY=!1,this.generateMipmaps=!1}}class Cx extends Kp{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=null,l=null,c=null,u=null,h=null,d=null;const f=t.getContextAttributes();let p=null,m=null;const g=[],v=[],y=new Set,b=new Map,x=new Fv;x.layers.enable(1),x.viewport=new Om;const _=new Fv;_.layers.enable(2),_.viewport=new Om;const w=[x,_],S=new Sx;S.layers.enable(1),S.layers.enable(2);let M=null,A=null;function T(e){const t=v.indexOf(e.inputSource);if(-1===t)return;const n=g[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function E(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",E),r.removeEventListener("inputsourceschange",C);for(let e=0;e<g.length;e++){const t=v[e];null!==t&&(v[e]=null,g[e].disconnect(t))}M=null,A=null,e.setRenderTarget(p),h=null,u=null,c=null,r=null,m=null,I.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function C(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=v.indexOf(n);r>=0&&(v[r]=null,g[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=v.indexOf(n);if(-1===r){for(let e=0;e<g.length;e++){if(e>=v.length){v.push(n),r=e;break}if(null===v[e]){v[e]=n,r=e;break}}if(-1===r)break}const i=g[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=g[e];return void 0===t&&(t=new Tx,g[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=g[e];return void 0===t&&(t=new Tx,g[e]=t),t.getGripSpace()},this.getHand=function(e){let t=g[e];return void 0===t&&(t=new Tx,g[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting},this.setReferenceSpaceType=function(e){o=e,n.isPresenting},this.getReferenceSpace=function(){return s||a},this.setReferenceSpace=function(e){s=e},this.getBaseLayer=function(){return null!==u?u:h},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(l){if(r=l,null!==r){if(p=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",E),r.addEventListener("inputsourceschange",C),!0!==f.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||f.antialias,alpha:f.alpha,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),m=new zm(h.framebufferWidth,h.framebufferHeight,{format:Jf,type:zf,encoding:e.outputEncoding,stencilBuffer:f.stencil})}else{let n=null,a=null,o=null;f.depth&&(o=f.stencil?35056:33190,n=f.stencil?ep:$f,a=f.stencil?Xf:jf);const s={colorFormat:32856,depthFormat:o,scaleFactor:i};c=new XRWebGLBinding(r,t),u=c.createProjectionLayer(s),r.updateRenderState({layers:[u]}),m=new zm(u.textureWidth,u.textureHeight,{format:Jf,type:zf,depthTexture:new Ex(u.textureWidth,u.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:f.stencil,encoding:e.outputEncoding,samples:f.antialias?4:0});e.properties.get(m).__ignoreDepthValues=u.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),s=null,a=await r.requestReferenceSpace(o),I.setContext(r),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const P=new Vm,k=new Vm;function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;S.near=_.near=x.near=e.near,S.far=_.far=x.far=e.far,M===S.near&&A===S.far||(r.updateRenderState({depthNear:S.near,depthFar:S.far}),M=S.near,A=S.far);const t=e.parent,n=S.cameras;R(S,t);for(let r=0;r<n.length;r++)R(n[r],t);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),e.matrix.copy(S.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);const i=e.children;for(let r=0,a=i.length;r<a;r++)i[r].updateMatrixWorld(!0);2===n.length?function(e,t,n){P.setFromMatrixPosition(t.matrixWorld),k.setFromMatrixPosition(n.matrixWorld);const r=P.distanceTo(k),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*u,f=o*h,p=r/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=o+p,v=s+p,y=d-m,b=f+(r-m),x=l*s/v*g,_=c*s/v*g;e.projectionMatrix.makePerspective(y,b,x,_,g,v)}(S,x,_):S.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){return null!==u?u.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(e){null!==u&&(u.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.getPlanes=function(){return y};let L=null;const I=new Kv;I.setAnimationLoop((function(t,r){if(l=r.getViewerPose(s||a),d=r,null!==l){const t=l.views;null!==h&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let n=!1;t.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==h)a=h.getViewport(i);else{const t=c.getViewSubImage(u,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(m,t.colorTexture,u.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}let o=w[r];void 0===o&&(o=new Fv,o.layers.enable(r),o.viewport=new Om,w[r]=o),o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&S.matrix.copy(o.matrix),!0===n&&S.cameras.push(o)}}for(let e=0;e<g.length;e++){const t=v[e],n=g[e];null!==t&&void 0!==n&&n.update(t,r,s||a)}if(L&&L(t,r),r.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let e=null;for(const t of y)r.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(const t of e)y.delete(t),b.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(const t of r.detectedPlanes)if(y.has(t)){const e=b.get(t);t.lastChangedTime>e&&(b.set(t,t.lastChangedTime),n.dispatchEvent({type:"planechanged",data:t}))}else y.add(t),b.set(t,r.lastChangedTime),n.dispatchEvent({type:"planeadded",data:t})}d=null})),this.setAnimationLoop=function(e){L=e},this.dispose=function(){}}}function Px(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===Nd&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===Nd&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);const i=t.get(r).envMap;if(i&&(n.envMap.value=i,n.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;const t=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*t}let a,o;r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?a=r.map:r.specularMap?a=r.specularMap:r.displacementMap?a=r.displacementMap:r.normalMap?a=r.normalMap:r.bumpMap?a=r.bumpMap:r.roughnessMap?a=r.roughnessMap:r.metalnessMap?a=r.metalnessMap:r.alphaMap?a=r.alphaMap:r.emissiveMap?a=r.emissiveMap:r.clearcoatMap?a=r.clearcoatMap:r.clearcoatNormalMap?a=r.clearcoatNormalMap:r.clearcoatRoughnessMap?a=r.clearcoatRoughnessMap:r.iridescenceMap?a=r.iridescenceMap:r.iridescenceThicknessMap?a=r.iridescenceThicknessMap:r.specularIntensityMap?a=r.specularIntensityMap:r.specularColorMap?a=r.specularColorMap:r.transmissionMap?a=r.transmissionMap:r.thicknessMap?a=r.thicknessMap:r.sheenColorMap?a=r.sheenColorMap:r.sheenRoughnessMap&&(a=r.sheenRoughnessMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uvTransform.value.copy(a.matrix)),r.aoMap?o=r.aoMap:r.lightMap&&(o=r.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uv2Transform.value.copy(o.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Dv(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);const r=t.get(n).envMap;r&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===Nd&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function kx(e,t,n,r){let i={},a={},o=[];const s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){const r=e.value;if(void 0===n[t]){if("number"==typeof r)n[t]=r;else{const e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"==typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture,t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){let d=i[n.id];void 0===d&&(!function(e){const t=e.uniforms;let n=0;const r=16;let i=0;for(let a=0,o=t.length;a<o;a++){const e=t[a],o={boundary:0,storage:0},s=Array.isArray(e.value)?e.value:[e.value];for(let t=0,n=s.length;t<n;t++){const e=c(s[t]);o.boundary+=e.boundary,o.storage+=e.storage}if(e.__data=new Float32Array(o.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,a>0){i=n%r;0!==i&&r-i-o.boundary<0&&(n+=r-i,e.__offset=n)}n+=o.storage}i=n%r,i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return 0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",u));const f=h.program;r.updateUBOMapping(n,f);const p=t.render.frame;a[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(let i=0,o=r.length;i<o;i++){const t=r[i];if(!0===l(t,i,a)){const n=t.__offset,r=Array.isArray(t.value)?t.value:[t.value];let i=0;for(let a=0;a<r.length;a++){const o=r[a],s=c(o);"number"==typeof o?(t.__data[0]=o,e.bufferSubData(35345,n+i,t.__data)):o.isMatrix3?(t.__data[0]=o.elements[0],t.__data[1]=o.elements[1],t.__data[2]=o.elements[2],t.__data[3]=o.elements[0],t.__data[4]=o.elements[3],t.__data[5]=o.elements[4],t.__data[6]=o.elements[5],t.__data[7]=o.elements[0],t.__data[8]=o.elements[6],t.__data[9]=o.elements[7],t.__data[10]=o.elements[8],t.__data[11]=o.elements[0]):(o.toArray(t.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,n,t.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function Rx(e={}){this.isWebGLRenderer=!0;const t=void 0!==e.canvas?e.canvas:function(){const e=ym("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,r=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,o=void 0===e.premultipliedAlpha||e.premultipliedAlpha,s=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let u;u=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let h=null,d=null;const f=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Bp,this.physicallyCorrectLights=!1,this.toneMapping=gf,this.toneMappingExposure=1;const m=this;let g=!1,v=0,y=0,b=null,x=-1,_=null;const w=new Om,S=new Om;let M=null,A=t.width,T=t.height,E=1,C=null,P=null;const k=new Om(0,0,A,T),R=new Om(0,0,A,T);let L=!1;const I=new Jv;let N=!1,D=!1,O=null;const z=new vg,U=new dm,F=new Vm,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function V(){return null===b?E:1}let j,H,W,G,q,X,Y,Z,J,K,Q,$,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,he,de=n;function fe(e,n){for(let r=0;r<e.length;r++){const i=e[r],a=t.getContext(i,n);if(null!==a)return a}return null}try{const e={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Md}`),t.addEventListener("webglcontextlost",ge,!1),t.addEventListener("webglcontextrestored",ve,!1),t.addEventListener("webglcontextcreationerror",ye,!1),null===de){const t=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&t.shift(),de=fe(t,e),null===de)throw fe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===de.getShaderPrecisionFormat&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ke){throw ke}function pe(){j=new Ty(de),H=new sy(de,j,e),j.init(H),ce=new wx(de,j,H),W=new xx(de,j,H),G=new Py,q=new ix,X=new _x(de,j,W,q,H,ce,G),Y=new cy(m),Z=new Ay(m),J=new Qv(de,H),ue=new ay(de,j,J,H),K=new Ey(de,J,G,ue),Q=new Iy(de,K,J,G),oe=new Ly(de,H,X),re=new ly(q),$=new rx(m,Y,Z,j,H,ue,re),ee=new Px(m,q),te=new lx,ne=new px(j,H),ae=new iy(m,Y,Z,W,Q,u,o),ie=new bx(m,Q,H),he=new kx(de,G,H,W),se=new oy(de,j,G,H),le=new Cy(de,j,G,H),G.programs=$.programs,m.capabilities=H,m.extensions=j,m.properties=q,m.renderLists=te,m.shadowMap=ie,m.state=W,m.info=G}pe();const me=new Cx(m,de);function ge(e){e.preventDefault(),g=!0}function ve(){g=!1;const e=G.autoReset,t=ie.enabled,n=ie.autoUpdate,r=ie.needsUpdate,i=ie.type;pe(),G.autoReset=e,ie.enabled=t,ie.autoUpdate=n,ie.needsUpdate=r,ie.type=i}function ye(e){}function be(e){const t=e.target;t.removeEventListener("dispose",be),function(e){(function(e){const t=q.get(e).programs;void 0!==t&&(t.forEach((function(e){$.releaseProgram(e)})),e.isShaderMaterial&&$.releaseShaderCache(e))})(e),q.remove(e)}(t)}this.xr=me,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const e=j.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=j.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(e){void 0!==e&&(E=e,this.setSize(A,T,!1))},this.getSize=function(e){return e.set(A,T)},this.setSize=function(e,n,r){me.isPresenting||(A=e,T=n,t.width=Math.floor(e*E),t.height=Math.floor(n*E),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(A*E,T*E).floor()},this.setDrawingBufferSize=function(e,n,r){A=e,T=n,E=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(w)},this.getViewport=function(e){return e.copy(k)},this.setViewport=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),W.viewport(w.copy(k).multiplyScalar(E).floor())},this.getScissor=function(e){return e.copy(R)},this.setScissor=function(e,t,n,r){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,r),W.scissor(S.copy(R).multiplyScalar(E).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(e){W.setScissorTest(L=e)},this.setOpaqueSort=function(e){C=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(e){return e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),de.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ge,!1),t.removeEventListener("webglcontextrestored",ve,!1),t.removeEventListener("webglcontextcreationerror",ye,!1),te.dispose(),ne.dispose(),q.dispose(),Y.dispose(),Z.dispose(),Q.dispose(),ue.dispose(),he.dispose(),$.dispose(),me.dispose(),me.removeEventListener("sessionstart",_e),me.removeEventListener("sessionend",we),O&&(O.dispose(),O=null),Se.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=B);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=B);X.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===b?m.outputEncoding:!0===b.isXRRenderTarget?b.texture.encoding:Bp,l=(r.isMeshStandardMaterial?Z:Y).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,g=r.toneMapped?m.toneMapping:gf,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==v?v.length:0,w=q.get(r),S=d.state.lights;if(!0===N&&(!0===D||e!==_)){const t=e===_&&r.id===x;re.setState(r,e,t)}let M=!1;r.version===w.__version?w.needsLights&&w.lightsStateVersion!==S.state.version||w.outputEncoding!==s||i.isInstancedMesh&&!1===w.instancing?M=!0:i.isInstancedMesh||!0!==w.instancing?i.isSkinnedMesh&&!1===w.skinning?M=!0:i.isSkinnedMesh||!0!==w.skinning?w.envMap!==l||!0===r.fog&&w.fog!==a?M=!0:void 0===w.numClippingPlanes||w.numClippingPlanes===re.numPlanes&&w.numIntersection===re.numIntersection?(w.vertexAlphas!==c||w.vertexTangents!==u||w.morphTargets!==h||w.morphNormals!==f||w.morphColors!==p||w.toneMapping!==g||!0===H.isWebGL2&&w.morphTargetsCount!==y)&&(M=!0):M=!0:M=!0:M=!0:(M=!0,w.__version=r.version);let A=w.currentProgram;!0===M&&(A=Ce(r,t,i));let C=!1,P=!1,k=!1;const R=A.getUniforms(),L=w.uniforms;W.useProgram(A.program)&&(C=!0,P=!0,k=!0);r.id!==x&&(x=r.id,P=!0);if(C||_!==e){if(R.setValue(de,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&R.setValue(de,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),_!==e&&(_=e,P=!0,k=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=R.map.cameraPosition;void 0!==t&&t.setValue(de,F.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(de,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&R.setValue(de,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){R.setOptional(de,i,"bindMatrix"),R.setOptional(de,i,"bindMatrixInverse");const e=i.skeleton;e&&H.floatVertexTextures&&(null===e.boneTexture&&e.computeBoneTexture(),R.setValue(de,"boneTexture",e.boneTexture,X),R.setValue(de,"boneTextureSize",e.boneTextureSize))}const I=n.morphAttributes;(void 0!==I.position||void 0!==I.normal||void 0!==I.color&&!0===H.isWebGL2)&&oe.update(i,n,r,A);(P||w.receiveShadow!==i.receiveShadow)&&(w.receiveShadow=i.receiveShadow,R.setValue(de,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(L.envMap.value=l,L.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);P&&(R.setValue(de,"toneMappingExposure",m.toneMappingExposure),w.needsLights&&(U=k,(z=L).ambientLightColor.needsUpdate=U,z.lightProbe.needsUpdate=U,z.directionalLights.needsUpdate=U,z.directionalLightShadows.needsUpdate=U,z.pointLights.needsUpdate=U,z.pointLightShadows.needsUpdate=U,z.spotLights.needsUpdate=U,z.spotLightShadows.needsUpdate=U,z.rectAreaLights.needsUpdate=U,z.hemisphereLights.needsUpdate=U),a&&!0===r.fog&&ee.refreshFogUniforms(L,a),ee.refreshMaterialUniforms(L,r,E,T,O),zb.upload(de,w.uniformsList,L,X));var z,U;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(zb.upload(de,w.uniformsList,L,X),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&R.setValue(de,"center",i.center);if(R.setValue(de,"modelViewMatrix",i.modelViewMatrix),R.setValue(de,"normalMatrix",i.normalMatrix),R.setValue(de,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(H.isWebGL2){const n=e[t];he.update(n,A),he.bind(n,A)}}return A}(e,t,n,r,i);W.setMaterial(r,o);let l=n.index,c=1;!0===r.wireframe&&(l=K.getWireframeAttribute(n),c=2);const u=n.drawRange,h=n.attributes.position;let f=u.start*c,p=(u.start+u.count)*c;null!==a&&(f=Math.max(f,a.start*c),p=Math.min(p,(a.start+a.count)*c)),null!==l?(f=Math.max(f,0),p=Math.min(p,l.count)):null!=h&&(f=Math.max(f,0),p=Math.min(p,h.count));const g=p-f;if(g<0||g===1/0)return;let v;ue.setup(i,r,s,n,l);let y=se;if(null!==l&&(v=J.get(l),y=le,y.setIndex(v)),i.isMesh)!0===r.wireframe?(W.setLineWidth(r.wireframeLinewidth*V()),y.setMode(1)):y.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),W.setLineWidth(e*V()),i.isLineSegments?y.setMode(1):i.isLineLoop?y.setMode(2):y.setMode(3)}else i.isPoints?y.setMode(0):i.isSprite&&y.setMode(4);if(i.isInstancedMesh)y.renderInstances(f,g,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);y.renderInstances(f,g,t)}else y.render(f,g)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&3===e.side?(e.side=Nd,e.needsUpdate=!0,Ce(e,t,n),e.side=Id,e.needsUpdate=!0,Ce(e,t,n),e.side=3):Ce(e,t,n)}d=ne.get(e),d.init(),p.push(d),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(m.physicallyCorrectLights),e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),p.pop(),d=null};let xe=null;function _e(){Se.stop()}function we(){Se.start()}const Se=new Kv;function Me(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||I.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=Q.update(e),i=e.material;i.visible&&h.push(e,t,i,n,F.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==G.render.frame&&(e.skeleton.update(),e.skeleton.frame=G.render.frame),!e.frustumCulled||I.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=Q.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&h.push(e,t,s,n,F.z,o)}}else i.visible&&h.push(e,t,i,n,F.z,null)}const i=e.children;for(let a=0,o=i.length;a<o;a++)Me(i[a],t,n,r)}function Ae(e,t,n,r){const i=e.opaque,o=e.transmissive,s=e.transparent;d.setupLightsView(n),o.length>0&&function(e,t,n){const r=H.isWebGL2;null===O&&(O=new zm(1,1,{generateMipmaps:!0,type:j.has("EXT_color_buffer_half_float")?Wf:zf,minFilter:Of,samples:r&&!0===a?4:0}));m.getDrawingBufferSize(U),r?O.setSize(U.x,U.y):O.setSize(lm(U.x),lm(U.y));const i=m.getRenderTarget();m.setRenderTarget(O),m.clear();const o=m.toneMapping;m.toneMapping=gf,Te(e,t,n),m.toneMapping=o,X.updateMultisampleRenderTarget(O),X.updateRenderTargetMipmap(O),m.setRenderTarget(i)}(i,t,n),r&&W.viewport(w.copy(r)),i.length>0&&Te(i,t,n),o.length>0&&Te(o,t,n),s.length>0&&Te(s,t,n),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1)}function Te(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,c=a.group;o.layers.test(n.layers)&&Ee(o,t,n,s,l,c)}}function Ee(e,t,n,r,i,a){e.onBeforeRender(m,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(m,t,n,r,e,a),!0===i.transparent&&3===i.side?(i.side=Nd,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=Id,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=3):m.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(m,t,n,r,i,a)}function Ce(e,t,n){!0!==t.isScene&&(t=B);const r=q.get(e),i=d.state.lights,a=d.state.shadowsArray,o=i.state.version,s=$.getParameters(e,i.state,a,t,n),l=$.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Z:Y).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",be),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return Pe(e,s),u}else s.uniforms=$.getUniforms(e),e.onBuild(n,s,m),e.onBeforeCompile(s,m),u=$.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=re.uniform),Pe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);const f=u.getUniforms(),p=zb.seqWithValue(f.seq,h);return r.currentProgram=u,r.uniformsList=p,u}function Pe(e,t){const n=q.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Se.setAnimationLoop((function(e){xe&&xe(e)})),"undefined"!=typeof self&&Se.setContext(self),this.setAnimationLoop=function(e){xe=e,me.setAnimationLoop(e),null===e?Se.stop():Se.start()},me.addEventListener("sessionstart",_e),me.addEventListener("sessionend",we),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return;if(!0===g)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(!0===me.cameraAutoUpdate&&me.updateCamera(t),t=me.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,b),d=ne.get(e,p.length),d.init(),p.push(d),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(z),D=this.localClippingEnabled,N=re.init(this.clippingPlanes,D,t),h=te.get(e,f.length),h.init(),f.push(h),Me(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&h.sort(C,P),!0===N&&re.beginShadows();const n=d.state.shadowsArray;if(ie.render(n,e,t),!0===N&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(h,e),d.setupLights(m.physicallyCorrectLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Ae(h,e,r,r.viewport)}}else Ae(h,e,t);null!==b&&(X.updateMultisampleRenderTarget(b),X.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(m,e,t),ue.resetDefaultState(),x=-1,_=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(e,t,n){q.get(e.texture).__webglTexture=t,q.get(e.depthTexture).__webglTexture=n;const r=q.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===j.has("WEBGL_multisampled_render_to_texture")&&(r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){b=e,v=t,y=n;let r=!0,i=null,a=!1,o=!1;if(e){const n=q.get(e);void 0!==n.__useDefaultFramebuffer?(W.bindFramebuffer(36160,null),r=!1):void 0===n.__webglFramebuffer?X.setupRenderTarget(e):n.__hasExternalTextures&&X.rebindTextures(e,q.get(e.texture).__webglTexture,q.get(e.depthTexture).__webglTexture);const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(o=!0);const l=q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=H.isWebGL2&&e.samples>0&&!1===X.useMultisampledRTT(e)?q.get(e).__webglMultisampledFramebuffer:l,w.copy(e.viewport),S.copy(e.scissor),M=e.scissorTest}else w.copy(k).multiplyScalar(E).floor(),S.copy(R).multiplyScalar(E).floor(),M=L;if(W.bindFramebuffer(36160,i)&&H.drawBuffers&&r&&W.drawBuffers(e,i),W.viewport(w),W.scissor(S),W.setScissorTest(M),a){const r=q.get(e.texture);de.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(o){const r=q.get(e.texture),i=t||0;de.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}x=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return;let s=q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){W.bindFramebuffer(36160,s);try{const o=e.texture,s=o.format,l=o.type;if(s!==Jf&&ce.convert(s)!==de.getParameter(35739))return;const c=l===Wf&&(j.has("EXT_color_buffer_half_float")||H.isWebGL2&&j.has("EXT_color_buffer_float"));if(!(l===zf||ce.convert(l)===de.getParameter(35738)||l===Hf&&(H.isWebGL2||j.has("OES_texture_float")||j.has("WEBGL_color_buffer_float"))||c))return;t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&de.readPixels(t,n,r,i,ce.convert(s),ce.convert(l),a)}finally{const e=null!==b?q.get(b).__webglFramebuffer:null;W.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);X.setTexture2D(t,0),de.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),W.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){const i=t.image.width,a=t.image.height,o=ce.convert(n.format),s=ce.convert(n.type);X.setTexture2D(n,0),de.pixelStorei(37440,n.flipY),de.pixelStorei(37441,n.premultiplyAlpha),de.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?de.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?de.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):de.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&de.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(m.isWebGL1Renderer)return;const a=e.max.x-e.min.x+1,o=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=ce.convert(r.format),c=ce.convert(r.type);let u;if(r.isData3DTexture)X.setTexture3D(r,0),u=32879;else{if(!r.isDataArrayTexture)return;X.setTexture2DArray(r,0),u=35866}de.pixelStorei(37440,r.flipY),de.pixelStorei(37441,r.premultiplyAlpha),de.pixelStorei(3317,r.unpackAlignment);const h=de.getParameter(3314),d=de.getParameter(32878),f=de.getParameter(3316),p=de.getParameter(3315),g=de.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;de.pixelStorei(3314,v.width),de.pixelStorei(32878,v.height),de.pixelStorei(3316,e.min.x),de.pixelStorei(3315,e.min.y),de.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?de.texSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,c,v.data):n.isCompressedArrayTexture?de.compressedTexSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,v.data):de.texSubImage3D(u,i,t.x,t.y,t.z,a,o,s,l,c,v),de.pixelStorei(3314,h),de.pixelStorei(32878,d),de.pixelStorei(3316,f),de.pixelStorei(3315,p),de.pixelStorei(32877,g),0===i&&r.generateMipmaps&&de.generateMipmap(u),W.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?X.setTextureCube(e,0):e.isData3DTexture?X.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?X.setTexture2DArray(e,0):X.setTexture2D(e,0),W.unbindTexture()},this.resetState=function(){v=0,y=0,b=null,W.reset(),ue.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Lx extends Rx{}Lx.prototype.isWebGL1Renderer=!0;class Ix{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Pm(e),this.density=t}clone(){return new Ix(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Nx{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Pm(e),this.near=t,this.far=n}clone(){return new Nx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Dx extends jg{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return this.matrixWorldAutoUpdate}set autoUpdate(e){this.matrixWorldAutoUpdate=e}}class Ox{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Yp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=nm()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=nm()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=nm()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zx=new Vm;class Ux{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)zx.fromBufferAttribute(this,t),zx.applyMatrix4(e),this.setXYZ(t,zx.x,zx.y,zx.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)zx.fromBufferAttribute(this,t),zx.applyNormalMatrix(e),this.setXYZ(t,zx.x,zx.y,zx.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)zx.fromBufferAttribute(this,t),zx.transformDirection(e),this.setXYZ(t,zx.x,zx.y,zx.z);return this}setX(e,t){return this.normalized&&(t=um(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=um(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=um(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=um(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=cm(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=cm(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=cm(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=cm(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=um(t,this.array),n=um(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=um(t,this.array),n=um(n,this.array),r=um(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=um(t,this.array),n=um(n,this.array),r=um(r,this.array),i=um(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new av(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ux(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Fx extends tv{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Pm(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Bx;const Vx=new Vm,jx=new Vm,Hx=new Vm,Wx=new dm,Gx=new dm,qx=new vg,Xx=new Vm,Yx=new Vm,Zx=new Vm,Jx=new dm,Kx=new dm,Qx=new dm;class $x extends jg{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Bx){Bx=new gv;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Ox(e,5);Bx.setIndex([0,1,2,0,2,3]),Bx.setAttribute("position",new Ux(t,3,0,!1)),Bx.setAttribute("uv",new Ux(t,2,3,!1))}this.geometry=Bx,this.material=void 0!==e?e:new Fx,this.center=new dm(.5,.5)}raycast(e,t){e.camera,jx.setFromMatrixScale(this.matrixWorld),qx.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hx.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&jx.multiplyScalar(-Hx.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;e_(Xx.set(-.5,-.5,0),Hx,a,jx,r,i),e_(Yx.set(.5,-.5,0),Hx,a,jx,r,i),e_(Zx.set(.5,.5,0),Hx,a,jx,r,i),Jx.set(0,0),Kx.set(1,0),Qx.set(1,1);let o=e.ray.intersectTriangle(Xx,Yx,Zx,!1,Vx);if(null===o&&(e_(Yx.set(-.5,.5,0),Hx,a,jx,r,i),Kx.set(0,1),o=e.ray.intersectTriangle(Xx,Zx,Yx,!1,Vx),null===o))return;const s=e.ray.origin.distanceTo(Vx);s<e.near||s>e.far||t.push({distance:s,point:Vx.clone(),uv:$g.getUV(Vx,Xx,Yx,Zx,Jx,Kx,Qx,new dm),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function e_(e,t,n,r,i,a){Wx.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Gx.x=a*Wx.x-i*Wx.y,Gx.y=i*Wx.x+a*Wx.y):Gx.copy(Wx),e.copy(t),e.x+=Gx.x,e.y+=Gx.y,e.applyMatrix4(qx)}const t_=new Vm,n_=new Vm;class r_ extends jg{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){t_.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(t_);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){t_.setFromMatrixPosition(e.matrixWorld),n_.setFromMatrixPosition(this.matrixWorld);const n=t_.distanceTo(n_)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const i_=new Vm,a_=new Om,o_=new Om,s_=new Vm,l_=new vg;class c_ extends kv{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new vg,this.bindMatrixInverse=new vg}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Om,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}boneTransform(e,t){const n=this.skeleton,r=this.geometry;a_.fromBufferAttribute(r.attributes.skinIndex,e),o_.fromBufferAttribute(r.attributes.skinWeight,e),i_.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=o_.getComponent(i);if(0!==e){const r=a_.getComponent(i);l_.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(s_.copy(i_).applyMatrix4(l_),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class u_ extends jg{constructor(){super(),this.isBone=!0,this.type="Bone"}}class h_ extends Dm{constructor(e=null,t=1,n=1,r,i,a,o,s,l=Rf,c=Rf,u,h){super(null,a,o,s,l,c,r,i,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const d_=new vg,f_=new vg;class p_{constructor(e=[],t=[]){this.uuid=nm(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new vg)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new vg;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,a=e.length;i<a;i++){const r=e[i]?e[i].matrixWorld:f_;d_.multiplyMatrices(r,t[i]),d_.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new p_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=sm(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new h_(t,e,e,Jf,Hf);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=t[e.bones[n]];void 0===r&&(r=new u_),this.bones.push(r),this.boneInverses.push((new vg).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class m_ extends av{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const g_=new vg,v_=new vg,y_=[],b_=new vg,x_=new kv;class __ extends kv{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new m_(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let r=0;r<n;r++)this.setMatrixAt(r,b_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(x_.geometry=this.geometry,x_.material=this.material,void 0!==x_.material)for(let i=0;i<r;i++){this.getMatrixAt(i,g_),v_.multiplyMatrices(n,g_),x_.matrixWorld=v_,x_.raycast(e,y_);for(let e=0,n=y_.length;e<n;e++){const n=y_[e];n.instanceId=i,n.object=this,t.push(n)}y_.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new m_(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class w_ extends tv{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Pm(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const S_=new Vm,M_=new Vm,A_=new vg,T_=new gg,E_=new lg;let C_=class extends jg{constructor(e=new gv,t=new w_){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)S_.fromBufferAttribute(t,e-1),M_.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=S_.distanceTo(M_);e.setAttribute("lineDistance",new lv(n,1))}return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),E_.copy(n.boundingSphere),E_.applyMatrix4(r),E_.radius+=i,!1===e.ray.intersectsSphere(E_))return;A_.copy(r).invert(),T_.copy(e.ray).applyMatrix4(A_);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new Vm,c=new Vm,u=new Vm,h=new Vm,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f){for(let n=Math.max(0,a.start),r=Math.min(f.count,a.start+a.count)-1;n<r;n+=d){const r=f.getX(n),i=f.getX(n+1);l.fromBufferAttribute(p,r),c.fromBufferAttribute(p,i);if(T_.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);const a=e.ray.origin.distanceTo(h);a<e.near||a>e.far||t.push({distance:a,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,a.start),r=Math.min(p.count,a.start+a.count)-1;n<r;n+=d){l.fromBufferAttribute(p,n),c.fromBufferAttribute(p,n+1);if(T_.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(h);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}};const P_=new Vm,k_=new Vm;class R_ extends C_{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)P_.fromBufferAttribute(t,e),k_.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+P_.distanceTo(k_);e.setAttribute("lineDistance",new lv(n,1))}return this}}class L_ extends C_{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class I_ extends tv{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Pm(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const N_=new vg,D_=new gg,O_=new lg,z_=new Vm;class U_ extends jg{constructor(e=new gv,t=new I_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),O_.copy(n.boundingSphere),O_.applyMatrix4(r),O_.radius+=i,!1===e.ray.intersectsSphere(O_))return;N_.copy(r).invert(),D_.copy(e.ray).applyMatrix4(N_);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);n<i;n++){const i=l.getX(n);z_.fromBufferAttribute(c,i),F_(z_,i,s,r,e,t,this)}}else{for(let n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);n<i;n++)z_.fromBufferAttribute(c,n),F_(z_,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function F_(e,t,n,r,i,a,o){const s=D_.distanceSqToPoint(e);if(s<n){const n=new Vm;D_.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o})}}class B_ extends Dm{constructor(e,t,n,r,i,a,o,s,l,c,u,h){super(null,a,o,s,l,c,r,i,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class V_{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let o,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),o=n[r]-a,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const c=n[r];return(r+(a-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new dm:new Vm);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Vm,r=[],i=[],a=[],o=new Vm,s=new vg;for(let d=0;d<=e;d++){const t=d/e;r[d]=this.getTangentAt(t,new Vm)}i[0]=new Vm,a[0]=new Vm;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let d=1;d<=e;d++){if(i[d]=i[d-1].clone(),a[d]=a[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(rm(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(s.makeRotationAxis(o,e))}a[d].crossVectors(r[d],i[d])}if(!0===t){let t=Math.acos(rm(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class j_ extends V_{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){const n=t||new dm,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);const o=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class H_ extends j_{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function W_(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,c*=o,i(t,n,l,c)},calc:function(i){const a=i*i;return e+t*i+n*a+r*(a*i)}}}const G_=new Vm,q_=new W_,X_=new W_,Y_=new W_;class Z_ extends V_{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Vm){const n=t,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e;let o,s,l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?o=r[(l-1)%i]:(G_.subVectors(r[0],r[1]).add(r[0]),o=G_);const u=r[l%i],h=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(G_.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=G_),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),q_.initNonuniformCatmullRom(o.x,u.x,h.x,s.x,t,n,r),X_.initNonuniformCatmullRom(o.y,u.y,h.y,s.y,t,n,r),Y_.initNonuniformCatmullRom(o.z,u.z,h.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(q_.initCatmullRom(o.x,u.x,h.x,s.x,this.tension),X_.initCatmullRom(o.y,u.y,h.y,s.y,this.tension),Y_.initCatmullRom(o.z,u.z,h.z,s.z,this.tension));return n.set(q_.calc(c),X_.calc(c),Y_.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Vm).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function J_(e,t,n,r,i){const a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function K_(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Q_(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class $_ extends V_{constructor(e=new dm,t=new dm,n=new dm,r=new dm){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new dm){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Q_(e,r.x,i.x,a.x,o.x),Q_(e,r.y,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ew extends V_{constructor(e=new Vm,t=new Vm,n=new Vm,r=new Vm){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Vm){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Q_(e,r.x,i.x,a.x,o.x),Q_(e,r.y,i.y,a.y,o.y),Q_(e,r.z,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tw extends V_{constructor(e=new dm,t=new dm){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new dm){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new dm;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nw extends V_{constructor(e=new Vm,t=new Vm){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Vm){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rw extends V_{constructor(e=new dm,t=new dm,n=new dm){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new dm){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(K_(e,r.x,i.x,a.x),K_(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iw extends V_{constructor(e=new Vm,t=new Vm,n=new Vm){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Vm){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(K_(e,r.x,i.x,a.x),K_(e,r.y,i.y,a.y),K_(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aw extends V_{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new dm){const n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(J_(o,s.x,l.x,c.x,u.x),J_(o,s.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new dm).fromArray(n))}return this}}var ow=Object.freeze({__proto__:null,ArcCurve:H_,CatmullRomCurve3:Z_,CubicBezierCurve:$_,CubicBezierCurve3:ew,EllipseCurve:j_,LineCurve:tw,LineCurve3:nw,QuadraticBezierCurve:rw,QuadraticBezierCurve3:iw,SplineCurve:aw});class sw extends V_{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new tw(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new ow[n.type]).fromJSON(n))}return this}}class lw extends sw{constructor(e){super(),this.type="Path",this.currentPoint=new dm,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new tw(this.currentPoint.clone(),new dm(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new rw(this.currentPoint.clone(),new dm(e,t),new dm(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const o=new $_(this.currentPoint.clone(),new dm(e,t),new dm(n,r),new dm(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new aw(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){const l=new j_(e,t,n,r,i,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class cw extends gv{constructor(e=[new dm(0,-.5),new dm(.5,0),new dm(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=rm(r,0,2*Math.PI);const i=[],a=[],o=[],s=[],l=[],c=1/t,u=new Vm,h=new dm,d=new Vm,f=new Vm,p=new Vm;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,d.x=1*g,d.y=-m,d.z=0*g,p.copy(d),d.normalize(),s.push(d.x,d.y,d.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,d.x=1*g,d.y=-m,d.z=0*g,f.copy(d),d.x+=p.x,d.y+=p.y,d.z+=p.z,d.normalize(),s.push(d.x,d.y,d.z),p.copy(f)}for(let v=0;v<=t;v++){const i=n+v*c*r,d=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*d,u.y=e[n].y,u.z=e[n].x*f,a.push(u.x,u.y,u.z),h.x=v/t,h.y=n/(e.length-1),o.push(h.x,h.y);const r=s[3*n+0]*d,i=s[3*n+1],c=s[3*n+0]*f;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,a=n+e.length,o=n+e.length+1,s=n+1;i.push(r,a,s),i.push(o,s,a)}this.setIndex(i),this.setAttribute("position",new lv(a,3)),this.setAttribute("uv",new lv(o,2)),this.setAttribute("normal",new lv(l,3))}static fromJSON(e){return new cw(e.points,e.segments,e.phiStart,e.phiLength)}}class uw extends cw{constructor(e=1,t=1,n=4,r=8){const i=new lw;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new uw(e.radius,e.length,e.capSegments,e.radialSegments)}}class hw extends gv{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new Vm,c=new dm;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[h]/e+1)/2,c.y=(a[h+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new lv(a,3)),this.setAttribute("normal",new lv(o,3)),this.setAttribute("uv",new lv(s,2))}static fromJSON(e){return new hw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class dw extends gv{constructor(e=1,t=1,n=1,r=32,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,a=new dm,p=new Vm;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),h.push(0,b,0),d.push(.5,.5),f++;const x=f;for(let e=0;e<=r;e++){const t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),h.push(0,b,0),a.x=.5*n+.5,a.y=.5*i*b+.5,d.push(a.x,a.y),f++}for(let e=0;e<r;e++){const t=i+e,r=x+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new Vm,v=new Vm;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),a.set(l,b,p).normalize(),h.push(a.x,a.y,a.z),d.push(t,1-g),c.push(f++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],a=p[t][e+1];c.push(n,r,a),c.push(r,i,a),y+=6}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new lv(u,3)),this.setAttribute("normal",new lv(h,3)),this.setAttribute("uv",new lv(d,2))}static fromJSON(e){return new dw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fw extends dw{constructor(e=1,t=1,n=32,r=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new fw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pw extends gv{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function o(e,t,n,r){const i=r+1,a=[];for(let o=0;o<=i;o++){a[o]=[];const r=e.clone().lerp(n,o/i),s=t.clone().lerp(n,o/i),l=i-o;for(let e=0;e<=l;e++)a[o][e]=0===e&&o===i?r:r.clone().lerp(s,e/l)}for(let o=0;o<i;o++)for(let e=0;e<2*(i-o)-1;e++){const t=Math.floor(e/2);e%2==0?(s(a[o][t+1]),s(a[o+1][t]),s(a[o][t])):(s(a[o][t+1]),s(a[o+1][t+1]),s(a[o+1][t]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new Vm,r=new Vm,i=new Vm;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)}(r),function(e){const t=new Vm;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new Vm;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=u(e)/2/Math.PI+.5,o=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);a.push(r,1-o)}var t;(function(){const e=new Vm,t=new Vm,n=new Vm,r=new Vm,o=new dm,s=new dm,l=new dm;for(let h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),o.set(a[d+0],a[d+1]),s.set(a[d+2],a[d+3]),l.set(a[d+4],a[d+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=u(r);c(o,d+0,e,f),c(s,d+2,t,f),c(l,d+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new lv(i,3)),this.setAttribute("normal",new lv(i.slice(),3)),this.setAttribute("uv",new lv(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new pw(e.vertices,e.indices,e.radius,e.details)}}class mw extends pw{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mw(e.radius,e.detail)}}const gw=new Vm,vw=new Vm,yw=new Vm,bw=new $g;class xw extends gv{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(em*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},d=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=bw;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),bw.getNormal(yw),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(s.x*r)},${Math.round(s.y*r)},${Math.round(s.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],a=bw[c[e]],o=bw[c[t]],s=`${n}_${r}`,f=`${r}_${n}`;f in h&&h[f]?(yw.dot(h[f].normal)<=i&&(d.push(a.x,a.y,a.z),d.push(o.x,o.y,o.z)),h[f]=null):s in h||(h[s]={index0:l[e],index1:l[t],normal:yw.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];gw.fromBufferAttribute(o,t),vw.fromBufferAttribute(o,n),d.push(gw.x,gw.y,gw.z),d.push(vw.x,vw.y,vw.z)}this.setAttribute("position",new lv(d,3))}}}class _w extends lw{constructor(e){super(e),this.uuid=nm(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new lw).fromJSON(n))}return this}}const ww=function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let a=Sw(e,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c,u,h,d,f;if(r&&(a=function(e,t,n,r){const i=[];let a,o,s,l,c;for(a=0,o=t.length;a<o;a++)s=t[a]*r,l=a<o-1?t[a+1]*r:e.length,c=Sw(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Nw(c));for(i.sort(kw),a=0;a<i.length;a++)n=Rw(i[a],n);return n}(e,t,a,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)h=e[t],d=e[t+1],h<s&&(s=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);f=Math.max(c-s,u-l),f=0!==f?32767/f:0}return Aw(a,o,n,s,l,f,0),o};function Sw(e,t,n,r,i){let a,o;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Ww(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Ww(a,e[a],e[a+1],o);return o&&Uw(o,o.next)&&(Gw(o),o=o.next),o}function Mw(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Uw(r,r.next)&&0!==zw(r.prev,r,r.next))r=r.next;else{if(Gw(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Aw(e,t,n,r,i,a,o){if(!e)return;!o&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Iw(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,a,o,s,l,c=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(o>1)}(i)}(e,r,i,a);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Ew(e,r,i,a):Tw(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Gw(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?Aw(e=Cw(Mw(e),t,n),t,n,r,i,a,2):2===o&&Pw(e,t,n,r,i,a):Aw(Mw(e),t,n,r,i,a,1);break}}function Tw(e){const t=e.prev,n=e,r=e.next;if(zw(t,n,r)>=0)return!1;const i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,c=r.y,u=i<a?i<o?i:o:a<o?a:o,h=s<l?s<c?s:c:l<c?l:c,d=i>a?i>o?i:o:a>o?a:o,f=s>l?s>c?s:c:l>c?l:c;let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=d&&p.y>=h&&p.y<=f&&Dw(i,s,a,l,o,c,p.x,p.y)&&zw(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ew(e,t,n,r){const i=e.prev,a=e,o=e.next;if(zw(i,a,o)>=0)return!1;const s=i.x,l=a.x,c=o.x,u=i.y,h=a.y,d=o.y,f=s<l?s<c?s:c:l<c?l:c,p=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,v=Iw(f,p,t,n,r),y=Iw(m,g,t,n,r);let b=e.prevZ,x=e.nextZ;for(;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&Dw(s,u,l,h,c,d,b.x,b.y)&&zw(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&Dw(s,u,l,h,c,d,x.x,x.y)&&zw(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&Dw(s,u,l,h,c,d,b.x,b.y)&&zw(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&Dw(s,u,l,h,c,d,x.x,x.y)&&zw(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Cw(e,t,n){let r=e;do{const i=r.prev,a=r.next.next;!Uw(i,a)&&Fw(i,r,r.next,a)&&jw(i,a)&&jw(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Gw(r),Gw(r.next),r=e=a),r=r.next}while(r!==e);return Mw(r)}function Pw(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&Ow(o,e)){let s=Hw(o,e);return o=Mw(o,o.next),s=Mw(s,s.next),Aw(o,t,n,r,i,a,0),void Aw(s,t,n,r,i,a,0)}e=e.next}o=o.next}while(o!==e)}function kw(e,t){return e.x-t.x}function Rw(e,t){const n=function(e,t){let n,r=t,i=-1/0;const a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){const e=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=a&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===a))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,c=n.y;let u,h=1/0;r=n;do{a>=r.x&&r.x>=l&&a!==r.x&&Dw(o<c?a:i,o,l,c,o<c?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),jw(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&Lw(n,r)))&&(n=r,h=u)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=Hw(n,e);return Mw(r,r.next),Mw(n,n.next)}function Lw(e,t){return zw(e.prev,e,t.prev)<0&&zw(t.next,e,e.next)<0}function Iw(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Nw(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Dw(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Ow(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Fw(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(jw(e,t)&&jw(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(zw(e.prev,e,t.prev)||zw(e,t.prev,t))||Uw(e,t)&&zw(e.prev,e,e.next)>0&&zw(t.prev,t,t.next)>0)}function zw(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Uw(e,t){return e.x===t.x&&e.y===t.y}function Fw(e,t,n,r){const i=Vw(zw(e,t,n)),a=Vw(zw(e,t,r)),o=Vw(zw(n,r,e)),s=Vw(zw(n,r,t));return i!==a&&o!==s||(!(0!==i||!Bw(e,n,t))||(!(0!==a||!Bw(e,r,t))||(!(0!==o||!Bw(n,e,r))||!(0!==s||!Bw(n,t,r)))))}function Bw(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Vw(e){return e>0?1:e<0?-1:0}function jw(e,t){return zw(e.prev,e,e.next)<0?zw(e,t,e.next)>=0&&zw(e,e.prev,t)>=0:zw(e,t,e.prev)<0||zw(e,e.next,t)<0}function Hw(e,t){const n=new qw(e.i,e.x,e.y),r=new qw(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Ww(e,t,n,r){const i=new qw(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Gw(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function qw(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Xw{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Xw.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Yw(e),Zw(n,e);let a=e.length;t.forEach(Yw);for(let s=0;s<t.length;s++)r.push(a),a+=t[s].length,Zw(n,t[s]);const o=ww(n,r);for(let s=0;s<o.length;s+=3)i.push(o.slice(s,s+3));return i}}function Yw(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Zw(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Jw extends gv{constructor(e=new _w([new dm(.5,.5),new dm(-.5,.5),new dm(-.5,-.5),new dm(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let o=0,s=e.length;o<s;o++){a(e[o])}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Kw;let g,v,y,b,x,_=!1;p&&(g=p.getSpacedPoints(s),_=!0,c=!1,v=p.computeFrenetFrames(s,!1),y=new Vm,b=new Vm,x=new Vm),c||(f=0,u=0,h=0,d=0);const w=e.extractPoints(o);let S=w.shape;const M=w.holes;if(!Xw.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];Xw.isClockWise(t)&&(M[e]=t.reverse())}}const A=Xw.triangulateShape(S,M),T=S;for(let t=0,n=M.length;t<n;t++){const e=M[t];S=S.concat(e)}function E(e,t,n){return t.clone().multiplyScalar(n).add(e)}const C=S.length,P=A.length;function k(e,t,n){let r,i,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,h=o*c-s*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=t.x-s/h,p=t.y+o/h,m=((n.x-c/d-f)*c-(n.y+l/d-p)*l)/(o*c-s*l);r=f+o*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new dm(r,i);a=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(u)):(r=o,i=s,a=Math.sqrt(u/2))}return new dm(r/a,i/a)}const R=[];for(let t=0,n=T.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),R[t]=k(T[t],T[r],T[i]);const L=[];let I,N=R.concat();for(let t=0,n=M.length;t<n;t++){const e=M[t];I=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=k(e[t],e[r],e[i]);L.push(I),N=N.concat(I)}for(let t=0;t<f;t++){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=T.length;t<i;t++){const e=E(T[t],R[t],r);z(e.x,e.y,-n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];I=L[t];for(let t=0,i=e.length;t<i;t++){const i=E(e[t],I[t],r);z(i.x,i.y,-n)}}}const D=h+d;for(let t=0;t<C;t++){const e=c?E(S[t],N[t],D):S[t];_?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),x.copy(g[0]).add(b).add(y),z(x.x,x.y,x.z)):z(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<C;e++){const n=c?E(S[e],N[e],D):S[e];_?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),x.copy(g[t]).add(b).add(y),z(x.x,x.y,x.z)):z(n.x,n.y,l/s*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=T.length;t<i;t++){const e=E(T[t],R[t],r);z(e.x,e.y,l+n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];I=L[t];for(let t=0,i=e.length;t<i;t++){const i=E(e[t],I[t],r);_?z(i.x,i.y+g[s-1].y,g[s-1].x+n):z(i.x,i.y,l+n)}}}function O(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*f;e<n;e++){const n=C*e,a=C*(e+1);F(t+r+n,t+i+n,t+i+a,t+r+a)}}}function z(e,t,n){a.push(e),a.push(t),a.push(n)}function U(e,t,i){B(e),B(t),B(i);const a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);V(o[0]),V(o[1]),V(o[2])}function F(e,t,i,a){B(e),B(t),B(a),B(t),B(i),B(a);const o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);V(s[0]),V(s[1]),V(s[3]),V(s[1]),V(s[2]),V(s[3])}function B(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function V(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=C*e;for(let n=0;n<P;n++){const e=A[n];U(e[2]+t,e[1]+t,e[0]+t)}e=s+2*f,t=C*e;for(let n=0;n<P;n++){const e=A[n];U(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<P;e++){const t=A[e];U(t[2],t[1],t[0])}for(let e=0;e<P;e++){const t=A[e];U(t[0]+C*s,t[1]+C*s,t[2]+C*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;O(T,t),t+=T.length;for(let n=0,r=M.length;n<r;n++){const e=M[n];O(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new lv(r,3)),this.setAttribute("uv",new lv(i,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new ow[r.type]).fromJSON(r)),new Jw(n,e.options)}}const Kw={generateTopUV:function(e,t,n,r,i){const a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new dm(a,o),new dm(s,l),new dm(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-u)<Math.abs(o-c)?[new dm(o,1-l),new dm(c,1-h),new dm(d,1-p),new dm(m,1-v)]:[new dm(s,1-l),new dm(u,1-h),new dm(f,1-p),new dm(g,1-v)]}};class Qw extends pw{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qw(e.radius,e.detail)}}class $w extends pw{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $w(e.radius,e.detail)}}class eS extends gv{constructor(e=.5,t=1,n=32,r=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n);const o=[],s=[],l=[],c=[];let u=e;const h=(t-e)/(r=Math.max(1,r)),d=new Vm,f=new dm;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*a;d.x=u*Math.cos(r),d.y=u*Math.sin(r),s.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(d.x/t+1)/2,f.y=(d.y/t+1)/2,c.push(f.x,f.y)}u+=h}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,a=r+n+1,s=r+n+2,l=r+1;o.push(i,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new lv(s,3)),this.setAttribute("normal",new lv(l,3)),this.setAttribute("uv",new lv(c,2))}static fromJSON(e){return new eS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class tS extends gv{constructor(e=new _w([new dm(0,.5),new dm(-.5,-.5),new dm(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,s,c),o+=s,s=0;function l(e){const o=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Xw.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Xw.isClockWise(e)&&(u[t]=e.reverse())}const h=Xw.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),a.push(e.x,e.y)}for(let t=0,r=h.length;t<r;t++){const e=h[t],r=e[0]+o,i=e[1]+o,a=e[2]+o;n.push(r,i,a),s+=3}}this.setIndex(n),this.setAttribute("position",new lv(r,3)),this.setAttribute("normal",new lv(i,3)),this.setAttribute("uv",new lv(a,2))}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new tS(n,e.curveSegments)}}class nS extends gv{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new Vm,h=new Vm,d=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const d=[],v=g/n;let y=0;0==g&&0==a?y=.5/t:g==n&&s==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),u.y=e*Math.cos(a+v*o),u.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(s+y,1-v),d.push(l++)}c.push(d)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],o=c[g+1][e+1];(0!==g||a>0)&&d.push(t,r,o),(g!==n-1||s<Math.PI)&&d.push(r,i,o)}this.setIndex(d),this.setAttribute("position",new lv(f,3)),this.setAttribute("normal",new lv(p,3)),this.setAttribute("uv",new lv(m,2))}static fromJSON(e){return new nS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rS extends pw{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rS(e.radius,e.detail)}}class iS extends gv{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],c=new Vm,u=new Vm,h=new Vm;for(let d=0;d<=n;d++)for(let a=0;a<=r;a++){const f=a/r*i,p=d/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),o.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),h.subVectors(u,c).normalize(),s.push(h.x,h.y,h.z),l.push(a/r),l.push(d/n)}for(let d=1;d<=n;d++)for(let e=1;e<=r;e++){const t=(r+1)*d+e-1,n=(r+1)*(d-1)+e-1,i=(r+1)*(d-1)+e,o=(r+1)*d+e;a.push(t,n,o),a.push(n,i,o)}this.setIndex(a),this.setAttribute("position",new lv(o,3)),this.setAttribute("normal",new lv(s,3)),this.setAttribute("uv",new lv(l,2))}static fromJSON(e){return new iS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class aS extends gv{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],c=[],u=new Vm,h=new Vm,d=new Vm,f=new Vm,p=new Vm,m=new Vm,g=new Vm;for(let y=0;y<=n;++y){const o=y/n*i*Math.PI*2;v(o,i,a,e,d),v(o+.01,i,a,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),o=t*Math.sin(i);u.x=d.x+(a*g.x+o*p.x),u.y=d.y+(a*g.y+o*p.y),u.z=d.z+(a*g.z+o*p.z),s.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,a=(r+1)*(y-1)+e;o.push(t,n,a),o.push(n,i,a)}function v(e,t,n,r,i){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new lv(s,3)),this.setAttribute("normal",new lv(l,3)),this.setAttribute("uv",new lv(c,2))}static fromJSON(e){return new aS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class oS extends gv{constructor(e=new iw(new Vm(-1,-1,0),new Vm(-1,1,0),new Vm(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Vm,s=new Vm,l=new dm;let c=new Vm;const u=[],h=[],d=[],f=[];function p(i){c=e.getPointAt(i/t,c);const l=a.normals[i],d=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*d.x,s.y=a*l.y+i*d.y,s.z=a*l.z+i*d.z,s.normalize(),h.push(s.x,s.y,s.z),o.x=c.x+n*s.x,o.y=c.y+n*s.y,o.z=c.z+n*s.z,u.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,o=(r+1)*(e-1)+t;f.push(n,i,o),f.push(i,a,o)}}()}(),this.setIndex(f),this.setAttribute("position",new lv(u,3)),this.setAttribute("normal",new lv(h,3)),this.setAttribute("uv",new lv(d,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new oS((new ow[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class sS extends gv{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new Vm,i=new Vm;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=o.getX(e+l),c=o.getX(e+(l+1)%3);r.fromBufferAttribute(a,s),i.fromBufferAttribute(a,c),!0===lS(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(a,o),i.fromBufferAttribute(a,l),!0===lS(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new lv(t,3))}}}function lS(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var cS=Object.freeze({__proto__:null,BoxGeometry:Lv,CapsuleGeometry:uw,CircleGeometry:hw,ConeGeometry:fw,CylinderGeometry:dw,DodecahedronGeometry:mw,EdgesGeometry:xw,ExtrudeGeometry:Jw,IcosahedronGeometry:Qw,LatheGeometry:cw,OctahedronGeometry:$w,PlaneGeometry:$v,PolyhedronGeometry:pw,RingGeometry:eS,ShapeGeometry:tS,SphereGeometry:nS,TetrahedronGeometry:rS,TorusGeometry:iS,TorusKnotGeometry:aS,TubeGeometry:oS,WireframeGeometry:sS});class uS extends tv{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Pm(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class hS extends zv{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class dS extends tv{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Pm(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pm(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hp,this.normalScale=new dm(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fS extends dS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dm(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rm(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Pm(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Pm(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pm(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class pS extends tv{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Pm(16777215),this.specular=new Pm(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pm(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hp,this.normalScale=new dm(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ff,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mS extends tv{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Pm(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pm(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hp,this.normalScale=new dm(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class gS extends tv{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hp,this.normalScale=new dm(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class vS extends tv{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Pm(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pm(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hp,this.normalScale=new dm(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ff,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yS extends tv{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Pm(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hp,this.normalScale=new dm(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bS extends w_{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xS(e,t,n){return wS(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function _S(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function wS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SS(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function MS(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function AS(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}var TS=Object.freeze({__proto__:null,arraySlice:xS,convertArray:_S,isTypedArray:wS,getKeyframeOrder:SS,sortedArray:MS,flattenJSON:AS,subclip:function(e,t,n,r,i=30){const a=e.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),s=[],c=[];for(let a=0;a<e.times.length;++a){const o=e.times[a]*i;if(!(o<n||o>=r)){s.push(e.times[a]);for(let n=0;n<t;++n)c.push(e.values[a*t+n])}}0!==s.length&&(e.times=_S(s,e.times.constructor),e.values=_S(c,e.values.constructor),o.push(e))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a},makeClipAdditive:function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let o=0;o<i;++o){const t=n.tracks[o],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(a<=t.times[0]){const e=s,n=l-s;d=xS(t.values,e,n)}else if(a>=t.times[h]){const e=h*l+s,n=e+l-s;d=xS(t.values,e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(a),d=xS(e.resultBuffer,n,r)}if("quaternion"===r){(new Bm).fromArray(d).normalize().conjugate().toArray(d)}const f=i.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===r)Bm.multiplyQuaternionsFlat(i.values,t,d,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=d[n]}}}return e.blendMode=Fp,e}});class ES{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;{const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let a=0;a!==r;++a)t[a]=n[i+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CS extends ES{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Dp,endingEnd:Dp}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Op:i=e,o=2*t-n;break;case zp:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Op:a=e,s=2*n-t;break;case zp:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p;for(let x=0;x!==o;++x)i[x]=g*a[c+x]+v*a[l+x]+y*a[s+x]+b*a[u+x];return i}}class PS extends ES{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c;for(let h=0;h!==o;++h)i[h]=a[l+h]*u+a[s+h]*c;return i}}class kS extends ES{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class RS{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_S(t,this.TimeBufferType),this.values=_S(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:_S(e.times,Array),values:_S(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new kS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CS(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Lp:t=this.InterpolantFactoryMethodDiscrete;break;case Ip:t=this.InterpolantFactoryMethodLinear;break;case Np:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Lp;case this.InterpolantFactoryMethodLinear:return Ip;case this.InterpolantFactoryMethodSmooth:return Np}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=xS(n,i,a),this.values=xS(this.values,i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(e=!1);let a=null;for(let o=0;o!==i;o++){const t=n[o];if("number"==typeof t&&isNaN(t)){e=!1;break}if(null!==a&&a>t){e=!1;break}a=t}if(void 0!==r&&wS(r))for(let o=0,s=r.length;o!==s;++o){const t=r[o];if(isNaN(t)){e=!1;break}}return e}optimize(){const e=xS(this.times),t=xS(this.values),n=this.getValueSize(),r=this.getInterpolation()===Np,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=xS(e,0,a),this.values=xS(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=xS(this.times,0),t=xS(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}RS.prototype.TimeBufferType=Float32Array,RS.prototype.ValueBufferType=Float32Array,RS.prototype.DefaultInterpolation=Ip;class LS extends RS{}LS.prototype.ValueTypeName="bool",LS.prototype.ValueBufferType=Array,LS.prototype.DefaultInterpolation=Lp,LS.prototype.InterpolantFactoryMethodLinear=void 0,LS.prototype.InterpolantFactoryMethodSmooth=void 0;class IS extends RS{}IS.prototype.ValueTypeName="color";class NS extends RS{}NS.prototype.ValueTypeName="number";class DS extends ES{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let c=l+o;l!==c;l+=4)Bm.slerpFlat(i,0,a,l-o,a,l,s);return i}}class OS extends RS{InterpolantFactoryMethodLinear(e){return new DS(this.times,this.values,this.getValueSize(),e)}}OS.prototype.ValueTypeName="quaternion",OS.prototype.DefaultInterpolation=Ip,OS.prototype.InterpolantFactoryMethodSmooth=void 0;class zS extends RS{}zS.prototype.ValueTypeName="string",zS.prototype.ValueBufferType=Array,zS.prototype.DefaultInterpolation=Lp,zS.prototype.InterpolantFactoryMethodLinear=void 0,zS.prototype.InterpolantFactoryMethodSmooth=void 0;class US extends RS{}US.prototype.ValueTypeName="vector";class FS{constructor(e,t=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=nm(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(BS(n[a]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,a=n.length;i!==a;++i)t.push(RS.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let o=0;o<i;o++){let e=[],s=[];e.push((o+i-1)%i,o,(o+1)%i),s.push(0,1,0);const l=SS(e);e=MS(e,1,l),s=MS(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),a.push(new NS(".morphTargetInfluences["+t[o].name+"]",e,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){const t=e[o],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return a}static parseAnimation(e,t){if(!e)return null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];AS(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],a=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),a.push(r.morphTarget===i?1:0)}r.push(new NS(".morphTargetInfluence["+i+"]",t,a))}s=t.length*a}else{const i=".bones["+t[c].name+"]";n(US,i+".position",e,"pos",r),n(OS,i+".quaternion",e,"rot",r),n(US,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function BS(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NS;case"vector":case"vector2":case"vector3":case"vector4":return US;case"color":return IS;case"quaternion":return OS;case"bool":case"boolean":return LS;case"string":return zS}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];AS(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const VS={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class jS{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const HS=new jS;class WS{constructor(e){this.manager=void 0!==e?e:HS,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const GS={};class qS extends Error{constructor(e,t){super(e),this.response=t}}class XS extends WS{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=VS.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==GS[e])return void GS[e].push({onLoad:t,onProgress:n,onError:r});GS[e]=[],GS[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(t.status,"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=GS[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then((({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}}))}()}});return new Response(l)}throw new qS(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,o)));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{VS.add(e,t);const n=GS[e];delete GS[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=GS[e];if(void 0===n)throw this.manager.itemError(e),t;delete GS[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class YS extends WS{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=VS.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o=ym("img");function s(){c(),VS.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class ZS extends WS{constructor(e){super(e)}load(e,t,n,r){const i=new jv,a=new YS(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}}class JS extends WS{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new h_,o=new XS(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Pf,a.wrapT=void 0!==n.wrapT?n.wrapT:Pf,a.magFilter=void 0!==n.magFilter?n.magFilter:Nf,a.minFilter=void 0!==n.minFilter?n.minFilter:Nf,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Of),1===n.mipmapCount&&(a.minFilter=Nf),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}class KS extends WS{constructor(e){super(e)}load(e,t,n,r){const i=new Dm,a=new YS(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class QS extends jg{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Pm(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class $S extends QS{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jg.DefaultUp),this.updateMatrix(),this.groundColor=new Pm(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const eM=new vg,tM=new Vm,nM=new Vm;class rM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dm(512,512),this.map=null,this.mapPass=null,this.matrix=new vg,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jv,this._frameExtents=new dm(1,1),this._viewportCount=1,this._viewports=[new Om(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;tM.setFromMatrixPosition(e.matrixWorld),t.position.copy(tM),nM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(nM),t.updateMatrixWorld(),eM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eM),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(eM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class iM extends rM{constructor(){super(new Fv(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*tm*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class aM extends QS{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jg.DefaultUp),this.updateMatrix(),this.target=new jg,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new iM}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const oM=new vg,sM=new Vm,lM=new Vm;class cM extends rM{constructor(){super(new Fv(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dm(4,2),this._viewportCount=6,this._viewports=[new Om(2,1,1,1),new Om(0,1,1,1),new Om(3,1,1,1),new Om(1,1,1,1),new Om(3,0,1,1),new Om(1,0,1,1)],this._cubeDirections=[new Vm(1,0,0),new Vm(-1,0,0),new Vm(0,0,1),new Vm(0,0,-1),new Vm(0,1,0),new Vm(0,-1,0)],this._cubeUps=[new Vm(0,1,0),new Vm(0,1,0),new Vm(0,1,0),new Vm(0,1,0),new Vm(0,0,1),new Vm(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),sM.setFromMatrixPosition(e.matrixWorld),n.position.copy(sM),lM.copy(n.position),lM.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(lM),n.updateMatrixWorld(),r.makeTranslation(-sM.x,-sM.y,-sM.z),oM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oM)}}class uM extends QS{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new cM}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class hM extends rM{constructor(){super(new uy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class dM extends QS{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jg.DefaultUp),this.updateMatrix(),this.target=new jg,this.shadow=new hM}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class fM extends QS{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class pM extends QS{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class mM{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vm)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class gM extends QS{constructor(e=new mM,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class vM extends WS{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new XS(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r&&r(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return t[e],t[e]}const r=vM.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Pm).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Pm).setHex(t.value);break;case"v2":r.uniforms[i].value=(new dm).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new Vm).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new Om).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new fm).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new vg).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new dm).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new dm).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:uS,SpriteMaterial:Fx,RawShaderMaterial:hS,ShaderMaterial:zv,PointsMaterial:I_,MeshPhysicalMaterial:fS,MeshStandardMaterial:dS,MeshPhongMaterial:pS,MeshToonMaterial:mS,MeshNormalMaterial:gS,MeshLambertMaterial:vS,MeshDepthMaterial:mx,MeshDistanceMaterial:gx,MeshBasicMaterial:nv,MeshMatcapMaterial:yS,LineDashedMaterial:bS,LineBasicMaterial:w_,Material:tv}[e]}}class yM{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class bM extends gv{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class xM extends WS{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new XS(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r&&r(a),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=vm(i.type,a),s=new Ox(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new bM:new gv,a=e.data.index;if(void 0!==a){const e=vm(a.type,a.array);i.setIndex(new av(e,1))}const o=e.data.attributes;for(const u in o){const t=o[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Ux(i,t.itemSize,t.offset,t.normalized)}else{const e=vm(t.type,t.array);n=new(t.isInstancedBufferAttribute?m_:av)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),void 0!==t.updateRange&&(n.updateRange.offset=t.updateRange.offset,n.updateRange.count=t.updateRange.count),i.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let i=0,a=t.length;i<a;i++){const a=t[i];let o;if(a.isInterleavedBufferAttribute){const t=r(e.data,a.data);o=new Ux(t,a.itemSize,a.offset,a.normalized)}else{const e=vm(a.type,a.array);o=new av(e,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),n.push(o)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new Vm;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new lg(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}const _M={UVMapping:wf,CubeReflectionMapping:Sf,CubeRefractionMapping:Mf,EquirectangularReflectionMapping:Af,EquirectangularRefractionMapping:Tf,CubeUVReflectionMapping:Ef},wM={RepeatWrapping:Cf,ClampToEdgeWrapping:Pf,MirroredRepeatWrapping:kf},SM={NearestFilter:Rf,NearestMipmapNearestFilter:Lf,NearestMipmapLinearFilter:If,LinearFilter:Nf,LinearMipmapNearestFilter:Df,LinearMipmapLinearFilter:Of};class MM extends WS{constructor(e){super(e),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=VS.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){VS.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}let AM;class TM{static getContext(){return void 0===AM&&(AM=new(window.AudioContext||window.webkitAudioContext)),AM}static setContext(e){AM=e}}const EM=new vg,CM=new vg,PM=new vg;class kM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=RM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=RM();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function RM(){return("undefined"==typeof performance?Date:performance).now()}const LM=new Vm,IM=new Bm,NM=new Vm,DM=new Vm;let OM=class extends jg{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const zM=new Vm,UM=new Bm,FM=new Vm,BM=new Vm;class VM{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let a=0;a!==i;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){Bm.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;Bm.multiplyQuaternionsFlat(e,a,e,t,e,n),Bm.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const jM="\\[\\]\\.:\\/",HM=new RegExp("["+jM+"]","g"),WM="[^"+jM+"]",GM="[^"+jM.replace("\\.","")+"]",qM=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",WM)+/(WCOD+)?/.source.replace("WCOD",GM)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WM)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WM)+"$"),XM=["material","materials","bones","map"];class YM{constructor(e,t,n){this.path=t,this.parsedPath=n||YM.parseTrackName(t),this.node=YM.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new YM.Composite(e,t,n):new YM(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(HM,"")}static parseTrackName(e){const t=qM.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==XM.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=YM.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return;if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return;if(!e.material.map)return;e=e.material.map;break;default:if(void 0===e[n])return;e=e[n]}if(void 0!==r){if(void 0===e[r])return;e=e[r]}}const a=e[r];if(void 0===a){t.nodeName;return}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.morphAttributes)return;void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}YM.Composite=class{constructor(e,t,n){const r=n||YM.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},YM.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},YM.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},YM.prototype.GetterByBindingType=[YM.prototype._getValue_direct,YM.prototype._getValue_array,YM.prototype._getValue_arrayElement,YM.prototype._getValue_toArray],YM.prototype.SetterByBindingTypeAndVersioning=[[YM.prototype._setValue_direct,YM.prototype._setValue_direct_setNeedsUpdate,YM.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[YM.prototype._setValue_array,YM.prototype._setValue_array_setNeedsUpdate,YM.prototype._setValue_array_setMatrixWorldNeedsUpdate],[YM.prototype._setValue_arrayElement,YM.prototype._setValue_arrayElement_setNeedsUpdate,YM.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[YM.prototype._setValue_fromArray,YM.prototype._setValue_fromArray_setNeedsUpdate,YM.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ZM{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:Dp,endingEnd:Dp};for(let l=0;l!==a;++l){const e=i[l].createInterpolant(null);o[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Fp)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=2202===n;if(0===e)return-1===i?r:a&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&1==(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Op,r.endingEnd=Op):(r.endingStart=e?this.zeroSlopeAtStart?Op:Dp:zp,r.endingEnd=t?this.zeroSlopeAtEnd?Op:Dp:zp)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const JM=new Float32Array(1);class KM extends Kp{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,a[u]=l;else{if(l=a[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new VM(YM.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),a[u]=l}o[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0==--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new PS(new Float32Array(2),new Float32Array(2),1,JM),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"==typeof e?FS.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:Up),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new ZM(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?FS.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,a)}const o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class QM{constructor(e){this.value=e}clone(){return new QM(void 0===this.value.clone?this.value:this.value.clone())}}let $M=0;class eA{constructor(e,t,n=0,r=1/0){this.ray=new gg(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Cg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}intersectObject(e,t=!0,n=[]){return nA(e,this,n,t),n.sort(tA),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)nA(e[r],this,n,t);return n.sort(tA),n}}function tA(e,t){return e.distance-t.distance}function nA(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)nA(r[e],t,n,!0)}}class rA{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(rm(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const iA=new dm;const aA=new Vm,oA=new Vm;const sA=new Vm;const lA=new Vm,cA=new vg,uA=new vg;function hA(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,hA(e.children[n]));return t}const dA=new Vm,fA=new Pm,pA=new Pm;const mA=new Vm,gA=new Vm,vA=new Vm;const yA=new Vm,bA=new Uv;function xA(e,t,n,r,i,a,o){yA.set(i,a,o).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],yA.x,yA.y,yA.z)}}const _A=new Wm;const wA=new Vm;let SA,MA;const AA=TA();function TA(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0==(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}var EA=Object.freeze({__proto__:null,toHalfFloat:function(e){Math.abs(e),e=rm(e,-65504,65504),AA.floatView[0]=e;const t=AA.uint32View[0],n=t>>23&511;return AA.baseTable[n]+((8388607&t)>>AA.shiftTable[n])},fromHalfFloat:function(e){const t=e>>10;return AA.uint32View[0]=AA.mantissaTable[AA.offsetTable[t]+(1023&e)]+AA.exponentTable[t],AA.floatView[0]}});"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Md}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__=Md));const CA=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:xf,AddEquation:jd,AddOperation:mf,AdditiveAnimationBlendMode:Fp,AdditiveBlending:Ud,AlphaFormat:Yf,AlwaysDepth:of,AlwaysStencilFunc:519,AmbientLight:fM,AmbientLightProbe:class extends gM{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=(new Pm).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}},AnimationClip:FS,AnimationLoader:class extends WS{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new XS(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r&&r(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=FS.parse(e[n]);t.push(r)}return t}},AnimationMixer:KM,AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=nm(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=s++,t[h]=d,e.push(u);for(let e=0,t=a;e!==t;++e)i[e].push(new YM(u,n[e],r[e]))}else if(d<l){o=e[d];const s=--l,c=e[s];t[c.uuid]=d,e[d]=c,t[h]=s,e[s]=u;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[s];let o=t[d];t[d]=a,void 0===o&&(o=new YM(u,n[e],r[e])),t[s]=o}}else e[d]}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){const a=i++,c=e[a];t[c.uuid]=l,e[l]=c,t[s]=a,e[a]=o;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[l];t[l]=r,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const o=--i,s=e[o],c=--a,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=o,e[o]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[c];t[l]=r,t[o]=i,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(let h=c,d=s.length;h!==d;++h){const n=s[h];u[h]=new YM(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}},AnimationUtils:TS,ArcCurve:H_,ArrayCamera:Sx,ArrowHelper:class extends jg{constructor(e=new Vm(0,0,1),t=new Vm(0,0,0),n=1,r=16776960,i=.2*n,a=.2*i){super(),this.type="ArrowHelper",void 0===SA&&(SA=new gv,SA.setAttribute("position",new lv([0,0,0,0,1,0],3)),MA=new dw(0,.5,1,5,1),MA.translate(0,-.5,0)),this.position.copy(t),this.line=new C_(SA,new w_({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new kv(MA,new nv({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{wA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(wA,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},Audio:OM,AudioAnalyser:class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},AudioContext:TM,AudioListener:class extends jg{constructor(){super(),this.type="AudioListener",this.context=TM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new kM}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(LM,IM,NM),DM.set(0,0,-1).applyQuaternion(IM),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(LM.x,e),t.positionY.linearRampToValueAtTime(LM.y,e),t.positionZ.linearRampToValueAtTime(LM.z,e),t.forwardX.linearRampToValueAtTime(DM.x,e),t.forwardY.linearRampToValueAtTime(DM.y,e),t.forwardZ.linearRampToValueAtTime(DM.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(LM.x,LM.y,LM.z),t.setOrientation(DM.x,DM.y,DM.z,n.x,n.y,n.z)}},AudioLoader:class extends WS{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new XS(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{const e=n.slice(0);TM.getContext().decodeAudioData(e,(function(e){t(e)}))}catch(a){r&&r(a),i.manager.itemError(e)}}),n,r)}},AxesHelper:class extends R_{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new gv;n.setAttribute("position",new lv(t,3)),n.setAttribute("color",new lv([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new w_({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Pm,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BackSide:Nd,BasicDepthPacking:3200,BasicShadowMap:0,Bone:u_,BooleanKeyframeTrack:LS,Box2:class{constructor(e=new dm(1/0,1/0),t=new dm(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=iA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return iA.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Box3:Wm,Box3Helper:class extends R_{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new gv;r.setIndex(new av(n,1)),r.setAttribute("position",new lv([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new w_({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxBufferGeometry:class extends Lv{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}},BoxGeometry:Lv,BoxHelper:class extends R_{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new gv;i.setIndex(new av(n,1)),i.setAttribute("position",new av(r,3)),super(i,new w_({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==this.object&&_A.setFromObject(this.object),_A.isEmpty())return;const t=_A.min,n=_A.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BufferAttribute:av,BufferGeometry:gv,BufferGeometryLoader:xM,ByteType:Uf,Cache:VS,Camera:Uv,CameraHelper:class extends R_{constructor(e){const t=new gv,n=new w_({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new lv(r,3)),t.setAttribute("color",new lv(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new Pm(16755200),c=new Pm(16711680),u=new Pm(43775),h=new Pm(16777215),d=new Pm(3355443);this.setColors(l,c,u,h,d)}setColors(e,t,n,r,i){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;bA.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xA("c",t,e,bA,0,0,-1),xA("t",t,e,bA,0,0,1),xA("n1",t,e,bA,-1,-1,-1),xA("n2",t,e,bA,1,-1,-1),xA("n3",t,e,bA,-1,1,-1),xA("n4",t,e,bA,1,1,-1),xA("f1",t,e,bA,-1,-1,1),xA("f2",t,e,bA,1,-1,1),xA("f3",t,e,bA,-1,1,1),xA("f4",t,e,bA,1,1,1),xA("u1",t,e,bA,.7,1.1,-1),xA("u2",t,e,bA,-.7,1.1,-1),xA("u3",t,e,bA,0,2,-1),xA("cf1",t,e,bA,-1,0,1),xA("cf2",t,e,bA,1,0,1),xA("cf3",t,e,bA,0,-1,1),xA("cf4",t,e,bA,0,1,1),xA("cn1",t,e,bA,-1,0,-1),xA("cn2",t,e,bA,1,0,-1),xA("cn3",t,e,bA,0,-1,-1),xA("cn4",t,e,bA,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},CanvasTexture:class extends Dm{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleBufferGeometry:class extends uw{constructor(e,t,n,r){super(e,t,n,r)}},CapsuleGeometry:uw,CatmullRomCurve3:Z_,CineonToneMapping:bf,CircleBufferGeometry:class extends hw{constructor(e,t,n,r){super(e,t,n,r)}},CircleGeometry:hw,ClampToEdgeWrapping:Pf,Clock:kM,Color:Pm,ColorKeyframeTrack:IS,ColorManagement:wm,CompressedArrayTexture:class extends B_{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Pf}},CompressedTexture:B_,CompressedTextureLoader:class extends WS{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],o=new B_,s=new XS(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],(function(e){const n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=Nf),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Nf),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}},ConeBufferGeometry:class extends fw{constructor(e,t,n,r,i,a,o){super(e,t,n,r,i,a,o)}},ConeGeometry:fw,CubeCamera:Vv,CubeReflectionMapping:Sf,CubeRefractionMapping:Mf,CubeTexture:jv,CubeTextureLoader:ZS,CubeUVReflectionMapping:Ef,CubicBezierCurve:$_,CubicBezierCurve3:ew,CubicInterpolant:CS,CullFaceBack:Cd,CullFaceFront:Pd,CullFaceFrontBack:3,CullFaceNone:Ed,Curve:V_,CurvePath:sw,CustomBlending:Vd,CustomToneMapping:_f,CylinderBufferGeometry:class extends dw{constructor(e,t,n,r,i,a,o,s){super(e,t,n,r,i,a,o,s)}},CylinderGeometry:dw,Cylindrical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},Data3DTexture:Fm,DataArrayTexture:Um,DataTexture:h_,DataTexture2DArray:class extends Um{constructor(e,t,n,r){super(e,t,n,r)}},DataTexture3D:class extends Fm{constructor(e,t,n,r){super(e,t,n,r)}},DataTextureLoader:JS,DataUtils:EA,DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:HS,DepthFormat:$f,DepthStencilFormat:ep,DepthTexture:Ex,DirectionalLight:dM,DirectionalLightHelper:class extends jg{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new gv;r.setAttribute("position",new lv([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new w_({fog:!1,toneMapped:!1});this.lightPlane=new C_(r,i),this.add(this.lightPlane),r=new gv,r.setAttribute("position",new lv([0,0,0,0,0,1],3)),this.targetLine=new C_(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),mA.setFromMatrixPosition(this.light.matrixWorld),gA.setFromMatrixPosition(this.light.target.matrixWorld),vA.subVectors(gA,mA),this.lightPlane.lookAt(gA),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(gA),this.targetLine.scale.z=vA.length()}},DiscreteInterpolant:kS,DodecahedronBufferGeometry:class extends mw{constructor(e,t){super(e,t)}},DodecahedronGeometry:mw,DoubleSide:Dd,DstAlphaFactor:$d,DstColorFactor:tf,DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:xw,EllipseCurve:j_,EqualDepth:cf,EqualStencilFunc:514,EquirectangularReflectionMapping:Af,EquirectangularRefractionMapping:Tf,Euler:Eg,EventDispatcher:Kp,ExtrudeBufferGeometry:class extends Jw{constructor(e,t){super(e,t)}},ExtrudeGeometry:Jw,FileLoader:XS,Float16BufferAttribute:class extends av{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}},Float32BufferAttribute:lv,Float64BufferAttribute:class extends av{constructor(e,t,n){super(new Float64Array(e),t,n)}},FloatType:Hf,Fog:Nx,FogExp2:Ix,FramebufferTexture:class extends Dm{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=Rf,this.minFilter=Rf,this.generateMipmaps=!1,this.needsUpdate=!0}},FrontSide:Id,Frustum:Jv,GLBufferAttribute:class{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},GLSL1:"100",GLSL3:Zp,GreaterDepth:hf,GreaterEqualDepth:uf,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends R_{constructor(e=10,t=10,n=4473924,r=8947848){n=new Pm(n),r=new Pm(r);const i=t/2,a=e/t,o=e/2,s=[],l=[];for(let u=0,h=0,d=-o;u<=t;u++,d+=a){s.push(-o,0,d,o,0,d),s.push(d,0,-o,d,0,o);const e=u===i?n:r;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new gv;c.setAttribute("position",new lv(s,3)),c.setAttribute("color",new lv(l,3));super(c,new w_({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},Group:Mx,HalfFloatType:Wf,HemisphereLight:$S,HemisphereLightHelper:class extends jg{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new $w(t);r.rotateY(.5*Math.PI),this.material=new nv({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new av(a,3)),this.add(new kv(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");fA.copy(this.light.color),pA.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?fA:pA;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(dA.setFromMatrixPosition(this.light.matrixWorld).negate())}},HemisphereLightProbe:class extends gM{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=(new Pm).set(e),i=(new Pm).set(t),a=new Vm(r.r,r.g,r.b),o=new Vm(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}},IcosahedronBufferGeometry:class extends Qw{constructor(e,t){super(e,t)}},IcosahedronGeometry:Qw,ImageBitmapLoader:MM,ImageLoader:YS,ImageUtils:Rm,ImmediateRenderObject:function(){},IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:m_,InstancedBufferGeometry:bM,InstancedInterleavedBuffer:class extends Ox{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},InstancedMesh:__,Int16BufferAttribute:class extends av{constructor(e,t,n){super(new Int16Array(e),t,n)}},Int32BufferAttribute:class extends av{constructor(e,t,n){super(new Int32Array(e),t,n)}},Int8BufferAttribute:class extends av{constructor(e,t,n){super(new Int8Array(e),t,n)}},IntType:Vf,InterleavedBuffer:Ox,InterleavedBufferAttribute:Ux,Interpolant:ES,InterpolateDiscrete:Lp,InterpolateLinear:Ip,InterpolateSmooth:Np,InvertStencilOp:5386,KeepStencilOp:Xp,KeyframeTrack:RS,LOD:r_,LatheBufferGeometry:class extends cw{constructor(e,t,n,r){super(e,t,n,r)}},LatheGeometry:cw,Layers:Cg,LessDepth:sf,LessEqualDepth:lf,LessEqualStencilFunc:515,LessStencilFunc:513,Light:QS,LightProbe:gM,Line:C_,Line3:class{constructor(e=new Vm,t=new Vm){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){aA.subVectors(e,this.start),oA.subVectors(this.end,this.start);const n=oA.dot(oA);let r=oA.dot(aA)/n;return t&&(r=rm(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:w_,LineCurve:tw,LineCurve3:nw,LineDashedMaterial:bS,LineLoop:L_,LineSegments:R_,LinearEncoding:Bp,LinearFilter:Nf,LinearInterpolant:PS,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:Of,LinearMipmapNearestFilter:Df,LinearSRGBColorSpace:qp,LinearToneMapping:vf,Loader:WS,LoaderUtils:yM,LoadingManager:jS,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:Qf,LuminanceFormat:Kf,MOUSE:Ad,Material:tv,MaterialLoader:vM,MathUtils:hm,Matrix3:fm,Matrix4:vg,MaxEquation:qd,Mesh:kv,MeshBasicMaterial:nv,MeshDepthMaterial:mx,MeshDistanceMaterial:gx,MeshLambertMaterial:vS,MeshMatcapMaterial:yS,MeshNormalMaterial:gS,MeshPhongMaterial:pS,MeshPhysicalMaterial:fS,MeshStandardMaterial:dS,MeshToonMaterial:mS,MinEquation:Gd,MirroredRepeatWrapping:kf,MixOperation:pf,MultiplyBlending:Bd,MultiplyOperation:ff,NearestFilter:Rf,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:If,NearestMipmapNearestFilter:Lf,NeverDepth:af,NeverStencilFunc:512,NoBlending:Od,NoColorSpace:"",NoToneMapping:gf,NormalAnimationBlendMode:Up,NormalBlending:zd,NotEqualDepth:df,NotEqualStencilFunc:517,NumberKeyframeTrack:NS,Object3D:jg,ObjectLoader:class extends WS{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?yM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new XS(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){let a=null;try{a=JSON.parse(n)}catch(s){return void(void 0!==r&&r(s))}const o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e))}),n,r)}async loadAsync(e,t){const n=""===this.path?yM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new XS(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),a=JSON.parse(i),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new _w).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,a=e.length;i<a;i++){const t=(new p_).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new xM;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(o);break;default:o.type in cS&&(a=cS[o.type].fromJSON(o,t))}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),!0===a.isBufferGeometry&&void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new vM;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=FS.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function a(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:vm(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new jS(t);i=new YS(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new h_(n.data,n.width,n.height)))}r[n.uuid]=new Lm(e)}else{const e=a(n.url);r[n.uuid]=new Lm(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:vm(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new YS(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new h_(r.data,r.width,r.height)))}n[r.uuid]=new Lm(e)}else{const e=await i(r.url);n[r.uuid]=new Lm(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:t[e]}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];a.image,t[a.image];const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new jv,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new h_:new Dm,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,_M)),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],wM),l.wrapT=n(a.wrap[1],wM)),void 0!==a.format&&(l.format=a.format),void 0!==a.type&&(l.type=a.type),void 0!==a.encoding&&(l.encoding=a.encoding),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,SM)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,SM)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,o,s;function l(e){return t[e],t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n[i],t.push(n[i])}return t}return n[e],n[e]}}function u(e){return r[e],r[e]}switch(e.type){case"Scene":a=new Dx,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Pm(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Nx(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Ix(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":a=new Fv(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new uy(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new fM(e.color,e.intensity);break;case"DirectionalLight":a=new dM(e.color,e.intensity);break;case"PointLight":a=new uM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new pM(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new aM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new $S(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new gM).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=c(e.material),a=new c_(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=c(e.material),a=new kv(o,s);break;case"InstancedMesh":o=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;a=new __(o,s,t),a.instanceMatrix=new m_(new Float32Array(n.array),16),void 0!==r&&(a.instanceColor=new m_(new Float32Array(r.array),r.itemSize));break;case"LOD":a=new r_;break;case"Line":a=new C_(l(e.geometry),c(e.material));break;case"LineLoop":a=new L_(l(e.geometry),c(e.material));break;case"LineSegments":a=new R_(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new U_(l(e.geometry),c(e.material));break;case"Sprite":a=new $x(c(e.material));break;case"Group":a=new Mx;break;case"Bone":a=new u_;break;default:a=new jg}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n||e.bind(n,e.bindMatrix)}}))}},ObjectSpaceNormalMap:Wp,OctahedronBufferGeometry:class extends $w{constructor(e,t){super(e,t)}},OctahedronGeometry:$w,OneFactor:Yd,OneMinusDstAlphaFactor:ef,OneMinusDstColorFactor:nf,OneMinusSrcAlphaFactor:Qd,OneMinusSrcColorFactor:Jd,OrthographicCamera:uy,PCFShadowMap:kd,PCFSoftShadowMap:Rd,PMREMGenerator:by,Path:lw,PerspectiveCamera:Fv,Plane:Xv,PlaneBufferGeometry:class extends $v{constructor(e,t,n,r){super(e,t,n,r)}},PlaneGeometry:$v,PlaneHelper:class extends C_{constructor(e,t=1,n=16776960){const r=n,i=new gv;i.setAttribute("position",new lv([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new w_({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=new gv;a.setAttribute("position",new lv([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),a.computeBoundingSphere(),this.add(new kv(a,new nv({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:uM,PointLightHelper:class extends kv{constructor(e,t,n){super(new nS(t,4,2),new nv({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:U_,PointsMaterial:I_,PolarGridHelper:class extends R_{constructor(e=10,t=16,n=8,r=64,i=4473924,a=8947848){i=new Pm(i),a=new Pm(a);const o=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(r,0,l);const u=1&c?i:a;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:a,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l;o.push(i,0,a),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l,o.push(i,0,a),s.push(t.r,t.g,t.b)}}const l=new gv;l.setAttribute("position",new lv(o,3)),l.setAttribute("color",new lv(s,3));super(l,new w_({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronBufferGeometry:class extends pw{constructor(e,t,n,r){super(e,t,n,r)}},PolyhedronGeometry:pw,PositionalAudio:class extends OM{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(zM,UM,FM),BM.set(0,0,1).applyQuaternion(UM);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(zM.x,e),t.positionY.linearRampToValueAtTime(zM.y,e),t.positionZ.linearRampToValueAtTime(zM.z,e),t.orientationX.linearRampToValueAtTime(BM.x,e),t.orientationY.linearRampToValueAtTime(BM.y,e),t.orientationZ.linearRampToValueAtTime(BM.z,e)}else t.setPosition(zM.x,zM.y,zM.z),t.setOrientation(BM.x,BM.y,BM.z)}},PropertyBinding:YM,PropertyMixer:VM,QuadraticBezierCurve:rw,QuadraticBezierCurve3:iw,Quaternion:Bm,QuaternionKeyframeTrack:OS,QuaternionLinearInterpolant:DS,REVISION:Md,RGBADepthPacking:jp,RGBAFormat:Jf,RGBAIntegerFormat:ap,RGBA_ASTC_10x10_Format:Cp,RGBA_ASTC_10x5_Format:Ap,RGBA_ASTC_10x6_Format:Tp,RGBA_ASTC_10x8_Format:Ep,RGBA_ASTC_12x10_Format:Pp,RGBA_ASTC_12x12_Format:kp,RGBA_ASTC_4x4_Format:vp,RGBA_ASTC_5x4_Format:yp,RGBA_ASTC_5x5_Format:bp,RGBA_ASTC_6x5_Format:xp,RGBA_ASTC_6x6_Format:_p,RGBA_ASTC_8x5_Format:wp,RGBA_ASTC_8x6_Format:Sp,RGBA_ASTC_8x8_Format:Mp,RGBA_BPTC_Format:Rp,RGBA_ETC2_EAC_Format:gp,RGBA_PVRTC_2BPPV1_Format:fp,RGBA_PVRTC_4BPPV1_Format:dp,RGBA_S3TC_DXT1_Format:sp,RGBA_S3TC_DXT3_Format:lp,RGBA_S3TC_DXT5_Format:cp,RGBFormat:Zf,RGB_ETC1_Format:pp,RGB_ETC2_Format:mp,RGB_PVRTC_2BPPV1_Format:hp,RGB_PVRTC_4BPPV1_Format:up,RGB_S3TC_DXT1_Format:op,RGFormat:rp,RGIntegerFormat:ip,RawShaderMaterial:hS,Ray:gg,Raycaster:eA,RectAreaLight:pM,RedFormat:tp,RedIntegerFormat:np,ReinhardToneMapping:yf,RepeatWrapping:Cf,ReplaceStencilOp:7681,ReverseSubtractEquation:Wd,RingBufferGeometry:class extends eS{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}},RingGeometry:eS,SRGBColorSpace:Gp,Scene:Dx,ShaderChunk:ey,ShaderLib:ny,ShaderMaterial:zv,ShadowMaterial:uS,Shape:_w,ShapeBufferGeometry:class extends tS{constructor(e,t){super(e,t)}},ShapeGeometry:tS,ShapePath:class{constructor(){this.type="ShapePath",this.color=new Pm,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new lw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[i],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return r}const n=Xw.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,a,o;const s=[];if(1===r.length)return a=r[0],o=new _w,o.curves=a.curves,s.push(o),s;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let h,d,f=[],p=0;u[p]=void 0,f[p]=[];for(let m=0,g=r.length;m<g;m++)a=r[m],h=a.getPoints(),i=n(h),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new _w,p:h},u[p].s.curves=a.curves,l&&p++,f[p]=[]):f[p].push({h:a,p:h[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new _w;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=f[r];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<u.length;i++)t(o.p,u[i].p)&&(r!==i&&n++,s?(s=!1,c[i].push(o)):e=!0);s&&c[r].push(o)}}n>0&&!1===e&&(f=c)}for(let m=0,g=u.length;m<g;m++){o=u[m].s,s.push(o),d=f[m];for(let e=0,t=d.length;e<t;e++)o.holes.push(d[e].h)}return s}},ShapeUtils:Xw,ShortType:Ff,Skeleton:p_,SkeletonHelper:class extends R_{constructor(e){const t=hA(e),n=new gv,r=[],i=[],a=new Pm(0,0,1),o=new Pm(0,1,0);for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.setAttribute("position",new lv(r,3)),n.setAttribute("color",new lv(i,3));super(n,new w_({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");uA.copy(this.root.matrixWorld).invert();for(let i=0,a=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(cA.multiplyMatrices(uA,e.matrixWorld),lA.setFromMatrixPosition(cA),r.setXYZ(a,lA.x,lA.y,lA.z),cA.multiplyMatrices(uA,e.parent.matrixWorld),lA.setFromMatrixPosition(cA),r.setXYZ(a+1,lA.x,lA.y,lA.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:c_,Source:Lm,Sphere:lg,SphereBufferGeometry:class extends nS{constructor(e,t,n,r,i,a,o){super(e,t,n,r,i,a,o)}},SphereGeometry:nS,Spherical:rA,SphericalHarmonics3:mM,SplineCurve:aw,SpotLight:aM,SpotLightHelper:class extends jg{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new gv,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){const e=a/s*Math.PI*2,t=o/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new lv(r,3));const i=new w_({fog:!1,toneMapped:!1});this.cone=new R_(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),sA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sA),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:$x,SpriteMaterial:Fx,SrcAlphaFactor:Kd,SrcAlphaSaturateFactor:rf,SrcColorFactor:Zd,StaticCopyUsage:35046,StaticDrawUsage:Yp,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fv,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fv,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,PM.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(em*t.fov*.5)/t.zoom;let a,o;CM.elements[12]=-n,EM.elements[12]=n,a=-i*t.aspect+r,o=i*t.aspect+r,PM.elements[0]=2*t.near/(o-a),PM.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(PM),a=-i*t.aspect-r,o=i*t.aspect-r,PM.elements[0]=2*t.near/(o-a),PM.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(PM)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(CM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(EM)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:zS,SubtractEquation:Hd,SubtractiveBlending:Fd,TOUCH:Td,TangentSpaceNormalMap:Hp,TetrahedronBufferGeometry:class extends rS{constructor(e,t){super(e,t)}},TetrahedronGeometry:rS,Texture:Dm,TextureLoader:KS,TorusBufferGeometry:class extends iS{constructor(e,t,n,r,i){super(e,t,n,r,i)}},TorusGeometry:iS,TorusKnotBufferGeometry:class extends aS{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}},TorusKnotGeometry:aS,Triangle:$g,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeBufferGeometry:class extends oS{constructor(e,t,n,r,i){super(e,t,n,r,i)}},TubeGeometry:oS,TwoPassDoubleSide:3,UVMapping:wf,Uint16BufferAttribute:ov,Uint32BufferAttribute:sv,Uint8BufferAttribute:class extends av{constructor(e,t,n){super(new Uint8Array(e),t,n)}},Uint8ClampedBufferAttribute:class extends av{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Uniform:QM,UniformsGroup:class extends Kp{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:$M++}),this.name="",this.usage=Yp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return(new this.constructor).copy(this)}},UniformsLib:ty,UniformsUtils:Ov,UnsignedByteType:zf,UnsignedInt248Type:Xf,UnsignedIntType:jf,UnsignedShort4444Type:Gf,UnsignedShort5551Type:qf,UnsignedShortType:Bf,VSMShadowMap:Ld,Vector2:dm,Vector3:Vm,Vector4:Om,VectorKeyframeTrack:US,VideoTexture:class extends Dm{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:Nf,this.magFilter=void 0!==i?i:Nf,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},WebGL1Renderer:Lx,WebGL3DRenderTarget:class extends zm{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Fm(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends zm{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Um(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLCubeRenderTarget:Hv,WebGLMultipleRenderTargets:class extends zm{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const i=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=i.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},WebGLMultisampleRenderTarget:class extends zm{constructor(e,t,n){super(e,t,n),this.samples=4}},WebGLRenderTarget:zm,WebGLRenderer:Rx,WebGLUtils:wx,WireframeGeometry:sS,WrapAroundEnding:zp,ZeroCurvatureEnding:Dp,ZeroFactor:Xd,ZeroSlopeEnding:Op,ZeroStencilOp:0,_SRGBAFormat:Jp,sRGBEncoding:Vp},Symbol.toStringTag,{value:"Module"}));var PA={exports:{}},kA={
/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
ConcurrentRoot:1,ContinuousEventPriority:4,DefaultEventPriority:16,DiscreteEventPriority:1,IdleEventPriority:536870912,LegacyRoot:0};PA.exports=kA;var RA=PA.exports;function LA(e){let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?((e,r=i,a=Object.is)=>{let o=r(t);function s(){const n=r(t);if(!a(o,n)){const t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}const IA="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?B.useEffect:B.useLayoutEffect;function NA(e){const t="function"==typeof e?LA(e):e,n=(e=t.getState,n=Object.is)=>{const[,r]=B.useReducer((e=>e+1),0),i=t.getState(),a=B.useRef(i),o=B.useRef(e),s=B.useRef(n),l=B.useRef(!1),c=B.useRef();let u;void 0===c.current&&(c.current=e(i));let h=!1;(a.current!==i||o.current!==e||s.current!==n||l.current)&&(u=e(i),h=!n(c.current,u)),IA((()=>{h&&(c.current=u),a.current=i,o.current=e,s.current=n,l.current=!1}));const d=B.useRef(i);IA((()=>{const e=()=>{try{const e=t.getState(),n=o.current(e);s.current(c.current,n)||(a.current=e,c.current=n,r())}catch(e){l.current=!0,r()}},n=t.subscribe(e);return t.getState()!==d.current&&e(),n}),[]);const f=h?u:c.current;return B.useDebugValue(f),f};return Object.assign(n,t),n[Symbol.iterator]=function(){const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}var DA={exports:{}},OA={exports:{}},zA={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,L(_);else{var t=n(c);null!==t&&I(x,t.startTime-e)}}function _(t,i){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var a=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!C());){var o=h.callback;if("function"==typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?h.callback=s:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var g=n(c);null!==g&&I(x,g.startTime-i),u=!1}return u}finally{h=null,d=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,M=null,A=-1,T=5,E=-1;function C(){return!(e.unstable_now()-E<T)}function P(){if(null!==M){var t=e.unstable_now();E=t;var n=!0;try{n=M(!0,t)}finally{n?w():(S=!1,M=null)}}else S=!1}if("function"==typeof y)w=function(){y(P)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,R=k.port2;k.port1.onmessage=P,w=function(){R.postMessage(null)}}else w=function(){g(P,0)};function L(e){M=e,S||(S=!0,w())}function I(t,n){A=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,L(_))},e.unstable_forceFrameRate=function(e){0>e||125<e||(T=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(v(A),A=-1):m=!0,I(x,a-o))):(r.sortIndex=s,t(l,r),p||f||(p=!0,L(_))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(zA),OA.exports=zA;var UA=OA.exports;
/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */DA.exports=function(e){var t={},n=B,r=UA,i=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case h:return"Profiler";case u:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:w(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return w(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w(t);case 8:return t===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function A(e){if(M(e)!==e)throw Error(a(188))}function T(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return A(i),e;if(o===r)return A(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function E(e){return null!==(e=T(e))?C(e):null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=C(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var k,R=Array.isArray,L=e.getPublicInstance,I=e.getRootHostContext,N=e.getChildHostContext,D=e.prepareForCommit,O=e.resetAfterCommit,z=e.createInstance,U=e.appendInitialChild,F=e.finalizeInitialChildren,V=e.prepareUpdate,j=e.shouldSetTextContent,H=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,q=e.noTimeout,X=e.isPrimaryRenderer,Y=e.supportsMutation,Z=e.supportsPersistence,J=e.supportsHydration,K=e.getInstanceFromNode,Q=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,he=e.appendChild,de=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,xe=e.resetTextContent,_e=e.hideInstance,we=e.hideTextInstance,Se=e.unhideInstance,Me=e.unhideTextInstance,Ae=e.clearContainer,Te=e.cloneInstance,Ee=e.createContainerChildSet,Ce=e.appendChildToContainerChildSet,Pe=e.finalizeContainerChildren,ke=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Le=e.cloneHiddenTextInstance,Ie=e.canHydrateInstance,Ne=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,Oe=e.isSuspenseInstancePending,ze=e.isSuspenseInstanceFallback,Ue=e.registerSuspenseInstanceRetry,Fe=e.getNextHydratableSibling,Be=e.getFirstHydratableChild,Ve=e.getFirstHydratableChildWithinContainer,je=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Ze=e.clearSuspenseBoundary,Je=e.clearSuspenseBoundaryFromContainer,Ke=e.shouldDeleteUnhydratedTailInstances,Qe=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===k)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return"\n"+k+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ct={},ut=ot(ct),ht=ot(!1),dt=ct;function ft(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!=e.childContextTypes}function mt(){st(ht),st(ut)}function gt(e,t,n){if(ut.current!==ct)throw Error(a(168));lt(ut,t),lt(ht,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,S(e)||"Unknown",o));return i({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,dt=ut.current,lt(ut,e),lt(ht,ht.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,st(ht),st(ut),lt(ut,e)):st(ht),lt(ht,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/wt|0)|0},_t=Math.log,wt=Math.LN2,St=64,Mt=4194304;function At(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=At(s):0!=(a&=o)&&(r=At(a))}else 0!=(o=n&~i)?r=At(o):0!==a&&(r=At(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Et(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ct(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function It(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Nt=r.unstable_scheduleCallback,Dt=r.unstable_cancelCallback,Ot=r.unstable_shouldYield,zt=r.unstable_requestPaint,Ut=r.unstable_now,Ft=r.unstable_ImmediatePriority,Bt=r.unstable_UserBlockingPriority,Vt=r.unstable_NormalPriority,jt=r.unstable_IdlePriority,Ht=null,Wt=null,Gt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},qt=null,Xt=!1,Yt=!1;function Zt(e){null===qt?qt=[e]:qt.push(e)}function Jt(){if(!Yt&&null!==qt){Yt=!0;var e=0,t=Lt;try{var n=qt;for(Lt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Xt=!1}catch(i){throw null!==qt&&(qt=qt.slice(e+1)),Nt(Ft,Jt),i}finally{Lt=t,Yt=!1}}return null}var Kt=o.ReactCurrentBatchConfig;function Qt(e,t){if(Gt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return nt(e.type,!1);case 11:return nt(e.type.render,!1);case 1:return nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){X?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),X?e._currentValue=t:e._currentValue2=t}function cn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Di=!0),e.firstContext=null)}function hn(e){var t=X?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(a(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var dn=null,fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&0!=(1&e.mode)&&0==(2&qa)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var a=e.updateQueue;fn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var h=e.alternate;null!==h&&(l=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===l?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c)}if(null!==o){var d=a.baseState;for(s=0,h=u=c=null,l=o;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(p,d,f):m))break e;d=i({},d,f);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,s|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===h&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);eo|=s,e.lanes=s,e.memoizedState=d}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var wn=(new n.Component).refs;function Sn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=gn(r,i);a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=wo(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=gn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=wo(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xo(),r=_o(e),i=gn(n,r);i.tag=2,null!=t&&(i.callback=t),vn(e,i),null!==(t=wo(e,r,n))&&yn(t,e,r)}};function An(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&Qt(n,r)&&Qt(i,a))}function Tn(e,t,n){var r=!1,i=ct,a=t.contextType;return"object"==typeof a&&null!==a?a=hn(a):(i=pt(t)?dt:ut.current,a=(r=null!=(r=t.contextTypes))?ft(e,i):ct),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function En(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function Cn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wn,pn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=hn(a):(a=pt(t)?dt:ut.current,i.context=ft(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mn.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Pn=[],kn=0,Rn=null,Ln=0,In=[],Nn=0,Dn=null,On=1,zn="";function Un(e,t){Pn[kn++]=Ln,Pn[kn++]=Rn,Rn=e,Ln=t}function Fn(e,t,n){In[Nn++]=On,In[Nn++]=zn,In[Nn++]=Dn,Dn=e;var r=On;e=zn;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,On=1<<32-xt(t)+i|n<<i|r,zn=a+e}else On=1<<a|n<<i|r,zn=e}function Bn(e){null!==e.return&&(Un(e,1),Fn(e,1,0))}function Vn(e){for(;e===Rn;)Rn=Pn[--kn],Pn[kn]=null,Ln=Pn[--kn],Pn[kn]=null;for(;e===Dn;)Dn=In[--Nn],In[Nn]=null,zn=In[--Nn],In[Nn]=null,On=In[--Nn],In[Nn]=null}var jn=null,Hn=null,Wn=!1,Gn=!1,qn=null;function Xn(e,t){var n=Ko(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Yn(e,t){switch(e.tag){case 5:return null!==(t=Ie(t,e.type,e.pendingProps))&&(e.stateNode=t,jn=e,Hn=Be(t),!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,jn=e,Hn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==Dn?{id:On,overflow:zn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ko(18,null,null,0)).stateNode=t,n.return=e,e.child=n,jn=e,Hn=null,!0}return!1;default:return!1}}function Zn(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Jn(e){if(Wn){var t=Hn;if(t){var n=t;if(!Yn(e,t)){if(Zn(e))throw Error(a(418));t=Fe(n);var r=jn;t&&Yn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,jn=e)}}else{if(Zn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Wn=!1,jn=e}}}function Kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jn=e}function Qn(e){if(!J||e!==jn)return!1;if(!Wn)return Kn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ke(e.type)&&!j(e.type,e.memoizedProps))){var t=Hn;if(t){if(Zn(e)){for(e=Hn;e;)e=Fe(e);throw Error(a(418))}for(;t;)Xn(e,t),t=Fe(t)}}if(Kn(e),13===e.tag){if(!J)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Hn=qe(e)}else Hn=jn?Fe(e.stateNode):null;return!0}function $n(){J&&(Hn=jn=null,Gn=Wn=!1)}function er(e){null===qn?qn=[e]:qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===wn&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=$o(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function h(e,t,n,r){return null===t||6!==t.tag?((t=rs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===y&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=es(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ts(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=rs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case s:return(n=es(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=is(t,e.mode,n)).return=e,t;case y:return m(e,(0,t._init)(t._payload),n)}if(R(t)||_(t))return(t=ts(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:h(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?d(e,t,n,r):null;case l:return n.key===i?f(e,t,n,r):null;case y:return g(e,t,(i=n._init)(n._payload),r)}if(R(n)||_(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return h(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case s:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return v(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}return function h(d,f,p,b){if("object"==typeof p&&null!==p&&p.type===c&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case s:e:{for(var x=p.key,w=f;null!==w;){if(w.key===x){if((x=p.type)===c){if(7===w.tag){n(d,w.sibling),(f=i(w,p.props.children)).return=d,d=f;break e}}else if(w.elementType===x||"object"==typeof x&&null!==x&&x.$$typeof===y&&rr(x)===w.type){n(d,w.sibling),(f=i(w,p.props)).ref=tr(d,w,p),f.return=d,d=f;break e}n(d,w);break}t(d,w),w=w.sibling}p.type===c?((f=ts(p.props.children,d.mode,b,p.key)).return=d,d=f):((b=es(p.type,p.key,p.props,null,d.mode,b)).ref=tr(d,f,p),b.return=d,d=b)}return u(d);case l:e:{for(w=p.key;null!==f;){if(f.key===w){if(4===f.tag&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(d,f.sibling),(f=i(f,p.children||[])).return=d,d=f;break e}n(d,f);break}t(d,f),f=f.sibling}(f=is(p,d.mode,b)).return=d,d=f}return u(d);case y:return h(d,f,(w=p._init)(p._payload),b)}if(R(p))return function(i,a,s,l){for(var c=null,u=null,h=a,d=a=0,f=null;null!==h&&d<s.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=g(i,h,s[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),a=o(p,a,d),null===u?c=p:u.sibling=p,u=p,h=f}if(d===s.length)return n(i,h),Wn&&Un(i,d),c;if(null===h){for(;d<s.length;d++)null!==(h=m(i,s[d],l))&&(a=o(h,a,d),null===u?c=h:u.sibling=h,u=h);return Wn&&Un(i,d),c}for(h=r(i,h);d<s.length;d++)null!==(f=v(h,i,d,s[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=o(f,a,d),null===u?c=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(i,e)})),Wn&&Un(i,d),c}(d,f,p,b);if(_(p))return function(i,s,l,c){var u=_(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,d=s,f=s=0,p=null,y=l.next();null!==d&&!y.done;f++,y=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=g(i,d,y.value,c);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),s=o(b,s,f),null===h?u=b:h.sibling=b,h=b,d=p}if(y.done)return n(i,d),Wn&&Un(i,f),u;if(null===d){for(;!y.done;f++,y=l.next())null!==(y=m(i,y.value,c))&&(s=o(y,s,f),null===h?u=y:h.sibling=y,h=y);return Wn&&Un(i,f),u}for(d=r(i,d);!y.done;f++,y=l.next())null!==(y=v(d,i,f,y.value,c))&&(e&&null!==y.alternate&&d.delete(null===y.key?f:y.key),s=o(y,s,f),null===h?u=y:h.sibling=y,h=y);return e&&d.forEach((function(e){return t(i,e)})),Wn&&Un(i,f),u}(d,f,p,b);nr(d,p)}return"string"==typeof p&&""!==p||"number"==typeof p?(p=""+p,null!==f&&6===f.tag?(n(d,f.sibling),(f=i(f,p)).return=d,d=f):(n(d,f),(f=rs(p,d.mode,b)).return=d,d=f),u(d)):n(d,f)}}var ar=ir(!0),or=ir(!1),sr={},lr=ot(sr),cr=ot(sr),ur=ot(sr);function hr(e){if(e===sr)throw Error(a(174));return e}function dr(e,t){lt(ur,t),lt(cr,e),lt(lr,sr),e=I(t),st(lr),lt(lr,e)}function fr(){st(lr),st(cr),st(ur)}function pr(e){var t=hr(ur.current),n=hr(lr.current);n!==(t=N(n,e.type,t))&&(lt(cr,e),lt(lr,t))}function mr(e){cr.current===e&&(st(lr),st(cr))}var gr=ot(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Oe(n)||ze(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var xr=o.ReactCurrentDispatcher,_r=o.ReactCurrentBatchConfig,wr=0,Sr=null,Mr=null,Ar=null,Tr=!1,Er=!1,Cr=0,Pr=0;function kr(){throw Error(a(321))}function Rr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Lr(e,t,n,r,i,o){if(wr=o,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Er){o=0;do{if(Er=!1,Cr=0,25<=o)throw Error(a(301));o+=1,Ar=Mr=null,t.updateQueue=null,xr.current=gi,e=n(r,i)}while(Er)}if(xr.current=fi,t=null!==Mr&&null!==Mr.next,wr=0,Ar=Mr=Sr=null,Tr=!1,t)throw Error(a(300));return e}function Ir(){var e=0!==Cr;return Cr=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ar?Sr.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function Dr(){if(null===Mr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var t=null===Ar?Sr.memoizedState:Ar.next;if(null!==t)Ar=t,Mr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===Ar?Sr.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function Or(e,t){return"function"==typeof t?t(e):t}function zr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Mr,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var h=u.lane;if((wr&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,Sr.lanes|=h,eo|=h}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,Gt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,Sr.lanes|=o,eo|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ur(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Gt(o,t.memoizedState)||(Di=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fr(){}function Br(e,t){var n=Sr,r=Dr(),i=t(),o=!Gt(r.memoizedState,i);if(o&&(r.memoizedState=i,Di=!0),r=r.queue,Kr(Hr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Ar&&1&Ar.memoizedState.tag){if(n.flags|=2048,qr(9,jr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(a(349));0!=(30&wr)||Vr(n,t,i)}return i}function Vr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&wo(e,1,-1)}function Hr(e,t,n){return n((function(){Wr(t)&&wo(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(r){return!0}}function Gr(e){var t=Nr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Sr,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Dr().memoizedState}function Yr(e,t,n,r){var i=Nr();Sr.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Zr(e,t,n,r){var i=Dr();r=void 0===r?null:r;var a=void 0;if(null!==Mr){var o=Mr.memoizedState;if(a=o.destroy,null!==r&&Rr(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}Sr.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function Jr(e,t){return Yr(8390656,8,e,t)}function Kr(e,t){return Zr(2048,8,e,t)}function Qr(e,t){return Zr(4,2,e,t)}function $r(e,t){return Zr(4,4,e,t)}function ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!=n?n.concat([e]):null,Zr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Lt;Lt=0!==n&&4>n?n:4,e(!0);var r=_r.transition;_r.transition={};try{e(!1),t()}finally{Lt=n,_r.transition=r}}function oi(){return Dr().memoizedState}function si(e,t,n){var r=_o(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ci(e)?ui(t,n):(hi(e,t,n),null!==(e=wo(e,r,n=xo()))&&di(e,t,r))}function li(e,t,n){var r=_o(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ci(e))ui(t,i);else{hi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gt(s,o))return}catch(l){}null!==(e=wo(e,r,n=xo()))&&di(e,t,r)}}function ci(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ui(e,t){Er=Tr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hi(e,t,n){null!==Xa&&0!=(1&e.mode)&&0==(2&qa)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function di(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var fi={readContext:hn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},pi={readContext:hn,useCallback:function(e,t){return Nr().memoizedState=[e,void 0===t?null:t],e},useContext:hn,useEffect:Jr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Nr().memoizedState=e},useState:Gr,useDebugValue:ni,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return Jr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=ai.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Nr();if(Wn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Xa)throw Error(a(349));0!=(30&wr)||Vr(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Jr(Hr.bind(null,r,o,e),[e]),r.flags|=2048,qr(9,jr.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Nr(),t=Xa.identifierPrefix;if(Wn){var n=zn;t=":"+t+"R"+(n=(On&~(1<<32-xt(On)-1)).toString(32)+n),0<(n=Cr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Pr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:$r,useMemo:ii,useReducer:zr,useRef:Xr,useState:function(){return zr(Or)},useDebugValue:ni,useDeferredValue:function(e){var t=zr(Or),n=t[0],r=t[1];return Kr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[zr(Or)[0],Dr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1},gi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:$r,useMemo:ii,useReducer:Ur,useRef:Xr,useState:function(){return Ur(Or)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Or),n=t[0],r=t[1];return Kr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Ur(Or)[0],Dr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}var yi,bi,xi,_i,wi="function"==typeof WeakMap?WeakMap:Map;function Si(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,uo=r)},n}function Mi(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ai(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new wi;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Go.bind(null,e,t,n),t.then(e,e))}function Ti(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ei(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ci(e){e.flags|=4}function Pi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Y)yi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=hr(lr.current);n=V(a,n,e,r,i,o),(t.updateQueue=n)&&Ci(t)}},_i=function(e,t,n,r){n!==r&&Ci(t)};else if(Z){yi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),U(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Le(a,i.memoizedProps,i)),U(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),yi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var ki=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),Ce(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Le(a,i.memoizedProps,i)),Ce(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),ki(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bi=function(e,t){var n=t.stateNode;if(!Pi(e,t)){e=n.containerInfo;var r=Ee(e);ki(r,t,!1,!1),n.pendingChildren=r,Ci(t),Pe(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Pi(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=hr(lr.current),c=null;o!==r&&(c=V(s,n,o,r,i,l)),e&&null===c?t.stateNode=a:(a=Te(a,c,n,o,r,t,e,s),F(a,n,r,i,l)&&Ci(t),t.stateNode=a,e?Ci(t):yi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=hr(ur.current),n=hr(lr.current),t.stateNode=H(r,e,n,t),Ci(t)):t.stateNode=e.stateNode}}else bi=function(){},xi=function(){},_i=function(){};function Ri(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Li(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ii(e,t,n){var r=t.pendingProps;switch(Vn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(t),null;case 1:case 17:return pt(t.type)&&mt(),Li(t),null;case 3:return r=t.stateNode,fr(),st(ht),st(ut),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qn(t)?Ci(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==qn&&(Eo(qn),qn=null))),bi(e,t),Li(t),null;case 5:mr(t),n=hr(ur.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Li(t),null}if(e=hr(lr.current),Qn(t)){if(!J)throw Error(a(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Ci(t)}else{var o=z(i,r,n,e,t);yi(o,t,!1,!1),t.stateNode=o,F(o,i,r,n,e)&&Ci(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Li(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=hr(ur.current),n=hr(lr.current),Qn(t)){if(!J)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Gn))&&null!==(i=jn))switch(o=0!=(1&i.mode),i.tag){case 3:Qe(i.stateNode.containerInfo,e,r,o);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,o)}n&&Ci(t)}else t.stateNode=H(r,e,n,t)}return Li(t),null;case 13:if(st(gr),r=t.memoizedState,Wn&&null!==Hn&&0!=(1&t.mode)&&0==(128&t.flags)){for(e=Hn;e;)e=Fe(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Qn(t),null===e){if(!r)throw Error(a(318));if(!J)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));Ge(e,t)}else $n(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Li(t),null}return null!==qn&&(Eo(qn),qn=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Qn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&gr.current)?0===Qa&&(Qa=3):Do())),null!==t.updateQueue&&(t.flags|=4),Li(t),null);case 4:return fr(),bi(e,t),null===e&&Q(t.stateNode.containerInfo),Li(t),null;case 10:return ln(t.type._context),Li(t),null;case 19:if(st(gr),null===(i=t.memoizedState))return Li(t),null;if(r=0!=(128&t.flags),null===(o=i.rendering))if(r)Ri(i,!1);else{if(0!==Qa||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=vr(e))){for(t.flags|=128,Ri(i,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Ut()>oo&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Wn)return Li(t),null}else 2*Ut()-i.renderingStartTime>oo&&1073741824!==n&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Li(t),null);case 22:case 23:return Ro(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ja)&&(Li(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):Li(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Ni=o.ReactCurrentOwner,Di=!1;function Oi(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function zi(e,t,n,r,i){n=n.render;var a=t.ref;return un(t,i),r=Lr(e,t,n,r,a,i),n=Ir(),null===e||Di?(Wn&&n&&Bn(t),t.flags|=1,Oi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i))}function Ui(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Qo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=es(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fi(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qt)(o,r)&&e.ref===t.ref)return ra(e,t,i)}return t.flags|=1,(e=$o(a,r)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,n,r,i){if(null!==e&&Qt(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0==(e.lanes&i))return t.lanes=e.lanes,ra(e,t,i);0!=(131072&e.flags)&&(Di=!0)}return ji(e,t,n,r,i)}function Bi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Ka,Ja),Ja|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Ka,Ja),Ja|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt(Ka,Ja),Ja|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Ka,Ja),Ja|=r;return Oi(e,t,i,n),t.child}function Vi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ji(e,t,n,r,i){var a=pt(n)?dt:ut.current;return a=ft(t,a),un(t,i),n=Lr(e,t,n,r,a,i),r=Ir(),null===e||Di?(Wn&&r&&Bn(t),t.flags|=1,Oi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i))}function Hi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(un(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Tn(t,n,r),Cn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;c="object"==typeof c&&null!==c?hn(c):ft(t,c=pt(n)?dt:ut.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&En(t,o,r,c),fn=!1;var d=t.memoizedState;o.state=d,xn(t,r,o,i),l=t.memoizedState,s!==r||d!==l||ht.current||fn?("function"==typeof u&&(Sn(t,n,u,r),l=t.memoizedState),(s=fn||An(t,n,s,r,d,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:en(t.type,s),o.props=c,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?hn(l):ft(t,l=pt(n)?dt:ut.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==h||d!==l)&&En(t,o,r,l),fn=!1,d=t.memoizedState,o.state=d,xn(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||ht.current||fn?("function"==typeof f&&(Sn(t,n,f,r),p=t.memoizedState),(c=fn||An(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){Vi(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ra(e,t,a);r=t.stateNode,Ni.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Oi(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Gi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),dr(e,t.containerInfo)}function qi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Oi(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function Zi(e,t,n){var r,i=t.pendingProps,o=gr.current,s=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),lt(gr,1&o),null===e)return Jn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:ze(e)?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=ns(o,i,0,null),e=ts(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Xi,e):Ji(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,$i(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=ns({mode:"visible",children:i.children},o,0,null),(s=ts(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!=(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Xi,s);if(0==(1&t.mode))t=$i(e,t,n,null);else if(ze(r))t=$i(e,t,n,Error(a(419)));else if(i=0!=(n&e.childLanes),Di||i){if(null!==(i=Xa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!=(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,wo(e,i,-1))}Do(),t=$i(e,t,n,Error(a(421)))}else Oe(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),Ue(r,t),t=null):(n=o.treeContext,J&&(Hn=je(r),jn=t,Wn=!0,qn=null,Gn=!1,null!==n&&(In[Nn++]=On,In[Nn++]=zn,In[Nn++]=Dn,On=n.id,zn=n.overflow,Dn=t)),(t=Ji(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Qi(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Yi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ki(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Qi(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Yi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ki(e,t,i.children,n),t.memoizedState=null,n)}function Ji(e,t){return(t=ns({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,r){var i=e.child;return e=i.sibling,n=$o(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Qi(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=$o(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=$o(o,r):(r=ts(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function $i(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ea(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),cn(e.return,t,n)}function ta(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function na(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Oi(e,t,r.children,n),0!=(2&(r=gr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n,t);else if(19===e.tag)ea(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ta(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ta(t,!0,n,null,a);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ra(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),eo|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=$o(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$o(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ia(e,t){switch(Vn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),st(ht),st(ut),br(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(st(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(gr),null;case 4:return fr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Ro(),null;default:return null}}var aa=!1,oa=!1,sa="function"==typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Wo(e,t,r)}else n.current=null}function ua(e,t,n){try{n()}catch(r){Wo(e,t,r)}}var ha=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ua(t,n,a)}i=i.next}while(i!==r)}}function fa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?L(n):n,"function"==typeof t?t(e):t.current=e}}function ma(e,t,n){if(Wt&&"function"==typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Ht,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)||0!=(4&i))&&ua(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wo(t,n,o)}break;case 5:ca(t,n);break;case 4:Y?Sa(e,t,n):Z&&Z&&(t=t.stateNode.containerInfo,n=Ee(t),ke(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||Y&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function va(e){var t=e.alternate;null!==t&&(e.alternate=null,va(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ee(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ya(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(Y){e:{for(var t=e.return;null!==t;){if(ya(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),wa(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=ba(e),t);break;default:throw Error(a(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function wa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function Sa(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag)ga(e,o,n),i?be(r,o.stateNode):ye(r,o.stateNode);else if(18===o.tag)i?Je(r,o.stateNode):Ze(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ma(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Ma(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),fa(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&me(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(J&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Aa(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),fa(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Aa(t);case 3:J&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(Z){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,ke(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function Aa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach((function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t,n){la=e,Ea(e)}function Ea(e,t,n){for(var r=0!=(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||aa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||oa;s=aa;var c=oa;if(aa=o,(oa=l)&&!c)for(la=i;null!==la;)l=(o=la).child,22===o.tag&&null!==o.memoizedState?ka(i):null!==l?(l.return=o,la=l):ka(i);for(;null!==a;)la=a,Ea(a),a=a.sibling;la=i,aa=s,oa=c}Ca(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):Ca(e)}}function Ca(e){for(;null!==la;){var t=la;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:oa||fa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!oa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&_n(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=L(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(J&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ye(h)}}}break;default:throw Error(a(163))}oa||512&t.flags&&pa(t)}catch(d){Wo(t,t.return,d)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Pa(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function ka(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(l){Wo(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Wo(t,i,l)}}var a=t.return;try{pa(t)}catch(l){Wo(t,a,l)}break;case 5:var o=t.return;try{pa(t)}catch(l){Wo(t,o,l)}}}catch(l){Wo(t,t.return,l)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Ra=0,La=1,Ia=2,Na=3,Da=4;if("function"==typeof Symbol&&Symbol.for){var Oa=Symbol.for;Ra=Oa("selector.component"),La=Oa("selector.has_pseudo_class"),Ia=Oa("selector.role"),Na=Oa("selector.test_id"),Da=Oa("selector.text")}function za(e){var t=K(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=ie(e)))throw Error(a(362));return e.stateNode.current}function Ua(e,t){switch(t.$$typeof){case Ra:if(e.type===t.value)return!0;break;case La:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!se(r)){for(;null!=o&&Ua(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ia:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&null!==(e=oe(e))&&0<=e.indexOf(t.value))return!0;break;case Na:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function Fa(e){switch(e.$$typeof){case Ra:return"<"+(w(e.value)||"Unknown")+">";case La:return":has("+(Fa(e)||"")+")";case Ia:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case Na:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Ba(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Ua(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Va(e,t){if(!re)throw Error(a(363));e=Ba(e=za(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var ja=Math.ceil,Ha=o.ReactCurrentDispatcher,Wa=o.ReactCurrentOwner,Ga=o.ReactCurrentBatchConfig,qa=0,Xa=null,Ya=null,Za=0,Ja=0,Ka=ot(0),Qa=0,$a=null,eo=0,to=0,no=0,ro=null,io=null,ao=0,oo=1/0;function so(){oo=Ut()+500}var lo,co=!1,uo=null,ho=null,fo=!1,po=null,mo=0,go=0,vo=null,yo=-1,bo=0;function xo(){return 0!=(6&qa)?Ut():-1!==yo?yo:yo=Ut()}function _o(e){return 0==(1&e.mode)?1:0!=(2&qa)&&0!==Za?Za&-Za:null!==Kt.transition?(0===bo&&(e=St,0==(4194240&(St<<=1))&&(St=64),bo=e),bo):0!==(e=Lt)?e:$()}function wo(e,t,n){if(50<go)throw go=0,vo=null,Error(a(185));var r=So(e,t);return null===r?null:(kt(r,t,n),0!=(2&qa)&&r===Xa||(r===Xa&&(0==(2&qa)&&(to|=t),4===Qa&&Co(r,Za)),Mo(r,n),1===t&&0===qa&&0==(1&e.mode)&&(so(),Xt&&Jt())),r)}function So(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Mo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),s=1<<o,l=i[o];-1===l?0!=(s&n)&&0==(s&r)||(i[o]=Et(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Tt(e,e===Xa?Za:0);if(0===r)null!==n&&Dt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Dt(n),1===t)0===e.tag?function(e){Xt=!0,Zt(e)}(Po.bind(null,e)):Zt(Po.bind(null,e)),te?ne((function(){0===qa&&Jt()})):Nt(Ft,Jt),n=null;else{switch(It(r)){case 1:n=Ft;break;case 4:n=Bt;break;case 16:default:n=Vt;break;case 536870912:n=jt}n=Zo(n,Ao.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ao(e,t){if(yo=-1,bo=0,0!=(6&qa))throw Error(a(327));var n=e.callbackNode;if(jo()&&e.callbackNode!==n)return null;var r=Tt(e,e===Xa?Za:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=Oo(e,r);else{t=r;var i=qa;qa|=2;var o=No();for(Xa===e&&Za===t||(so(),Lo(e,t));;)try{Uo();break}catch(l){Io(e,l)}on(),Ha.current=o,qa=i,null!==Ya?t=0:(Xa=null,Za=0,t=Qa)}if(0!==t){if(2===t&&0!==(i=Ct(e))&&(r=i,t=To(e,i)),1===t)throw n=$a,Lo(e,0),Co(e,r),Mo(e,Ut()),n;if(6===t)Co(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Oo(e,r))&&0!==(o=Ct(e))&&(r=o,t=To(e,o)),1===t))throw n=$a,Lo(e,0),Co(e,r),Mo(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Vo(e,io);break;case 3:if(Co(e,r),(130023424&r)===r&&10<(t=ao+500-Ut())){if(0!==Tt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){xo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Vo.bind(null,e,io),t);break}Vo(e,io);break;case 4:if(Co(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ja(r/1960))-r)){e.timeoutHandle=W(Vo.bind(null,e,io),r);break}Vo(e,io);break;default:throw Error(a(329))}}}return Mo(e,Ut()),e.callbackNode===n?Ao.bind(null,e):null}function To(e,t){var n=ro;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),2!==(e=Oo(e,t))&&(t=io,io=n,null!==t&&Eo(t)),e}function Eo(e){null===io?io=e:io.push.apply(io,e)}function Co(e,t){for(t&=~no,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Po(e){if(0!=(6&qa))throw Error(a(327));jo();var t=Tt(e,0);if(0==(1&t))return Mo(e,Ut()),null;var n=Oo(e,t);if(0!==e.tag&&2===n){var r=Ct(e);0!==r&&(t=r,n=To(e,r))}if(1===n)throw n=$a,Lo(e,0),Co(e,t),Mo(e,Ut()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,io),Mo(e,Ut()),null}function ko(e){null!==po&&0===po.tag&&0==(6&qa)&&jo();var t=qa;qa|=1;var n=Ga.transition,r=Lt;try{if(Ga.transition=null,Lt=1,e)return e()}finally{Lt=r,Ga.transition=n,0==(6&(qa=t))&&Jt()}}function Ro(){Ja=Ka.current,st(Ka)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,G(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(Vn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&mt();break;case 3:fr(),st(ht),st(ut),br();break;case 5:mr(r);break;case 4:fr();break;case 13:case 19:st(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Ro()}n=n.return}if(Xa=e,Ya=e=$o(e.current,null),Za=Ja=t,Qa=0,$a=null,no=to=eo=0,io=ro=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}dn=null}return e}function Io(e,t){for(;;){var n=Ya;try{if(on(),xr.current=fi,Tr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Tr=!1}if(wr=0,Ar=Mr=Sr=null,Er=!1,Cr=0,Wa.current=null,null===n||null===n.return){Qa=1,$a=t,Ya=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Za,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ti(s);if(null!==p){p.flags&=-257,Ei(p,s,l,0,t),1&p.mode&&Ai(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0==(1&t)){Ai(o,u,t),Do();break e}c=Error(a(426))}else if(Wn&&1&l.mode){var v=Ti(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),Ei(v,s,l,0,t),er(c);break e}}o=c,4!==Qa&&(Qa=2),null===ro?ro=[o]:ro.push(o),c=vi(c,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Si(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0==(128&l.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ho||!ho.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Mi(l,o,t));break e}}l=l.return}while(null!==l)}Bo(n)}catch(x){t=x,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function No(){var e=Ha.current;return Ha.current=fi,null===e?fi:e}function Do(){0!==Qa&&3!==Qa&&2!==Qa||(Qa=4),null===Xa||0==(268435455&eo)&&0==(268435455&to)||Co(Xa,Za)}function Oo(e,t){var n=qa;qa|=2;var r=No();for(Xa===e&&Za===t||Lo(e,t);;)try{zo();break}catch(i){Io(e,i)}if(on(),qa=n,Ha.current=r,null!==Ya)throw Error(a(261));return Xa=null,Za=0,Qa}function zo(){for(;null!==Ya;)Fo(Ya)}function Uo(){for(;null!==Ya&&!Ot();)Fo(Ya)}function Fo(e){var t=lo(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,null===t?Bo(e):Ya=t,Wa.current=null}function Bo(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ii(n,t,Ja)))return void(Ya=n)}else{if(null!==(n=ia(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return Qa=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===Qa&&(Qa=5)}function Vo(e,t){var n=Lt,r=Ga.transition;try{Ga.transition=null,Lt=1,function(e,t,n){do{jo()}while(null!==po);if(0!=(6&qa))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Xa&&(Ya=Xa=null,Za=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||fo||(fo=!0,Zo(Vt,(function(){return jo(),null}))),o=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||o){o=Ga.transition,Ga.transition=null;var s=Lt;Lt=1;var l=qa;qa|=4,Wa.current=null,function(e,t){for(D(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&Ae(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(l){Wo(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=ha,ha=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Y?Sa(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(_){Wo(i,t,_)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&Y&&xe(t.stateNode),512&s){var l=t.alternate;if(null!==l){var c=l.ref;null!==c&&("function"==typeof c?c(null):c.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(ao=Ut())}break;case 22:var h=null!==t.memoizedState,d=t.alternate,f=null!==d&&null!==d.memoizedState;if(n=t,Y)e:if(r=n,i=h,a=null,Y)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?_e(m):Se(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var g=p.stateNode;i?we(g):Me(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(h&&!f&&0!=(1&n.mode)){la=n;for(var v=n.child;null!==v;){for(n=la=v;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"==typeof b.componentWillUnmount){var x=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(_){Wo(r,x,_)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Pa(n);continue}}null!==y?(y.return=r,la=y):Pa(n)}v=v.sibling}}}switch(4102&s){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,Ma(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ma(t.alternate,t);break;case 4:Ma(t.alternate,t)}}catch(_){Wo(t,t.return,_)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),O(e.containerInfo),e.current=r,Ta(r),zt(),qa=l,Lt=s,Ga.transition=o}else e.current=r;if(fo&&(fo=!1,po=e,mo=i),0===(o=e.pendingLanes)&&(ho=null),function(e){if(Wt&&"function"==typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Ht,e,void 0,128==(128&e.current.flags))}catch(t){}}(r.stateNode),Mo(e,Ut()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=uo,uo=null,e;0!=(1&mo)&&0!==e.tag&&jo(),0!=(1&(o=e.pendingLanes))?e===vo?go++:(go=0,vo=e):go=0,Jt()}(e,t,n)}finally{Ga.transition=r,Lt=n}return null}function jo(){if(null!==po){var e=It(mo),t=Ga.transition,n=Lt;try{if(Ga.transition=null,Lt=16>e?16:e,null===po)var r=!1;else{if(e=po,po=null,mo=0,0!=(6&qa))throw Error(a(331));var i=qa;for(qa|=4,la=e.current;null!==la;){var o=la,s=o.child;if(0!=(16&la.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(la=u;null!==la;){var h=la;switch(h.tag){case 0:case 11:case 15:da(8,h,o)}var d=h.child;if(null!==d)d.return=h,la=d;else for(;null!==la;){var f=(h=la).sibling,p=h.return;if(va(h),h===u){la=null;break}if(null!==f){f.return=p,la=f;break}la=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}la=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,la=s;else e:for(;null!==la;){if(0!=(2048&(o=la).flags))switch(o.tag){case 0:case 11:case 15:da(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,la=y;break e}la=o.return}}var b=e.current;for(la=b;null!==la;){var x=(s=la).child;if(0!=(2064&s.subtreeFlags)&&null!==x)x.return=s,la=x;else e:for(s=b;null!==la;){if(0!=(2048&(l=la).flags))try{switch(l.tag){case 0:case 11:case 15:fa(9,l)}}catch(w){Wo(l,l.return,w)}if(l===s){la=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,la=_;break e}la=l.return}}if(qa=i,Jt(),Wt&&"function"==typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Ht,e)}catch(w){}r=!0}return r}finally{Lt=n,Ga.transition=t}}return!1}function Ho(e,t,n){vn(e,t=Si(0,t=vi(n,t),1)),t=xo(),null!==(e=So(e,1))&&(kt(e,1,t),Mo(e,t))}function Wo(e,t,n){if(3===e.tag)Ho(e,e,n);else for(;null!==t;){if(3===t.tag){Ho(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ho||!ho.has(r))){vn(t,e=Mi(t,e=vi(n,e),1)),e=xo(),null!==(t=So(t,1))&&(kt(t,1,e),Mo(t,e));break}}t=t.return}}function Go(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Za&n)===n&&(4===Qa||3===Qa&&(130023424&Za)===Za&&500>Ut()-ao?Lo(e,0):no|=n),Mo(e,t)}function qo(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Mt,0==(130023424&(Mt<<=1))&&(Mt=4194304)));var n=xo();null!==(e=So(e,t))&&(kt(e,t,n),Mo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qo(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),qo(e,n)}function Zo(e,t){return Nt(e,t)}function Jo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(e,t,n,r){return new Jo(e,t,n,r)}function Qo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $o(e,t){var n=e.alternate;return null===n?((n=Ko(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function es(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Qo(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return ts(n.children,i,o,t);case u:s=8,i|=8;break;case h:return(e=Ko(12,n,t,2|i)).elementType=h,e.lanes=o,e;case m:return(e=Ko(13,n,t,i)).elementType=m,e.lanes=o,e;case g:return(e=Ko(19,n,t,i)).elementType=g,e.lanes=o,e;case b:return ns(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case d:s=10;break e;case f:s=9;break e;case p:s=11;break e;case v:s=14;break e;case y:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ko(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ts(e,t,n,r){return(e=Ko(7,e,r,t)).lanes=n,e}function ns(e,t,n,r){return(e=Ko(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function rs(e,t,n){return(e=Ko(6,e,null,t)).lanes=n,e}function is(e,t,n){return(t=Ko(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function as(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pt(0),this.expirationTimes=Pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.identifierPrefix=r,this.onRecoverableError=i,J&&(this.mutableSourceEagerHydrationData=null)}function os(e,t,n,r,i,a,o,s,l){return e=new as(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ko(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function ss(e){if(!e)return ct;e:{if(M(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=E(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function us(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function hs(e){return null===(e=E(e))?null:e.stateNode}function ds(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Di=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:Gi(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Zi(e,t,n):(lt(gr,1&gr.current),null!==(e=ra(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return na(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return ra(e,t,n)}(e,t,n);Di=0!=(131072&e.flags)}else Di=!1,Wn&&0!=(1048576&t.flags)&&Fn(t,Ln,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ft(t,ut.current);un(t,n),i=Lr(null,t,r,e,i,n);var o=Ir();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(o=!0,yt(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Mn,t.stateNode=i,i._reactInternals=t,Cn(t,r,e,n),t=Wi(null,t,r,!0,o,n)):(t.tag=0,Wn&&o&&Bn(t),Oi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Qo(e)?1:0;if(null!=e){if((e=e.$$typeof)===p)return 11;if(e===v)return 14}return 2}(r),e=en(r,e),i){case 0:t=ji(null,t,r,e,n);break e;case 1:t=Hi(null,t,r,e,n);break e;case 11:t=zi(null,t,r,e,n);break e;case 14:t=Ui(null,t,r,en(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ji(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Gi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,mn(e,t),xn(t,r,null,n);var s=t.memoizedState;if(r=s.element,J&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=qi(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=qi(e,t,r,n,i=Error(a(424)));break e}for(J&&(Hn=Ve(t.stateNode.containerInfo),jn=t,Wn=!0,qn=null,Gn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=ra(e,t,n);break e}Oi(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Jn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,j(r,i)?s=null:null!==o&&j(r,o)&&(t.flags|=32),Vi(e,t),Oi(e,t,s,n),t.child;case 6:return null===e&&Jn(t),null;case 13:return Zi(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Oi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,zi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Oi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,sn(0,r,s=i.value),null!==o)if(Gt(o.value,s)){if(o.children===i.children&&!ht.current){t=ra(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=gn(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),cn(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),cn(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Oi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,un(t,n),r=r(i=hn(i)),t.flags|=1,Oi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Ui(e,t,r,i=en(r.type,i),n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,un(t,n),Tn(t,r,i),Cn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return na(e,t,n);case 22:return Bi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(wo(e,134217728,xo()),us(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=xo(),n=_o(e);wo(e,n,t),us(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=At(t.pendingLanes);0!==n&&(Rt(t,1|n),Mo(t,Ut()),0==(6&qa)&&(so(),Jt()))}break;case 13:var r=xo();ko((function(){return wo(e,1,r)})),us(e,1)}},t.batchedUpdates=function(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&(so(),Xt&&Jt())}},t.createComponentSelector=function(e){return{$$typeof:Ra,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return os(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:La,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=os(n,r,!0,e,0,a,0,s,l)).context=ss(null),n=e.current,(a=gn(r=xo(),i=_o(n))).callback=null!=t?t:null,vn(n,a),e.current.lanes=i,kt(e,i,r),Mo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ia,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Na,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=Lt,n=Ga.transition;try{return Ga.transition=null,Lt=16,e()}finally{Lt=t,Ga.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Lt,o=Ga.transition;try{return Ga.transition=null,Lt=1,e(t,n,r,i)}finally{Lt=a,Ga.transition=o,0===qa&&so()}},t.findAllNodes=Va,t.findBoundingRects=function(e,t){if(!re)throw Error(a(363));t=Va(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,h=u+c.width,d=c.y,f=d+c.height;if(r>=u&&o>=d&&i<=h&&s<=f){e.splice(t,1);break}if(!(r!==u||n.width!==c.width||f<o||d>s)){d>o&&(c.height+=d-o,c.y=o),f<s&&(c.height=s-d),e.splice(t,1);break}if(!(o!==d||n.height!==c.height||h<r||u>i)){u>r&&(c.width+=u-r,c.x=r),h<i&&(c.width=i-u),e.splice(t,1);break}}return e},t.findHostInstance=ls,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=T(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ls(e)},t.flushControlled=function(e){var t=qa;qa|=1;var n=Ga.transition,r=Lt;try{Ga.transition=null,Lt=1,e()}finally{Lt=r,Ga.transition=n,0===(qa=t)&&(so(),Jt())}},t.flushPassiveEffects=jo,t.flushSync=ko,t.focusWithin=function(e,t){if(!re)throw Error(a(363));for(t=Ba(e=za(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(a(363));var n=0,r=[];e=[za(e),0];for(var i=0;i<e.length;){var o=e[i++],s=e[i++],l=t[s];if((5!==o.tag||!se(o))&&(Ua(o,l)&&(r.push(Fa(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Fa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?L(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:hs,findFiberByHostInstance:e.findFiberByHostInstance||ds,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(a(363));e=Va(e,t);var i=ue(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=xo(),o=_o(i);return n=ss(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=wo(i,o,a))&&yn(e,i,o),o},t};const FA=n(DA.exports),BA=[];function VA(e,t,n=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function jA(e,t=null,n=!1,r={}){null===t&&(t=[e]);for(const o of BA)if(VA(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:t,equal:r.equal,remove:()=>{const e=BA.indexOf(i);-1!==e&&BA.splice(e,1)},promise:(a=e,"object"==typeof a&&"function"==typeof a.then?e:e(...t)).then((e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))})).catch((e=>i.error=e))};var a;if(BA.push(i),!n)throw i.promise}const HA=(e,t,n)=>jA(e,t,!1,n),WA={},GA=e=>{Object.assign(WA,e)};var qA,XA;const YA=e=>"colorSpace"in e||"outputColorSpace"in e,ZA=()=>{var e;return null!=(e=WA.ColorManagement)?e:null},JA=e=>e&&e.isOrthographicCamera,KA="undefined"!=typeof window&&(null!=(qA=window.document)&&qA.createElement||"ReactNative"===(null==(XA=window.navigator)?void 0:XA.product))?B.useLayoutEffect:B.useEffect;function QA(e){const t=B.useRef(e);return KA((()=>{t.current=e}),[e]),t}function $A({set:e}){return KA((()=>(e(new Promise((()=>null))),()=>e(!1))),[e]),null}class eT extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}eT.getDerivedStateFromError=()=>({error:!0});const tT="__default",nT=new Map,rT=e=>e&&!!e.memoized&&!!e.changes;function iT(e){var t;const n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const aT=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},oT={obj:e=>e===Object(e)&&!oT.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(oT.str(e)||oT.num(e))return e===t;const a=oT.obj(e);if(a&&"reference"===r)return e===t;const o=oT.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(s in i?t:e)if(!oT.equ(e[s],t[s],{strict:i,objects:"reference"}))return!1}else for(s in i?t:e)if(e[s]!==t[s])return!1;if(oT.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function sT(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function lT(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const cT=/-\d+$/;function uT(e,t,n){if(oT.str(n)){if(cT.test(n)){const t=n.replace(cT,""),{target:r,key:i}=lT(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=lT(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function hT(e,t,n){var r,i;if(oT.str(n)){const{target:r,key:i}=lT(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function dT(e,{children:t,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},c=!1){var u;const h=null!=(u=null==e?void 0:e.__r3f)?u:{},d=Object.entries(i),f=[];if(c){const e=Object.keys(l);for(let t=0;t<e.length;t++)i.hasOwnProperty(e[t])||d.unshift([e[t],tT+"remove"])}d.forEach((([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t)return;if(oT.equ(n,l[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return f.push([t,n,!0,[]]);let a=[];t.includes("-")&&(a=t.split("-")),f.push([t,n,!1,a]);for(const e in i){const n=i[e];e.startsWith(`${t}-`)&&f.push([e,n,!1,e.split("-")])}}));const p={...i};return h.memoizedProps&&h.memoizedProps.args&&(p.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(p.attach=h.memoizedProps.attach),{memoized:p,changes:f}}const fT="undefined"!=typeof process&&!1;function pT(e,t){var n,r,i;const a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},{memoized:l,changes:c}=rT(t)?t:dT(e,t),u=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let h=0;h<c.length;h++){let[t,n,r,i]=c[h];if(YA(e)){const e=3001,r="srgb",i="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:i):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:i)}let o=e,l=o[t];if(i.length&&(l=i.reduce(((e,t)=>e[t]),e),!l||!l.set)){const[n,...r]=i.reverse();o=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===tT+"remove")if(o.constructor){let e=nT.get(o.constructor);e||(e=new o.constructor,nT.set(o.constructor,e)),n=e[t]}else n=0;if(r)n?a.handlers[t]=n:delete a.handlers[t],a.eventCount=Object.keys(a.handlers).length;else if(l&&l.set&&(l.copy||l instanceof Cg)){if(Array.isArray(n))l.fromArray?l.fromArray(n):l.set(...n);else if(l.copy&&n&&n.constructor&&(fT?l.constructor.name===n.constructor.name:l.constructor===n.constructor))l.copy(n);else if(void 0!==n){const e=l instanceof Pm;!e&&l.setScalar?l.setScalar(n):l instanceof Cg&&n instanceof Cg?l.mask=n.mask:l.set(n),ZA()||s.linear||!e||l.convertSRGBToLinear()}}else if(o[t]=n,o[t]instanceof Dm&&o[t].format===Jf&&o[t].type===zf){const e=o[t];YA(e)&&YA(s.gl)?e.colorSpace=s.gl.outputColorSpace:e.encoding=s.gl.outputEncoding}mT(e)}if(a.parent&&s.internal&&e.raycast&&u!==a.eventCount){const t=s.internal.interaction.indexOf(e);t>-1&&s.internal.interaction.splice(t,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(i=e.__r3f)&&i.parent&&gT(e),e}function mT(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function gT(e){null==e.onUpdate||e.onUpdate(e)}function vT(e,t){e.manual||(JA(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function yT(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function bT(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function xT(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(yT(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){const{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;const l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,u=function(t,n){const r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=aT(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap((function(e){const n=aT(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=aT(e.object),r=aT(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=yT(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(yT(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),h=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=u.map((e=>e.eventObject))),c&&!u.length&&h<=2&&(r(a,s.interaction),o&&o(a)),l&&n(u),function(t,r,i,a){const o=e.getState();if(t.length){const e={stopped:!1};for(const s of t){const l=aT(s.object)||o,{raycaster:c,pointer:u,camera:h,internal:d}=l,f=new Vm(u.x,u.y,0).unproject(h),p=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},m=e=>{const t={intersection:s,target:r.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(s.eventObject,t):d.capturedMap.set(e,new Map([[s.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{const t=d.capturedMap.get(e);t&&bT(d.capturedMap,s.eventObject,t,e)};let v={};for(let e in r){let t=r[e];"function"!=typeof t&&(v[e]=t)}let y={...s,...v,pointer:u,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:f,ray:c.ray,camera:h,stopPropagation(){const i="pointerId"in r&&d.capturedMap.get(r.pointerId);(!i||i.has(s.eventObject))&&(y.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((e=>e.eventObject===s.eventObject)))&&n([...t.slice(0,t.indexOf(s)),s])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r};if(a(y),!0===e.stopped)break}}}(u,a,h,(function(e){const t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=yT(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[i];n?c&&!s.initialHits.includes(t)||(r(a,s.interaction.filter((e=>!s.initialHits.includes(e)))),n(e)):c&&s.initialHits.includes(t)&&r(a,s.interaction.filter((e=>!s.initialHits.includes(e))))}}))}}}}const _T=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],wT=e=>!(null==e||!e.render),ST=B.createContext(null);let MT,AT,TT,ET=new Set,CT=new Set,PT=new Set;function kT(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function RT(e,t){switch(e){case"before":return kT(ET,t);case"after":return kT(CT,t);case"tail":return kT(PT,t)}}function LT(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),AT=t.internal.subscribers,MT=0;MT<AT.length;MT++)TT=AT[MT],TT.ref.current(TT.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function IT(){const e=B.useContext(ST);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function NT(e=(e=>e),t){return IT()(e,t)}function DT(e,t=0){const n=IT(),r=n.getState().internal.subscribe,i=QA(e);return KA((()=>r(i,t,n)),[t,r,n]),null}const OT=new WeakMap;function zT(e,t){return function(n,...r){let i=OT.get(n);return i||(i=new n,OT.set(n,i)),e&&e(i),Promise.all(r.map((e=>new Promise(((n,r)=>i.load(e,(e=>{e.scene&&Object.assign(e,function(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}(e.scene)),n(e)}),t,(t=>r(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))))).finally((()=>null==i.dispose?void 0:i.dispose()))}}function UT(e,t,n,r){const i=Array.isArray(t)?t:[t],a=HA(zT(n,r),[e,...i],{equal:oT.equ});return Array.isArray(t)?a:a[0]}UT.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{jA(e,t,!0,n)})(zT(n),[e,...r])},UT.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)BA.splice(0,BA.length);else{const t=BA.find((t=>VA(e,t.keys,t.equal)));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};const FT=new Map,{invalidate:BT,advance:VT}=function(e){let t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,RT("before",o);for(const n of e.values()){var s;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(s=r.gl.xr)&&s.isPresenting||(t+=LT(o,r))}if(RT("after",o),0===t)return RT("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n,r=1){var o;if(!n)return e.forEach((e=>t(e.store.getState())),r);null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(a)))},advance:function(t,n=!0,r,i){if(n&&RT("before",t),r)LT(t,r,i);else for(const a of e.values())LT(t,a.store.getState());n&&RT("after",t)}}}(FT),{reconciler:jT,applyProps:HT}=function(e,t){function n(e,{args:t=[],attach:n,...r},i){let a,o=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===r.object)throw new Error("R3F: Primitives without 'object' are invalid!");a=sT(r.object,{type:e,root:i,attach:n,primitive:!0})}else{const r=WA[o];if(!r)throw new Error(`R3F: ${o} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw new Error("R3F: The args prop must be an array!");a=sT(new r(...t),{type:e,root:i,attach:n,memoizedProps:{args:t}})}return void 0===a.__r3f.attach&&(a instanceof gv?a.__r3f.attach="geometry":a instanceof tv&&(a.__r3f.attach="material")),"inject"!==o&&pT(a,r),a}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?uT(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||sT(t,{}),t.__r3f.parent=e,gT(t),mT(t))}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)uT(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});const i=e.children.filter((e=>e!==t)),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||sT(t,{}),t.__r3f.parent=e,gT(t),mT(t)}}function a(e,t,n=!1){e&&[...e].forEach((e=>o(t,e,n)))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)hT(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{bT(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}const c=null==(o=t.__r3f)?void 0:o.primitive,u=void 0===n?null!==t.dispose&&!c:n;var l;if(!c)a(null==(l=t.__r3f)?void 0:l.objects,t,u),a(t.children,t,u);delete t.__r3f,u&&t.dispose&&"Scene"!==t.type&&UA.unstable_scheduleCallback(UA.unstable_IdlePriority,(()=>{try{t.dispose()}catch(e){}})),mT(e)}}const s=()=>{};return{reconciler:FA({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&o(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...a}=r,{args:o=[],children:s,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==o[t])))return[!0];const c=dT(e,a,l,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,[t,i],a,s,l,c){t?function(e,t,i,a){var s;const l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;const c=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(c,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(c,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(l,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),r(l,c),c.raycast&&c.__r3f.eventCount&&c.__r3f.root.getState().internal.interaction.push(c);[a,a.alternate].forEach((e=>{null!==e&&(e.stateNode=c,e.ref&&("function"==typeof e.ref?e.ref(c):e.ref.current=c))}))}(e,a,l,c):pT(e,i)},commitMount(e,t,n,r){var i;const a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>sT(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&hT(r,e,n),e.isObject3D&&(e.visible=!1),mT(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&uT(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),mT(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():RA.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&oT.fun(performance.now)?performance.now:oT.fun(Date.now)?Date.now:()=>0,scheduleTimeout:oT.fun(setTimeout)?setTimeout:void 0,cancelTimeout:oT.fun(clearTimeout)?clearTimeout:void 0}),applyProps:pT}}(0,(function(){var e;const t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return RA.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return RA.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return RA.ContinuousEventPriority;default:return RA.DefaultEventPriority}})),WT={objects:"shallow",strict:!1},GT=(e,t)=>{const n="function"==typeof e?e(t):e;return wT(n)?n:new Rx({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function qT(e){const t=FT.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store,i="function"==typeof reportError?reportError:console.error,a=r||((e,t)=>{const n=NA(((n,r)=>{const i=new Vm,a=new Vm,o=new Vm;function s(e=r().camera,t=a,n=r().size){const{width:s,height:l,top:c,left:u}=n,h=s/l;t instanceof Vm?o.copy(t):o.set(...t);const d=e.getWorldPosition(i).distanceTo(o);if(JA(e))return{width:s/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:d,aspect:h};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*d,r=n*(s/l);return{width:r,height:n,top:c,left:u,factor:s/r,distance:d,aspect:h}}}let l;const c=e=>n((t=>({performance:{...t.performance,current:e}}))),u=new dm,h={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new kM,pointer:u,mouse:u,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout((()=>c(r().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,i,o,l)=>{const c=r().camera,u={width:e,height:t,top:o||0,left:l||0,updateStyle:i};n((e=>({size:u,viewport:{...e.viewport,...s(c,a,u)}})))},setDpr:e=>n((t=>{const n=iT(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:(e="always")=>{const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return h})),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:s,set:l}=n.getState();if(t.width!==i.width||t.height!==i.height||r.dpr!==a){var c;i=t,a=r.dpr,vT(e,t),s.setPixelRatio(r.dpr);const n=null!=(c=t.updateStyle)?c:"undefined"!=typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(t.width,t.height,n)}e!==o&&(o=e,l((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n})(BT,VT),o=n||jT.createContainer(a,RA.ConcurrentRoot,null,!1,null,"",i,null);let s;t||FT.set(e,{fiber:o,store:a});let l,c=!1;return{configure(t={}){let{gl:n,size:r,scene:i,events:o,onCreated:u,shadows:h=!1,linear:d=!1,flat:f=!1,legacy:p=!1,orthographic:m=!1,frameloop:g="always",dpr:v=[1,2],performance:y,raycaster:b,camera:x,onPointerMissed:_}=t,w=a.getState(),S=w.gl;w.gl||w.set({gl:S=GT(n,e)});let M=w.raycaster;M||w.set({raycaster:M=new eA});const{params:A,...T}=b||{};if(oT.equ(T,M,WT)||HT(M,{...T}),oT.equ(A,M.params,WT)||HT(M,{params:{...M.params,...A}}),!w.camera||w.camera===l&&!oT.equ(l,x,WT)){l=x;const e=x instanceof Uv,t=e?x:m?new uy(0,0,0,0,.1,1e3):new Fv(75,0,.1,1e3);e||(t.position.z=5,x&&HT(t,x),w.camera||null!=x&&x.rotation||t.lookAt(0,0,0)),w.set({camera:t}),M.camera=t}if(!w.scene){let e;i instanceof Dx?e=i:(e=new Dx,i&&HT(e,i)),w.set({scene:sT(e)})}if(!w.xr){var E;const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&VT(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||BT(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(E=S.xr)?void 0:E.addEventListener)&&n.connect(),w.set({xr:n})}if(S.shadowMap){const e=S.shadowMap.enabled,t=S.shadowMap.type;if(S.shadowMap.enabled=!!h,oT.boo(h))S.shadowMap.type=Rd;else if(oT.str(h)){var C;const e={basic:0,percentage:kd,soft:Rd,variance:Ld};S.shadowMap.type=null!=(C=e[h])?C:Rd}else oT.obj(h)&&Object.assign(S.shadowMap,h);e===S.shadowMap.enabled&&t===S.shadowMap.type||(S.shadowMap.needsUpdate=!0)}const P=ZA();P&&("enabled"in P?P.enabled=!p:"legacyMode"in P&&(P.legacyMode=p));HT(S,{outputEncoding:d?3e3:3001,toneMapping:f?gf:xf}),w.legacy!==p&&w.set((()=>({legacy:p}))),w.linear!==d&&w.set((()=>({linear:d}))),w.flat!==f&&w.set((()=>({flat:f}))),!n||oT.fun(n)||wT(n)||oT.equ(n,S,WT)||HT(S,n),o&&!w.events.handlers&&w.set({events:o(a)});const k=function(e,t){const n="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:a,updateStyle:o=n}=t;return{width:e,height:r,top:i,left:a,updateStyle:o}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:a}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a,updateStyle:n}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return oT.equ(k,w.size,WT)||w.setSize(k.width,k.height,k.updateStyle,k.top,k.left),v&&w.viewport.dpr!==iT(v)&&w.setDpr(v),w.frameloop!==g&&w.setFrameloop(g),w.onPointerMissed||w.set({onPointerMissed:_}),y&&!oT.equ(y,w.performance,WT)&&w.set((e=>({performance:{...e.performance,...y}}))),s=u,c=!0,this},render(t){return c||this.configure(),jT.updateContainer(B.createElement(XT,{store:a,children:t,onCreated:s,rootElement:e}),o,null,(()=>{})),a},unmount(){YT(e)}}}function XT({store:e,children:t,onCreated:n,rootElement:r}){return KA((()=>{const t=e.getState();t.set((e=>({internal:{...e.internal,active:!0}}))),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)}),[]),B.createElement(ST.Provider,{value:e},t)}function YT(e,t){const n=FT.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),jT.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),FT.delete(e),t&&t(e)}catch(s){}}),500)}))}}function ZT({state:e={},children:t,container:n}){const{events:r,size:i,...a}=e,o=IT(),[s]=B.useState((()=>new eA)),[l]=B.useState((()=>new dm)),c=B.useCallback(((e,t)=>{const c={...e};let u;if(Object.keys(e).forEach((n=>{(_T.includes(n)||e[n]!==t[n]&&t[n])&&delete c[n]})),t&&i){const n=t.camera;u=e.viewport.getCurrentViewport(n,new Vm,i),n!==e.camera&&vT(n,i)}return{...c,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...e.events,...null==t?void 0:t.events,...r},size:{...e.size,...i},viewport:{...e.viewport,...u},...a}}),[e]),[u]=B.useState((()=>{const e=o.getState();return NA(((t,c)=>({...e,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...e.events,...r},size:{...e.size,...i},...a,set:t,get:c,setEvents:e=>t((t=>({...t,events:{...t.events,...e}})))})))}));return B.useEffect((()=>{const e=o.subscribe((e=>u.setState((t=>c(e,t)))));return()=>{e(),u.destroy()}}),[]),B.useEffect((()=>{u.setState((e=>c(o.getState(),e)))}),[c]),B.createElement(B.Fragment,null,jT.createPortal(B.createElement(ST.Provider,{value:u},t),u,null))}function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JT.apply(this,arguments)}function KT(e,t,n){var r,i,a,o,s;function l(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(a,i),a=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}jT.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version}),KT.debounce=KT;const QT=n(KT);function $T(e){let{debounce:t,scroll:n,polyfill:r,offsetSize:i}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const a=r||("undefined"==typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,s]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=t?"number"==typeof t?t:t.scroll:null,u=t?"number"==typeof t?t:t.resize:null,h=B.useRef(!1);B.useEffect((()=>(h.current=!0,()=>{h.current=!1})));const[d,f,p]=B.useMemo((()=>{const e=()=>{if(!l.current.element)return;const{left:e,top:t,width:n,height:r,bottom:a,right:o,x:c,y:u}=l.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:r,bottom:a,right:o,x:c,y:u};l.current.element instanceof HTMLElement&&i&&(d.height=l.current.element.offsetHeight,d.width=l.current.element.offsetWidth),Object.freeze(d),h.current&&!nE(l.current.lastBounds,d)&&s(l.current.lastBounds=d)};return[e,u?QT(e,u):e,c?QT(e,c):e]}),[s,i,c,u]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",p,!0))),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function g(){l.current.element&&(l.current.resizeObserver=new a(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach((e=>e.addEventListener("scroll",p,{capture:!0,passive:!0}))))}var v,y,b;return v=p,y=Boolean(n),B.useEffect((()=>{if(y){const e=v;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[v,y]),b=f,B.useEffect((()=>{const e=b;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[b]),B.useEffect((()=>{m(),g()}),[n,p,f]),B.useEffect((()=>m),[]),[e=>{e&&e!==l.current.element&&(m(),l.current.element=e,l.current.scrollContainers=eE(e),g())},o,d]}function eE(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...eE(e.parentElement)]}const tE=["x","y","top","bottom","left","right","width","height"],nE=(e,t)=>tE.every((n=>e[n]===t[n]));var rE=Object.defineProperty,iE=Object.defineProperties,aE=Object.getOwnPropertyDescriptors,oE=Object.getOwnPropertySymbols,sE=Object.prototype.hasOwnProperty,lE=Object.prototype.propertyIsEnumerable,cE=(e,t,n)=>t in e?rE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uE=(e,t)=>{for(var n in t||(t={}))sE.call(t,n)&&cE(e,n,t[n]);if(oE)for(var n of oE(t))lE.call(t,n)&&cE(e,n,t[n]);return e};function hE(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=hE(r,t,n);if(e)return e;r=t?null:r.sibling}}function dE(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const fE=dE(B.createContext(null));class pE extends B.Component{render(){return B.createElement(fE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:mE,ReactCurrentDispatcher:gE}=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function vE(){var e,t;const n=function(){const e=B.useContext(fE);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=B.useId();return B.useMemo((()=>{for(const n of[null==mE?void 0:mE.current,e,null==e?void 0:e.alternate]){if(!n)continue;const e=hE(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}(),[r]=B.useState((()=>new Map));r.clear();let i=n;for(;i;){const n=null==(e=i.type)?void 0:e._context;n&&n!==fE&&!r.has(n)&&r.set(n,null==(t=null==gE?void 0:gE.current)?void 0:t.readContext(dE(n))),i=i.return}return r}function yE(){const e=vE();return B.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>r=>B.createElement(t,null,B.createElement(n.Provider,((e,t)=>iE(e,aE(t)))(uE({},r),{value:e.get(n)})))),(e=>B.createElement(pE,uE({},e))))),[e])}const bE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xE(e){const{handlePointer:t}=xT(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(bE).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((([e,n])=>{const[r,i]=bE[e];t.addEventListener(r,n,{passive:i})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((([e,t])=>{if(n&&n.connected instanceof HTMLElement){const[r]=bE[e];n.connected.removeEventListener(r,t)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const _E=B.forwardRef((function({children:e,fallback:t,resize:n,style:r,gl:i,events:a=xE,eventSource:o,eventPrefix:s,shadows:l,linear:c,flat:u,legacy:h,orthographic:d,frameloop:f,dpr:p,performance:m,raycaster:g,camera:v,scene:y,onPointerMissed:b,onCreated:x,..._},w){B.useMemo((()=>GA(CA)),[]);const S=yE(),[M,A]=$T({scroll:!0,debounce:{scroll:50,resize:0},...n}),T=B.useRef(null),E=B.useRef(null);B.useImperativeHandle(w,(()=>T.current));const C=QA(b),[P,k]=B.useState(!1),[R,L]=B.useState(!1);if(P)throw P;if(R)throw R;const I=B.useRef(null);KA((()=>{const t=T.current;A.width>0&&A.height>0&&t&&(I.current||(I.current=qT(t)),I.current.configure({gl:i,events:a,shadows:l,linear:c,flat:u,legacy:h,orthographic:d,frameloop:f,dpr:p,performance:m,raycaster:g,camera:v,scene:y,size:A,onPointerMissed:(...e)=>null==C.current?void 0:C.current(...e),onCreated:e=>{var t;null==e.events.connect||e.events.connect(o?(t=o)&&t.hasOwnProperty("current")?o.current:o:E.current),s&&e.setEvents({compute:(e,t)=>{const n=e[s+"X"],r=e[s+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==x||x(e)}}),I.current.render(B.createElement(S,null,B.createElement(eT,{set:L},B.createElement(B.Suspense,{fallback:B.createElement($A,{set:k})},e)))))})),B.useEffect((()=>{const e=T.current;if(e)return()=>YT(e)}),[]);const N=o?"none":"auto";return B.createElement("div",JT({ref:E,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:N,...r}},_),B.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},B.createElement("canvas",{ref:T,style:{display:"block"}},t)))})),wE=B.forwardRef((function(e,t){return B.createElement(pE,null,B.createElement(_E,JT({},e,{ref:t})))})),SE=new Vm,ME=new Vm,AE=new Vm;function TE(e,t,n){const r=SE.setFromMatrixPosition(e.matrixWorld);r.project(t);const i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}const EE=e=>Math.abs(e)<1e-10?0:e;function CE(e,t,n=""){let r="matrix3d(";for(let i=0;16!==i;i++)r+=EE(t[i]*e.elements[i])+(15!==i?",":")");return n+r}const PE=(kE=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>CE(e,kE));var kE;const RE=(e,t)=>{return CE(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};const LE=B.forwardRef((({children:e,eps:t=.001,style:n,className:r,prepend:i,center:a,fullscreen:o,portal:s,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:d,castShadow:f,receiveShadow:p,material:m,geometry:g,zIndexRange:v=[16777271,0],calculatePosition:y=TE,as:b="div",wrapperClass:x,pointerEvents:_="auto",...w},S)=>{const{gl:M,camera:A,scene:T,size:E,raycaster:C,events:P,viewport:k}=NT(),[R]=B.useState((()=>document.createElement(b))),L=B.useRef(),I=B.useRef(null),N=B.useRef(0),D=B.useRef([0,0]),O=B.useRef(null),z=B.useRef(null),U=(null==s?void 0:s.current)||P.connected||M.domElement.parentNode,F=B.useRef(null),V=B.useRef(!1),j=B.useMemo((()=>h&&"blending"!==h||Array.isArray(h)&&h.length&&function(e){return e&&"object"==typeof e&&"current"in e}(h[0])),[h]);B.useLayoutEffect((()=>{const e=M.domElement;h&&"blending"===h?(e.style.zIndex=`${Math.floor(v[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[h]),B.useLayoutEffect((()=>{if(I.current){const e=L.current=ch(R);if(T.updateMatrixWorld(),u)R.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const e=y(I.current,A,E);R.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return U&&(i?U.prepend(R):U.appendChild(R)),()=>{U&&U.removeChild(R),e.unmount()}}}),[U,u]),B.useLayoutEffect((()=>{x&&(R.className=x)}),[x]);const H=B.useMemo((()=>u?{position:"absolute",top:0,left:0,width:E.width,height:E.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...o&&{top:-E.height/2,left:-E.width/2,width:E.width,height:E.height},...n}),[n,a,o,E,u]),W=B.useMemo((()=>({position:"absolute",pointerEvents:_})),[_]);B.useLayoutEffect((()=>{var t,i;(V.current=!1,u)?null==(t=L.current)||t.render(B.createElement("div",{ref:O,style:H},B.createElement("div",{ref:z,style:W},B.createElement("div",{ref:S,className:r,style:n,children:e})))):null==(i=L.current)||i.render(B.createElement("div",{ref:S,style:H,className:r,children:e}))}));const G=B.useRef(!0);DT((e=>{if(I.current){A.updateMatrixWorld(),I.current.updateWorldMatrix(!0,!1);const e=u?D.current:y(I.current,A,E);if(u||Math.abs(N.current-A.zoom)>t||Math.abs(D.current[0]-e[0])>t||Math.abs(D.current[1]-e[1])>t){const t=function(e,t){const n=SE.setFromMatrixPosition(e.matrixWorld),r=ME.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(AE);return i.angleTo(a)>Math.PI/2}(I.current,A);let n=!1;j&&(Array.isArray(h)?n=h.map((e=>e.current)):"blending"!==h&&(n=[T]));const r=G.current;if(n){const e=function(e,t,n,r){const i=SE.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),n.setFromCamera(a,t);const o=n.intersectObjects(r,!0);if(o.length){const e=o[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}(I.current,A,C,n);G.current=e&&!t}else G.current=!t;r!==G.current&&(d?d(!G.current):R.style.display=G.current?"block":"none");const i=Math.floor(v[0]/2),a=h?j?[v[0],i]:[i-1,0]:v;if(R.style.zIndex=`${function(e,t,n){if(t instanceof Fv||t instanceof uy){const r=SE.setFromMatrixPosition(e.matrixWorld),i=ME.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(I.current,A,a)}`,u){const[e,t]=[E.width/2,E.height/2],n=A.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:a,bottom:o,right:s}=A,u=PE(A.matrixWorldInverse),h=r?`scale(${n})translate(${EE(-(s+a)/2)}px,${EE((i+o)/2)}px)`:`translateZ(${n}px)`;let d=I.current.matrixWorld;c&&(d=A.matrixWorldInverse.clone().transpose().copyPosition(d).scale(I.current.scale),d.elements[3]=d.elements[7]=d.elements[11]=0,d.elements[15]=1),R.style.width=E.width+"px",R.style.height=E.height+"px",R.style.perspective=r?"":`${n}px`,O.current&&z.current&&(O.current.style.transform=`${h}${u}translate(${e}px,${t}px)`,z.current.style.transform=RE(d,1/((l||10)/400)))}else{const t=void 0===l?1:function(e,t){if(t instanceof uy)return t.zoom;if(t instanceof Fv){const n=SE.setFromMatrixPosition(e.matrixWorld),r=ME.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return 1}(I.current,A)*l;R.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}D.current=e,N.current=A.zoom}}if(!j&&F.current&&!V.current)if(u){if(O.current){const e=O.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=A;if(t||g)w.scale&&(Array.isArray(w.scale)?w.scale instanceof Vm?F.current.scale.copy(w.scale.clone().divideScalar(1)):F.current.scale.set(1/w.scale[0],1/w.scale[1],1/w.scale[2]):F.current.scale.setScalar(1/w.scale));else{const t=(l||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;F.current.scale.set(n,r,1)}V.current=!0}}}else{const t=R.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/k.factor,n=t.clientWidth*e,r=t.clientHeight*e;F.current.scale.set(n,r,1),V.current=!0}F.current.lookAt(e.camera.position)}}));const q=B.useMemo((()=>({vertexShader:u?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[u]);return B.createElement("group",JT({},w,{ref:I}),h&&!j&&B.createElement("mesh",{castShadow:f,receiveShadow:p,ref:F},g||B.createElement("planeGeometry",null),m||B.createElement("shaderMaterial",{side:Dd,vertexShader:q.vertexShader,fragmentShader:q.fragmentShader})))}));var IE=Uint8Array,NE=Uint16Array,DE=Uint32Array,OE=new IE([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zE=new IE([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),UE=new IE([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FE=function(e,t){for(var n=new NE(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new DE(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},BE=FE(OE,2),VE=BE[0],jE=BE[1];VE[28]=258,jE[258]=28;for(var HE=FE(zE,0)[0],WE=new NE(32768),GE=0;GE<32768;++GE){var qE=(43690&GE)>>>1|(21845&GE)<<1;qE=(61680&(qE=(52428&qE)>>>2|(13107&qE)<<2))>>>4|(3855&qE)<<4,WE[GE]=((65280&qE)>>>8|(255&qE)<<8)>>>1}var XE=function(e,t,n){for(var r=e.length,i=0,a=new NE(t);i<r;++i)++a[e[i]-1];var o,s=new NE(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new NE(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],h=s[e[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)o[WE[h]>>>l]=c}else for(o=new NE(r),i=0;i<r;++i)e[i]&&(o[i]=WE[s[e[i]-1]++]>>>15-e[i]);return o},YE=new IE(288);for(GE=0;GE<144;++GE)YE[GE]=8;for(GE=144;GE<256;++GE)YE[GE]=9;for(GE=256;GE<280;++GE)YE[GE]=7;for(GE=280;GE<288;++GE)YE[GE]=8;var ZE=new IE(32);for(GE=0;GE<32;++GE)ZE[GE]=5;var JE=XE(YE,9,1),KE=XE(ZE,5,1),QE=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},$E=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},eC=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},tC=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new IE(0);var i=!t||n,a=!n||n.i;n||(n={}),t||(t=new IE(3*r));var o,s=function(e){var n=t.length;if(e>n){var r=new IE(Math.max(2*n,e));r.set(t),t=r}},l=n.f||0,c=n.p||0,u=n.b||0,h=n.l,d=n.d,f=n.m,p=n.n,m=8*r;do{if(!h){n.f=l=$E(e,c,1);var g=$E(e,c+1,3);if(c+=3,!g){var v=e[(C=((o=c)/8|0)+(7&o&&1)+4)-4]|e[C-3]<<8,y=C+v;if(y>r){if(a)throw"unexpected EOF";break}i&&s(u+v),t.set(e.subarray(C,y),u),n.b=u+=v,n.p=c=8*y;continue}if(1==g)h=JE,d=KE,f=9,p=5;else{if(2!=g)throw"invalid block type";var b=$E(e,c,31)+257,x=$E(e,c+10,15)+4,_=b+$E(e,c+5,31)+1;c+=14;for(var w=new IE(_),S=new IE(19),M=0;M<x;++M)S[UE[M]]=$E(e,c+3*M,7);c+=3*x;var A=QE(S),T=(1<<A)-1,E=XE(S,A,1);for(M=0;M<_;){var C,P=E[$E(e,c,T)];if(c+=15&P,(C=P>>>4)<16)w[M++]=C;else{var k=0,R=0;for(16==C?(R=3+$E(e,c,3),c+=2,k=w[M-1]):17==C?(R=3+$E(e,c,7),c+=3):18==C&&(R=11+$E(e,c,127),c+=7);R--;)w[M++]=k}}var L=w.subarray(0,b),I=w.subarray(b);f=QE(L),p=QE(I),h=XE(L,f,1),d=XE(I,p,1)}if(c>m){if(a)throw"unexpected EOF";break}}i&&s(u+131072);for(var N=(1<<f)-1,D=(1<<p)-1,O=c;;O=c){var z=(k=h[eC(e,c)&N])>>>4;if((c+=15&k)>m){if(a)throw"unexpected EOF";break}if(!k)throw"invalid length/literal";if(z<256)t[u++]=z;else{if(256==z){O=c,h=null;break}var U=z-254;if(z>264){var F=OE[M=z-257];U=$E(e,c,(1<<F)-1)+VE[M],c+=F}var B=d[eC(e,c)&D],V=B>>>4;if(!B)throw"invalid distance";c+=15&B;I=HE[V];if(V>3){F=zE[V];I+=eC(e,c)&(1<<F)-1,c+=F}if(c>m){if(a)throw"unexpected EOF";break}i&&s(u+131072);for(var j=u+U;u<j;u+=4)t[u]=t[u-I],t[u+1]=t[u+1-I],t[u+2]=t[u+2-I],t[u+3]=t[u+3-I];u=j}}n.l=h,n.p=O,n.b=u,h&&(l=1,n.m=f,n.d=d,n.n=p)}while(!l);return u==t.length?t:function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof NE?NE:e instanceof DE?DE:IE)(n-t);return r.set(e.subarray(t,n)),r}(t,0,u)},nC=new IE(0);function rC(e,t){return tC((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),t)}var iC="undefined"!=typeof TextDecoder&&new TextDecoder;try{iC.decode(nC,{stream:!0}),1}catch(TG){}class aC extends kv{constructor(e,t){var n,r;const i=(a=e)&&a.isCubeTexture;var a;const o=(null!=(r=i?null==(n=e.image[0])?void 0:n.width:e.image.width)?r:1024)/4,s=Math.floor(Math.log2(o)),l=Math.pow(2,s),c=[i?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH "+1/(3*Math.max(l,112)),"#define CUBEUV_TEXEL_HEIGHT "+1/(4*l),`#define CUBEUV_MAX_MIP ${s}.0`].join("\n")+`\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <${parseInt(Md.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>\n        }\n        `,u={map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}};super(new Qw(1,16),new zv({uniforms:u,fragmentShader:c,vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        ",side:Dd}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var oC=Object.defineProperty,sC=(e,t,n)=>(((e,t,n)=>{t in e?oC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const lC=new gg,cC=new Xv,uC=Math.cos(Math.PI/180*70),hC=(e,t)=>(e%t+t)%t;let dC=class extends Kp{constructor(e,t){super(),sC(this,"object"),sC(this,"domElement"),sC(this,"enabled",!0),sC(this,"target",new Vm),sC(this,"minDistance",0),sC(this,"maxDistance",1/0),sC(this,"minZoom",0),sC(this,"maxZoom",1/0),sC(this,"minPolarAngle",0),sC(this,"maxPolarAngle",Math.PI),sC(this,"minAzimuthAngle",-1/0),sC(this,"maxAzimuthAngle",1/0),sC(this,"enableDamping",!1),sC(this,"dampingFactor",.05),sC(this,"enableZoom",!0),sC(this,"zoomSpeed",1),sC(this,"enableRotate",!0),sC(this,"rotateSpeed",1),sC(this,"enablePan",!0),sC(this,"panSpeed",1),sC(this,"screenSpacePanning",!0),sC(this,"keyPanSpeed",7),sC(this,"zoomToCursor",!1),sC(this,"autoRotate",!1),sC(this,"autoRotateSpeed",2),sC(this,"reverseOrbit",!1),sC(this,"reverseHorizontalOrbit",!1),sC(this,"reverseVerticalOrbit",!1),sC(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),sC(this,"mouseButtons",{LEFT:Ad.ROTATE,MIDDLE:Ad.DOLLY,RIGHT:Ad.PAN}),sC(this,"touches",{ONE:Td.ROTATE,TWO:Td.DOLLY_PAN}),sC(this,"target0"),sC(this,"position0"),sC(this,"zoom0"),sC(this,"_domElementKeyEvents",null),sC(this,"getPolarAngle"),sC(this,"getAzimuthalAngle"),sC(this,"setPolarAngle"),sC(this,"setAzimuthalAngle"),sC(this,"getDistance"),sC(this,"listenToKeyEvents"),sC(this,"stopListenToKeyEvents"),sC(this,"saveState"),sC(this,"reset"),sC(this,"update"),sC(this,"connect"),sC(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=e=>{let t=hC(e,2*Math.PI),r=c.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),u.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=hC(e,2*Math.PI),r=c.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),u.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",J),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",J),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=(()=>{const t=new Vm,i=new Vm(0,1,0),a=(new Bm).setFromUnitVectors(e.up,i),f=a.clone().invert(),p=new Vm,m=new Bm,g=2*Math.PI;return function(){const v=n.object.position;a.setFromUnitVectors(e.up,i),f.copy(a).invert(),t.copy(v).sub(n.target),t.applyQuaternion(a),c.setFromVector3(t),n.autoRotate&&s===o.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=u.theta*n.dampingFactor,c.phi+=u.phi*n.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let y=n.minAzimuthAngle,b=n.maxAzimuthAngle;isFinite(y)&&isFinite(b)&&(y<-Math.PI?y+=g:y>Math.PI&&(y-=g),b<-Math.PI?b+=g:b>Math.PI&&(b-=g),c.theta=y<=b?Math.max(y,Math.min(b,c.theta)):c.theta>(y+b)/2?Math.max(y,c.theta):Math.min(b,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),n.zoomToCursor&&M||n.object.isOrthographicCamera?c.radius=O(c.radius):c.radius=O(c.radius*h),t.setFromSpherical(c),t.applyQuaternion(f),v.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),d.set(0,0,0));let x=!1;if(n.zoomToCursor&&M){let r=null;if(n.object instanceof Fv&&n.object.isPerspectiveCamera){const e=t.length();r=O(e*h);const i=e-r;n.object.position.addScaledVector(w,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const e=new Vm(S.x,S.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),x=!0;const i=new Vm(S.x,S.y,0);i.unproject(n.object),n.object.position.sub(i).add(e),n.object.updateMatrixWorld(),r=t.length()}else n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(lC.origin.copy(n.object.position),lC.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(lC.direction))<uC?e.lookAt(n.target):(cC.setFromNormalAndCoplanarPoint(n.object.up,n.target),lC.intersectPlane(cC,n.target))))}else n.object instanceof uy&&n.object.isOrthographicCamera&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),x=!0);return h=1,M=!1,!!(x||p.distanceToSquared(n.object.position)>l||8*(1-m.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),p.copy(n.object.position),m.copy(n.object.quaternion),x=!1,!0)}})(),this.connect=e=>{document,n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",K),n.domElement.addEventListener("pointerdown",G),n.domElement.addEventListener("pointercancel",Y),n.domElement.addEventListener("wheel",Z)},this.dispose=()=>{var e,t,r,i,a,o;null==(e=n.domElement)||e.removeEventListener("contextmenu",K),null==(t=n.domElement)||t.removeEventListener("pointerdown",G),null==(r=n.domElement)||r.removeEventListener("pointercancel",Y),null==(i=n.domElement)||i.removeEventListener("wheel",Z),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointermove",q),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointerup",X),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",J)};const n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const l=1e-6,c=new rA,u=new rA;let h=1;const d=new Vm,f=new dm,p=new dm,m=new dm,g=new dm,v=new dm,y=new dm,b=new dm,x=new dm,_=new dm,w=new Vm,S=new dm;let M=!1;const A=[],T={};function E(){return Math.pow(.95,n.zoomSpeed)}function C(e){n.reverseOrbit||n.reverseHorizontalOrbit?u.theta+=e:u.theta-=e}function P(e){n.reverseOrbit||n.reverseVerticalOrbit?u.phi+=e:u.phi-=e}const k=(()=>{const e=new Vm;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}})(),R=(()=>{const e=new Vm;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}})(),L=(()=>{const e=new Vm;return function(t,r){const i=n.domElement;if(i&&n.object instanceof Fv&&n.object.isPerspectiveCamera){const a=n.object.position;e.copy(a).sub(n.target);let o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),k(2*t*o/i.clientHeight,n.object.matrix),R(2*r*o/i.clientHeight,n.object.matrix)}else i&&n.object instanceof uy&&n.object.isOrthographicCamera?(k(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),R(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):n.enablePan=!1}})();function I(e){n.object instanceof Fv&&n.object.isPerspectiveCamera||n.object instanceof uy&&n.object.isOrthographicCamera?h/=e:n.enableZoom=!1}function N(e){n.object instanceof Fv&&n.object.isPerspectiveCamera||n.object instanceof uy&&n.object.isOrthographicCamera?h*=e:n.enableZoom=!1}function D(e){if(!n.zoomToCursor||!n.domElement)return;M=!0;const t=n.domElement.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,a=t.width,o=t.height;S.x=r/a*2-1,S.y=-i/o*2+1,w.set(S.x,S.y,1).unproject(n.object).sub(n.object.position).normalize()}function O(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function z(e){f.set(e.clientX,e.clientY)}function U(e){g.set(e.clientX,e.clientY)}function F(){if(1==A.length)f.set(A[0].pageX,A[0].pageY);else{const e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);f.set(e,t)}}function B(){if(1==A.length)g.set(A[0].pageX,A[0].pageY);else{const e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);g.set(e,t)}}function V(){const e=A[0].pageX-A[1].pageX,t=A[0].pageY-A[1].pageY,n=Math.sqrt(e*e+t*t);b.set(0,n)}function j(e){if(1==A.length)p.set(e.pageX,e.pageY);else{const t=ee(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);p.set(n,r)}m.subVectors(p,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*m.x/t.clientHeight),P(2*Math.PI*m.y/t.clientHeight)),f.copy(p)}function H(e){if(1==A.length)v.set(e.pageX,e.pageY);else{const t=ee(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);v.set(n,r)}y.subVectors(v,g).multiplyScalar(n.panSpeed),L(y.x,y.y),g.copy(v)}function W(e){const t=ee(e),r=e.pageX-t.x,i=e.pageY-t.y,a=Math.sqrt(r*r+i*i);x.set(0,a),_.set(0,Math.pow(x.y/b.y,n.zoomSpeed)),I(_.y),b.copy(x)}function G(e){var t,r;!1!==n.enabled&&(0===A.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",q),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",X)),function(e){A.push(e)}(e),"touch"===e.pointerType?function(e){switch($(e),A.length){case 1:switch(n.touches.ONE){case Td.ROTATE:if(!1===n.enableRotate)return;F(),s=o.TOUCH_ROTATE;break;case Td.PAN:if(!1===n.enablePan)return;B(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case Td.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&V(),n.enablePan&&B(),s=o.TOUCH_DOLLY_PAN;break;case Td.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&V(),n.enableRotate&&F(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Ad.DOLLY:if(!1===n.enableZoom)return;!function(e){D(e),b.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case Ad.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;U(e),s=o.PAN}else{if(!1===n.enableRotate)return;z(e),s=o.ROTATE}break;case Ad.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;z(e),s=o.ROTATE}else{if(!1===n.enablePan)return;U(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e))}function q(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch($(e),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;j(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;H(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&W(e),n.enablePan&&H(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&W(e),n.enableRotate&&j(e)}(e),n.update();break;default:s=o.NONE}}(e):function(e){if(!1===n.enabled)return;switch(s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){p.set(e.clientX,e.clientY),m.subVectors(p,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*m.x/t.clientHeight),P(2*Math.PI*m.y/t.clientHeight)),f.copy(p),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),_.subVectors(x,b),_.y>0?I(E()):_.y<0&&N(E()),b.copy(x),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){v.set(e.clientX,e.clientY),y.subVectors(v,g).multiplyScalar(n.panSpeed),L(y.x,y.y),g.copy(v),n.update()}(e)}}(e))}function X(e){var t,r,i;Q(e),0===A.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",q),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",X)),n.dispatchEvent(a),s=o.NONE}function Y(e){Q(e)}function Z(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),n.dispatchEvent(i),function(e){D(e),e.deltaY<0?N(E()):e.deltaY>0&&I(E()),n.update()}(e),n.dispatchEvent(a))}function J(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:L(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:L(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:L(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:L(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function K(e){!1!==n.enabled&&e.preventDefault()}function Q(e){delete T[e.pointerId];for(let t=0;t<A.length;t++)if(A[t].pointerId==e.pointerId)return void A.splice(t,1)}function $(e){let t=T[e.pointerId];void 0===t&&(t=new dm,T[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ee(e){const t=e.pointerId===A[0].pointerId?A[1]:A[0];return T[t.pointerId]}void 0!==t&&this.connect(t),this.update()}};class fC extends JS{constructor(e){super(e),this.type=Wf}parse(e){const t=function(e,t,n){t=t||1024;let r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},n=function(e,t,n,r){const i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},r=function(e,t,n,r){const i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=EA.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=EA.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=EA.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=EA.toHalfFloat(1)},i=new Uint8Array(e);i.pos=0;const a=function(e){const n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*FORMAT=(\S+)\s*$/,a=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,o={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let s,l;if(e.pos>=e.byteLength||!(s=t(e)))return-1;if(!(l=s.match(/^#\?(\S+)/)))return-1;for(o.valid|=1,o.programtype=l[1],o.string+=s+"\n";s=t(e),!1!==s;)if(o.string+=s+"\n","#"!==s.charAt(0)){if((l=s.match(n))&&(o.gamma=parseFloat(l[1])),(l=s.match(r))&&(o.exposure=parseFloat(l[1])),(l=s.match(i))&&(o.valid|=2,o.format=l[1]),(l=s.match(a))&&(o.valid|=4,o.height=parseInt(l[1],10),o.width=parseInt(l[2],10)),2&o.valid&&4&o.valid)break}else o.comments+=s+"\n";return 2&o.valid&&4&o.valid?o:-1}(i);if(-1!==a){const e=a.width,t=a.height,o=function(e,t,n){const r=t;if(r<8||r>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(r!==(e[2]<<8|e[3]))return-1;const i=new Uint8Array(4*t*n);if(!i.length)return-1;let a=0,o=0;const s=4*r,l=new Uint8Array(4),c=new Uint8Array(s);let u=n;for(;u>0&&o<e.byteLength;){if(o+4>e.byteLength)return-1;if(l[0]=e[o++],l[1]=e[o++],l[2]=e[o++],l[3]=e[o++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=r)return-1;let t,n=0;for(;n<s&&o<e.byteLength;){t=e[o++];const r=t>128;if(r&&(t-=128),0===t||n+t>s)return-1;if(r){const r=e[o++];for(let e=0;e<t;e++)c[n++]=r}else c.set(e.subarray(o,o+t),n),n+=t,o+=t}const h=r;for(let e=0;e<h;e++){let t=0;i[a]=c[e+t],t+=r,i[a+1]=c[e+t],t+=r,i[a+2]=c[e+t],t+=r,i[a+3]=c[e+t],a+=4}u--}return i}(i.subarray(i.pos),e,t);if(-1!==o){let i,s,l;switch(this.type){case Hf:l=o.length/4;const e=new Float32Array(4*l);for(let r=0;r<l;r++)n(o,4*r,e,4*r);i=e,s=Hf;break;case Wf:l=o.length/4;const t=new Uint16Array(4*l);for(let n=0;n<l;n++)r(o,4*n,t,4*n);i=t,s=Wf}return{width:e,height:t,data:i,header:a.string,gamma:a.gamma,exposure:a.exposure,type:s}}}return null}setDataType(e){return this.type=e,this}load(e,t,n,r){return super.load(e,(function(e,n){switch(e.type){case Hf:case Wf:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=Nf,e.magFilter=Nf,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,r)}}const pC="colorSpace"in new Dm;class mC extends JS{constructor(e){super(e),this.type=Wf}parse(e){const t=65536,n=14,r=65537,i=16384,a=Math.pow(2.7182818,2.2);const o={l:0,c:0,lc:0};function s(e,t,n,r,i){for(;n<e;)t=t<<8|V(r,i),n+=8;n-=e,o.l=t>>n&(1<<e)-1,o.c=t,o.lc=n}const l=new Array(59);function c(e,t,n,i,a,c,u){for(var h=n,d=0,f=0;a<=c;a++){if(h.value-n.value>i)return!1;s(6,d,f,e,h);var p=o.l;if(d=o.c,f=o.lc,u[a]=p,63==p){if(h.value-n.value>i)throw"Something wrong with hufUnpackEncTable";s(8,d,f,e,h);var m=o.l+6;if(d=o.c,f=o.lc,a+m>c+1)throw"Something wrong with hufUnpackEncTable";for(;m--;)u[a++]=0;a--}else if(p>=59){if(a+(m=p-59+2)>c+1)throw"Something wrong with hufUnpackEncTable";for(;m--;)u[a++]=0;a--}}!function(e){for(var t=0;t<=58;++t)l[t]=0;for(t=0;t<r;++t)l[e[t]]+=1;var n=0;for(t=58;t>0;--t){var i=n+l[t]>>1;l[t]=n,n=i}for(t=0;t<r;++t){var a=e[t];a>0&&(e[t]=a|l[a]++<<6)}}(u)}function u(e){return 63&e}function h(e){return e>>6}const d={c:0,lc:0};function f(e,t,n,r){e=e<<8|V(n,r),t+=8,d.c=e,d.lc=t}const p={c:0,lc:0};function m(e,t,n,r,i,a,o,s,l,c){if(e==t){r<8&&(f(n,r,i,o),n=d.c,r=d.lc);var u=n>>(r-=8);u=new Uint8Array([u])[0];if(l.value+u>c)return!1;for(var h=s[l.value-1];u-- >0;)s[l.value++]=h}else{if(!(l.value<c))return!1;s[l.value++]=e}p.c=n,p.lc=r}function g(e){return 65535&e}function v(e){var t=g(e);return t>32767?t-65536:t}const y={a:0,b:0};function b(e,t){var n=v(e),r=v(t),i=n+(1&r)+(r>>1),a=i,o=i-r;y.a=a,y.b=o}function x(e,t){var n=g(e),r=g(t),i=n-(r>>1)&65535,a=r+i-32768&65535;y.a=a,y.b=i}function _(e,t,n,r,i,a,o){for(var s,l=o<16384,c=n>i?i:n,u=1;u<=c;)u<<=1;for(s=u>>=1,u>>=1;u>=1;){for(var h,d,f,p,m=0,g=m+a*(i-s),v=a*u,_=a*s,w=r*u,S=r*s;m<=g;m+=_){for(var M=m,A=m+r*(n-s);M<=A;M+=S){var T=M+w,E=(C=M+v)+w;l?(b(e[M+t],e[C+t]),h=y.a,f=y.b,b(e[T+t],e[E+t]),d=y.a,p=y.b,b(h,d),e[M+t]=y.a,e[T+t]=y.b,b(f,p),e[C+t]=y.a,e[E+t]=y.b):(x(e[M+t],e[C+t]),h=y.a,f=y.b,x(e[T+t],e[E+t]),d=y.a,p=y.b,x(h,d),e[M+t]=y.a,e[T+t]=y.b,x(f,p),e[C+t]=y.a,e[E+t]=y.b)}if(n&u){var C=M+v;l?b(e[M+t],e[C+t]):x(e[M+t],e[C+t]),h=y.a,e[C+t]=y.b,e[M+t]=h}}if(i&u)for(M=m,A=m+r*(n-s);M<=A;M+=S){T=M+w;l?b(e[M+t],e[T+t]):x(e[M+t],e[T+t]),h=y.a,e[T+t]=y.b,e[M+t]=h}s=u,u>>=1}return m}function w(e,t,a,o,s,l){var g=a.value,v=B(t,a),y=B(t,a);a.value+=4;var b=B(t,a);if(a.value+=4,v<0||v>=r||y<0||y>=r)throw"Something wrong with HUF_ENCSIZE";var x=new Array(r),_=new Array(i);if(function(e){for(var t=0;t<i;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(_),c(e,0,a,o-(a.value-g),v,y,x),b>8*(o-(a.value-g)))throw"Something wrong with hufUncompress";!function(e,t,r,i){for(;t<=r;t++){var a=h(e[t]),o=u(e[t]);if(a>>o)throw"Invalid table entry";if(o>n){if((d=i[a>>o-n]).len)throw"Invalid table entry";if(d.lit++,d.p){var s=d.p;d.p=new Array(d.lit);for(var l=0;l<d.lit-1;++l)d.p[l]=s[l]}else d.p=new Array(1);d.p[d.lit-1]=t}else if(o){var c=0;for(l=1<<n-o;l>0;l--){var d;if((d=i[(a<<n-o)+c]).len||d.p)throw"Invalid table entry";d.len=o,d.lit=t,c++}}}}(x,v,y,_),function(e,t,r,i,a,o,s,l,c,g){for(var v=0,y=0,b=l,x=Math.trunc(a.value+(o+7)/8);a.value<x;)for(f(v,y,r,a),v=d.c,y=d.lc;y>=n;)if((M=t[v>>y-n&16383]).len)y-=M.len,m(M.lit,s,v,y,r,0,a,c,g,b),v=p.c,y=p.lc;else{if(!M.p)throw"hufDecode issues";var _;for(_=0;_<M.lit;_++){for(var w=u(e[M.p[_]]);y<w&&a.value<x;)f(v,y,r,a),v=d.c,y=d.lc;if(y>=w&&h(e[M.p[_]])==(v>>y-w&(1<<w)-1)){y-=w,m(M.p[_],s,v,y,r,0,a,c,g,b),v=p.c,y=p.lc;break}}if(_==M.lit)throw"hufDecode issues"}var S=8-o&7;for(v>>=S,y-=S;y>0;){var M;if(!(M=t[v<<n-y&16383]).len)throw"hufDecode issues";y-=M.len,m(M.lit,s,v,y,r,0,a,c,g,b),v=p.c,y=p.lc}}(x,_,e,0,a,b,y,l,s,{value:0})}function S(e){for(var t=1;t<e.length;t++){var n=e[t-1]+e[t]-128;e[t]=n}}function M(e,t){for(var n=0,r=Math.floor((e.length+1)/2),i=0,a=e.length-1;!(i>a||(t[i++]=e[n++],i>a));)t[i++]=e[r++]}function A(e){for(var t=e.byteLength,n=new Array,r=0,i=new DataView(e);t>0;){var a=i.getInt8(r++);if(a<0){t-=(s=-a)+1;for(var o=0;o<s;o++)n.push(i.getUint8(r++))}else{var s=a;t-=2;var l=i.getUint8(r++);for(o=0;o<s+1;o++)n.push(l)}}return n}function T(e,t,n){for(var r,i=1;i<64;)65280==(r=t[e.value])?i=64:r>>8==255?i+=255&r:(n[i]=r,i++),e.value++}function E(e,t){t[0]=q(e[0]),t[1]=q(e[1]),t[2]=q(e[5]),t[3]=q(e[6]),t[4]=q(e[14]),t[5]=q(e[15]),t[6]=q(e[27]),t[7]=q(e[28]),t[8]=q(e[2]),t[9]=q(e[4]),t[10]=q(e[7]),t[11]=q(e[13]),t[12]=q(e[16]),t[13]=q(e[26]),t[14]=q(e[29]),t[15]=q(e[42]),t[16]=q(e[3]),t[17]=q(e[8]),t[18]=q(e[12]),t[19]=q(e[17]),t[20]=q(e[25]),t[21]=q(e[30]),t[22]=q(e[41]),t[23]=q(e[43]),t[24]=q(e[9]),t[25]=q(e[11]),t[26]=q(e[18]),t[27]=q(e[24]),t[28]=q(e[31]),t[29]=q(e[40]),t[30]=q(e[44]),t[31]=q(e[53]),t[32]=q(e[10]),t[33]=q(e[19]),t[34]=q(e[23]),t[35]=q(e[32]),t[36]=q(e[39]),t[37]=q(e[45]),t[38]=q(e[52]),t[39]=q(e[54]),t[40]=q(e[20]),t[41]=q(e[22]),t[42]=q(e[33]),t[43]=q(e[38]),t[44]=q(e[46]),t[45]=q(e[51]),t[46]=q(e[55]),t[47]=q(e[60]),t[48]=q(e[21]),t[49]=q(e[34]),t[50]=q(e[37]),t[51]=q(e[47]),t[52]=q(e[50]),t[53]=q(e[56]),t[54]=q(e[59]),t[55]=q(e[61]),t[56]=q(e[35]),t[57]=q(e[36]),t[58]=q(e[48]),t[59]=q(e[49]),t[60]=q(e[57]),t[61]=q(e[58]),t[62]=q(e[62]),t[63]=q(e[63])}function C(e){const t=.5*Math.cos(.7853975),n=.5*Math.cos(3.14159/16),r=.5*Math.cos(3.14159/8),i=.5*Math.cos(3*3.14159/16),a=.5*Math.cos(.981746875),o=.5*Math.cos(3*3.14159/8),s=.5*Math.cos(1.374445625);for(var l=new Array(4),c=new Array(4),u=new Array(4),h=new Array(4),d=0;d<8;++d){var f=8*d;l[0]=r*e[f+2],l[1]=o*e[f+2],l[2]=r*e[f+6],l[3]=o*e[f+6],c[0]=n*e[f+1]+i*e[f+3]+a*e[f+5]+s*e[f+7],c[1]=i*e[f+1]-s*e[f+3]-n*e[f+5]-a*e[f+7],c[2]=a*e[f+1]-n*e[f+3]+s*e[f+5]+i*e[f+7],c[3]=s*e[f+1]-a*e[f+3]+i*e[f+5]-n*e[f+7],u[0]=t*(e[f+0]+e[f+4]),u[3]=t*(e[f+0]-e[f+4]),u[1]=l[0]+l[3],u[2]=l[1]-l[2],h[0]=u[0]+u[1],h[1]=u[3]+u[2],h[2]=u[3]-u[2],h[3]=u[0]-u[1],e[f+0]=h[0]+c[0],e[f+1]=h[1]+c[1],e[f+2]=h[2]+c[2],e[f+3]=h[3]+c[3],e[f+4]=h[3]-c[3],e[f+5]=h[2]-c[2],e[f+6]=h[1]-c[1],e[f+7]=h[0]-c[0]}for(var p=0;p<8;++p)l[0]=r*e[16+p],l[1]=o*e[16+p],l[2]=r*e[48+p],l[3]=o*e[48+p],c[0]=n*e[8+p]+i*e[24+p]+a*e[40+p]+s*e[56+p],c[1]=i*e[8+p]-s*e[24+p]-n*e[40+p]-a*e[56+p],c[2]=a*e[8+p]-n*e[24+p]+s*e[40+p]+i*e[56+p],c[3]=s*e[8+p]-a*e[24+p]+i*e[40+p]-n*e[56+p],u[0]=t*(e[p]+e[32+p]),u[3]=t*(e[p]-e[32+p]),u[1]=l[0]+l[3],u[2]=l[1]-l[2],h[0]=u[0]+u[1],h[1]=u[3]+u[2],h[2]=u[3]-u[2],h[3]=u[0]-u[1],e[0+p]=h[0]+c[0],e[8+p]=h[1]+c[1],e[16+p]=h[2]+c[2],e[24+p]=h[3]+c[3],e[32+p]=h[3]-c[3],e[40+p]=h[2]-c[2],e[48+p]=h[1]-c[1],e[56+p]=h[0]-c[0]}function P(e){for(var t=0;t<64;++t){var n=e[0][t],r=e[1][t],i=e[2][t];e[0][t]=n+1.5747*i,e[1][t]=n-.1873*r-.4682*i,e[2][t]=n+1.8556*r}}function k(e,t,n){for(var r=0;r<64;++r)t[n+r]=EA.toHalfFloat(R(e[r]))}function R(e){return e<=1?Math.sign(e)*Math.pow(Math.abs(e),2.2):Math.sign(e)*Math.pow(a,Math.abs(e)-1)}function L(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function I(e){var t=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),n=new Uint8Array(A(t)),r=new Uint8Array(n.length);return S(n),M(n,r),new DataView(r.buffer)}function N(e){var t=rC(e.array.slice(e.offset.value,e.offset.value+e.size)),n=new Uint8Array(t.length);return S(t),M(t,n),new DataView(n.buffer)}function D(e){for(var n=e.viewer,r={value:e.offset.value},i=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),a=new Uint8Array(8192),o=0,s=new Array(e.channels),l=0;l<e.channels;l++)s[l]={},s[l].start=o,s[l].end=s[l].start,s[l].nx=e.width,s[l].ny=e.lines,s[l].size=e.type,o+=s[l].nx*s[l].ny*s[l].size;var c=X(n,r),u=X(n,r);if(u>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(c<=u)for(l=0;l<u-c+1;l++)a[l+c]=j(n,r);var h=new Uint16Array(t),d=function(e,n){for(var r=0,i=0;i<t;++i)(0==i||e[i>>3]&1<<(7&i))&&(n[r++]=i);for(var a=r-1;r<t;)n[r++]=0;return a}(a,h),f=B(n,r);w(e.array,n,r,f,i,o);for(l=0;l<e.channels;++l)for(var p=s[l],m=0;m<s[l].size;++m)_(i,p.start+m,p.nx,p.size,p.ny,p.nx*p.size,d);!function(e,t,n){for(var r=0;r<n;++r)t[r]=e[t[r]]}(h,i,o);for(var g=0,v=new Uint8Array(i.buffer.byteLength),y=0;y<e.lines;y++)for(var b=0;b<e.channels;b++){var x=(p=s[b]).nx*p.size,S=new Uint8Array(i.buffer,2*p.end,2*x);v.set(S,g),g+=2*x,p.end+=x}return new DataView(v.buffer)}function O(e){var t=rC(e.array.slice(e.offset.value,e.offset.value+e.size));const n=e.lines*e.channels*e.width,r=1==e.type?new Uint16Array(n):new Uint32Array(n);let i=0,a=0;const o=new Array(4);for(let s=0;s<e.lines;s++)for(let n=0;n<e.channels;n++){let n=0;switch(e.type){case 1:o[0]=i,o[1]=o[0]+e.width,i=o[1]+e.width;for(let i=0;i<e.width;++i){n+=t[o[0]++]<<8|t[o[1]++],r[a]=n,a++}break;case 2:o[0]=i,o[1]=o[0]+e.width,o[2]=o[1]+e.width,i=o[2]+e.width;for(let i=0;i<e.width;++i){n+=t[o[0]++]<<24|t[o[1]++]<<16|t[o[2]++]<<8,r[a]=n,a++}}}return new DataView(r.buffer)}function z(e){var t=e.viewer,n={value:e.offset.value},r=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),i={version:H(t,n),unknownUncompressedSize:H(t,n),unknownCompressedSize:H(t,n),acCompressedSize:H(t,n),dcCompressedSize:H(t,n),rleCompressedSize:H(t,n),rleUncompressedSize:H(t,n),rleRawSize:H(t,n),totalAcUncompressedCount:H(t,n),totalDcUncompressedCount:H(t,n),acCompression:H(t,n)};if(i.version<2)throw"EXRLoader.parse: "+$.compression+" version "+i.version+" is unsupported";for(var a=new Array,o=X(t,n)-2;o>0;){var s=U(t.buffer,n),l=j(t,n),c=l>>2&3,u=new Int8Array([(l>>4)-1])[0],h=j(t,n);a.push({name:s,index:u,type:h,compression:c}),o-=s.length+3}for(var d=$.channels,f=new Array(e.channels),p=0;p<e.channels;++p){var m=f[p]={},g=d[p];m.name=g.name,m.compression=0,m.decoded=!1,m.type=g.pixelType,m.pLinear=g.pLinear,m.width=e.width,m.height=e.lines}for(var v={idx:new Array(3)},y=0;y<e.channels;++y)for(m=f[y],p=0;p<a.length;++p){var b=a[p];m.name==b.name&&(m.compression=b.compression,b.index>=0&&(v.idx[b.index]=y),m.offset=y)}if(i.acCompressedSize>0)switch(i.acCompression){case 0:var x=new Uint16Array(i.totalAcUncompressedCount);w(e.array,t,n,i.acCompressedSize,x,i.totalAcUncompressedCount);break;case 1:var _=rC(e.array.slice(n.value,n.value+i.totalAcUncompressedCount));x=new Uint16Array(_.buffer);n.value+=i.totalAcUncompressedCount}if(i.dcCompressedSize>0){var S={array:e.array,offset:n,size:i.dcCompressedSize},M=new Uint16Array(N(S).buffer);n.value+=i.dcCompressedSize}if(i.rleRawSize>0){var R=A((_=rC(e.array.slice(n.value,n.value+i.rleCompressedSize))).buffer);n.value+=i.rleCompressedSize}var L=0,I=new Array(f.length);for(p=0;p<I.length;++p)I[p]=new Array;for(var D=0;D<e.lines;++D)for(var O=0;O<f.length;++O)I[O].push(L),L+=f[O].width*e.type*2;!function(e,t,n,r,i,a){var o=new DataView(a.buffer),s=n[e.idx[0]].width,l=n[e.idx[0]].height,c=Math.floor(s/8),u=Math.ceil(s/8),h=Math.ceil(l/8),d=s-8*(u-1),f=l-8*(h-1),p={value:0},m=new Array(3),g=new Array(3),v=new Array(3),y=new Array(3),b=new Array(3);for(let T=0;T<3;++T)b[T]=t[e.idx[T]],m[T]=T<1?0:m[T-1]+u*h,g[T]=new Float32Array(64),v[T]=new Uint16Array(64),y[T]=new Uint16Array(64*u);for(let L=0;L<h;++L){var x=8;L==h-1&&(x=f);var _=8;for(let e=0;e<u;++e){e==u-1&&(_=d);for(let e=0;e<3;++e)v[e].fill(0),v[e][0]=i[m[e]++],T(p,r,v[e]),E(v[e],g[e]),C(g[e]);P(g);for(let t=0;t<3;++t)k(g[t],y[t],64*e)}let t=0;for(let r=0;r<3;++r){const i=n[e.idx[r]].type;for(let e=8*L;e<8*L+x;++e){t=b[r][e];for(let n=0;n<c;++n){const a=64*n+8*(7&e);o.setUint16(t+0*i,y[r][a+0],!0),o.setUint16(t+2*i,y[r][a+1],!0),o.setUint16(t+4*i,y[r][a+2],!0),o.setUint16(t+6*i,y[r][a+3],!0),o.setUint16(t+8*i,y[r][a+4],!0),o.setUint16(t+10*i,y[r][a+5],!0),o.setUint16(t+12*i,y[r][a+6],!0),o.setUint16(t+14*i,y[r][a+7],!0),t+=16*i}}if(c!=u)for(let e=8*L;e<8*L+x;++e){const t=b[r][e]+8*c*2*i,n=64*c+8*(7&e);for(let e=0;e<_;++e)o.setUint16(t+2*e*i,y[r][n+e],!0)}}}for(var w=new Uint16Array(s),S=(o=new DataView(a.buffer),0);S<3;++S){n[e.idx[S]].decoded=!0;var M=n[e.idx[S]].type;if(2==n[S].type)for(var A=0;A<l;++A){const e=b[S][A];for(var R=0;R<s;++R)w[R]=o.getUint16(e+2*R*M,!0);for(R=0;R<s;++R)o.setFloat32(e+2*R*M,q(w[R]),!0)}}}(v,I,f,x,M,r);for(p=0;p<f.length;++p){if(!(m=f[p]).decoded){if(2!==m.compression)throw"EXRLoader.parse: unsupported channel compression";var z=0,F=0;for(D=0;D<e.lines;++D){for(var B=I[p][z],V=0;V<m.width;++V){for(var W=0;W<2*m.type;++W)r[B++]=R[F+W*m.width*m.height];F++}z++}}}return new DataView(r.buffer)}function U(e,t){for(var n=new Uint8Array(e),r=0;0!=n[t.value+r];)r+=1;var i=(new TextDecoder).decode(n.slice(t.value,t.value+r));return t.value=t.value+r+1,i}function F(e,t){var n=e.getInt32(t.value,!0);return t.value=t.value+4,n}function B(e,t){var n=e.getUint32(t.value,!0);return t.value=t.value+4,n}function V(e,t){var n=e[t.value];return t.value=t.value+1,n}function j(e,t){var n=e.getUint8(t.value);return t.value=t.value+1,n}const H=function(e,t){let n;return n="getBigInt64"in DataView.prototype?Number(e.getBigInt64(t.value,!0)):e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,n};function W(e,t){var n=e.getFloat32(t.value,!0);return t.value+=4,n}function G(e,t){return EA.toHalfFloat(W(e,t))}function q(e){var t=(31744&e)>>10,n=1023&e;return(e>>15?-1:1)*(t?31===t?n?NaN:1/0:Math.pow(2,t-15)*(1+n/1024):n/1024*6103515625e-14)}function X(e,t){var n=e.getUint16(t.value,!0);return t.value+=2,n}function Y(e,t){return q(X(e,t))}function Z(e,t,n,r,i){return"string"===r||"stringvector"===r||"iccProfile"===r?function(e,t,n){var r=(new TextDecoder).decode(new Uint8Array(e).slice(t.value,t.value+n));return t.value=t.value+n,r}(t,n,i):"chlist"===r?function(e,t,n,r){for(var i=n.value,a=[];n.value<i+r-1;){var o=U(t,n),s=F(e,n),l=j(e,n);n.value+=3;var c=F(e,n),u=F(e,n);a.push({name:o,pixelType:s,pLinear:l,xSampling:c,ySampling:u})}return n.value+=1,a}(e,t,n,i):"chromaticities"===r?function(e,t){return{redX:W(e,t),redY:W(e,t),greenX:W(e,t),greenY:W(e,t),blueX:W(e,t),blueY:W(e,t),whiteX:W(e,t),whiteY:W(e,t)}}(e,n):"compression"===r?function(e,t){return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][j(e,t)]}(e,n):"box2i"===r?function(e,t){return{xMin:B(e,t),yMin:B(e,t),xMax:B(e,t),yMax:B(e,t)}}(e,n):"lineOrder"===r?function(e,t){return["INCREASING_Y"][j(e,t)]}(e,n):"float"===r?W(e,n):"v2f"===r?function(e,t){return[W(e,t),W(e,t)]}(e,n):"v3f"===r?function(e,t){return[W(e,t),W(e,t),W(e,t)]}(e,n):"int"===r?F(e,n):"rational"===r?function(e,t){return[F(e,t),B(e,t)]}(e,n):"timecode"===r?function(e,t){return[B(e,t),B(e,t)]}(e,n):"preview"===r?(n.value+=i,"skipped"):void(n.value+=i)}const J=new DataView(e),K=new Uint8Array(e),Q={value:0},$=function(e,t,n){const r={};if(20000630!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";r.version=e.getUint8(4);const i=e.getUint8(5);r.spec={singleTile:!!(2&i),longName:!!(4&i),deepFormat:!!(8&i),multiPart:!!(16&i)},n.value=8;for(var a=!0;a;){var o=U(t,n);if(0==o)a=!1;else{var s=Z(e,t,n,U(t,n),B(e,n));void 0===s||(r[o]=s)}}if(0!=i)throw"THREE.EXRLoader: provided file is currently unsupported.";return r}(J,e,Q),ee=function(e,t,n,r,i){const a={size:0,viewer:t,array:n,offset:r,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[pC?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":a.lines=1,a.uncompress=L;break;case"RLE_COMPRESSION":a.lines=1,a.uncompress=I;break;case"ZIPS_COMPRESSION":a.lines=1,a.uncompress=N;break;case"ZIP_COMPRESSION":a.lines=16,a.uncompress=N;break;case"PIZ_COMPRESSION":a.lines=32,a.uncompress=D;break;case"PXR24_COMPRESSION":a.lines=16,a.uncompress=O;break;case"DWAA_COMPRESSION":a.lines=32,a.uncompress=z;break;case"DWAB_COMPRESSION":a.lines=256,a.uncompress=z;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(a.scanlineBlockSize=a.lines,1==a.type)switch(i){case Hf:a.getter=Y,a.inputSize=2;break;case Wf:a.getter=X,a.inputSize=2}else{if(2!=a.type)throw"EXRLoader.parse: unsupported pixelType "+a.type+" for "+e.compression+".";switch(i){case Hf:a.getter=W,a.inputSize=4;break;case Wf:a.getter=G,a.inputSize=4}}a.blockCount=(e.dataWindow.yMax+1)/a.scanlineBlockSize;for(var o=0;o<a.blockCount;o++)H(t,r);a.outputChannels=3==a.channels?4:a.channels;const s=a.width*a.height*a.outputChannels;switch(i){case Hf:a.byteArray=new Float32Array(s),a.channels<a.outputChannels&&a.byteArray.fill(1,0,s);break;case Wf:a.byteArray=new Uint16Array(s),a.channels<a.outputChannels&&a.byteArray.fill(15360,0,s)}return a.bytesPerLine=a.width*a.inputSize*a.channels,4==a.outputChannels?a.format=Jf:a.format=tp,pC?a.colorSpace="srgb-linear":a.encoding=3e3,a}($,J,K,Q,this.type),te={value:0},ne={R:0,G:1,B:2,A:3,Y:0};for(let re=0;re<ee.height/ee.scanlineBlockSize;re++){const e=B(J,Q);ee.size=B(J,Q),ee.lines=e+ee.scanlineBlockSize>ee.height?ee.height-e:ee.scanlineBlockSize;const t=ee.size<ee.lines*ee.bytesPerLine?ee.uncompress(ee):L(ee);Q.value+=ee.size;for(let n=0;n<ee.scanlineBlockSize;n++){const e=n+re*ee.scanlineBlockSize;if(e>=ee.height)break;for(let r=0;r<ee.channels;r++){const i=ne[$.channels[r].name];for(let a=0;a<ee.width;a++){te.value=(n*(ee.channels*ee.width)+r*ee.width+a)*ee.inputSize;const o=(ee.height-1-e)*(ee.width*ee.outputChannels)+a*ee.outputChannels+i;ee.byteArray[o]=ee.getter(t,te)}}}}return{header:$,width:ee.width,height:ee.height,data:ee.byteArray,format:ee.format,[pC?"colorSpace":"encoding"]:ee[pC?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,n,r){return super.load(e,(function(e,n){pC?e.colorSpace=n.colorSpace:e.encoding=n.encoding,e.minFilter=Nf,e.magFilter=Nf,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,n)}),n,r)}}const gC=B.forwardRef((({envMap:e,resolution:t=256,frames:n=1/0,makeDefault:r,children:i,...a},o)=>{const s=NT((({set:e})=>e)),l=NT((({camera:e})=>e)),c=NT((({size:e})=>e)),u=B.useRef(null),h=B.useRef(null),d=function(e,t,n){const r=NT((e=>e.size)),i=NT((e=>e.viewport)),a="number"==typeof e?e:r.width*i.dpr,o="number"==typeof t?t:r.height*i.dpr,s=("number"==typeof e?n:e)||{},{samples:l=0,depth:c,...u}=s,h=B.useMemo((()=>{const e=new zm(a,o,{minFilter:Nf,magFilter:Nf,type:Wf,...u});return c&&(e.depthTexture=new Ex(a,o,Hf)),e.samples=l,e}),[]);return B.useLayoutEffect((()=>{h.setSize(a,o),l&&(h.samples=l)}),[l,h,a,o]),B.useEffect((()=>()=>h.dispose()),[]),h}(t);B.useLayoutEffect((()=>{a.manual||(u.current.aspect=c.width/c.height)}),[c,a]),B.useLayoutEffect((()=>{u.current.updateProjectionMatrix()}));let f=0,p=null;const m="function"==typeof i;var g;return DT((t=>{m&&(n===1/0||f<n)&&(h.current.visible=!1,t.gl.setRenderTarget(d),p=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,u.current),t.scene.background=p,t.gl.setRenderTarget(null),h.current.visible=!0,f++)})),B.useLayoutEffect((()=>{if(r){const e=l;return s((()=>({camera:u.current}))),()=>s((()=>({camera:e})))}}),[u,r,s]),B.createElement(B.Fragment,null,B.createElement("perspectiveCamera",JT({ref:(g=[u,o],function(e){g.forEach((function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)}))})},a),!m&&i),B.createElement("group",{ref:h},m&&i(d.texture)))})),vC=B.forwardRef((({makeDefault:e,camera:t,regress:n,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...c},u)=>{const h=NT((e=>e.invalidate)),d=NT((e=>e.camera)),f=NT((e=>e.gl)),p=NT((e=>e.events)),m=NT((e=>e.setEvents)),g=NT((e=>e.set)),v=NT((e=>e.get)),y=NT((e=>e.performance)),b=t||d,x=r||p.connected||f.domElement,_=B.useMemo((()=>new dC(b)),[b]);return DT((()=>{_.enabled&&_.update()}),-1),B.useEffect((()=>(a&&_.connect(!0===a?x:a),_.connect(x),()=>{_.dispose()})),[a,x,n,_,h]),B.useEffect((()=>{const e=e=>{h(),n&&y.regress(),o&&o(e)},t=e=>{s&&s(e)},r=e=>{l&&l(e)};return _.addEventListener("change",e),_.addEventListener("start",t),_.addEventListener("end",r),()=>{_.removeEventListener("start",t),_.removeEventListener("end",r),_.removeEventListener("change",e)}}),[o,s,l,_,h,m]),B.useEffect((()=>{if(e){const e=v().controls;return g({controls:_}),()=>g({controls:e})}}),[e,_]),B.createElement("primitive",JT({ref:u,object:_,enableDamping:i},c))})),yC={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},bC="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",xC=e=>Array.isArray(e);function _C({files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:n,encoding:r,extensions:i}={}){var a;let o,s=null,l=!1;if(n){if(!(n in yC))throw new Error("Preset must be one of: "+Object.keys(yC).join(", "));e=yC[n],t=bC}if(l=xC(e),o=xC(e)?"cube":e.startsWith("data:application/exr")?"exr":e.startsWith("data:application/hdr")?"hdr":null==(a=e.split(".").pop())||null==(a=a.split("?"))||null==(a=a.shift())?void 0:a.toLowerCase(),s=l?ZS:"hdr"===o?fC:"exr"===o?mC:null,!s)throw new Error("useEnvironment: Unrecognized file extension: "+e);const c=UT(s,l?[e]:e,(e=>{null==e.setPath||e.setPath(t),i&&i(e)})),u=l?c[0]:c;u.mapping=l?Sf:Af;return"colorSpace"in u?u.colorSpace=(null!=r?r:l)?"srgb":"srgb-linear":u.encoding=(null!=r?r:l)?3001:3e3,u}const wC=e=>{return(t=e).current&&t.current.isScene?e.current:e;var t};function SC(e,t,n,r,i=0){const a=wC(t||n),o=a.background,s=a.environment,l=a.backgroundBlurriness||0;return"only"!==e&&(a.environment=r),e&&(a.background=r),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=i),()=>{"only"!==e&&(a.environment=s),e&&(a.background=o),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=l)}}function MC({scene:e,background:t=!1,blur:n,map:r}){const i=NT((e=>e.scene));return B.useLayoutEffect((()=>{if(r)return SC(t,e,i,r,n)}),[i,e,r,t,n]),null}function AC({background:e=!1,scene:t,blur:n,...r}){const i=_C(r),a=NT((e=>e.scene));return B.useLayoutEffect((()=>SC(e,t,a,i,n)),[i,e,t,a,n]),null}function TC({children:e,near:t=1,far:n=1e3,resolution:r=256,frames:i=1,map:a,background:o=!1,blur:s,scene:l,files:c,path:u,preset:h,extensions:d}){const f=NT((e=>e.gl)),p=NT((e=>e.scene)),m=B.useRef(null),[g]=B.useState((()=>new Dx)),v=B.useMemo((()=>{const e=new Hv(r);return e.texture.type=Wf,e}),[r]);B.useLayoutEffect((()=>(1===i&&m.current.update(f,g),SC(o,l,p,v.texture,s))),[e,g,v.texture,l,p,o,i,f]);let y=1;return DT((()=>{(i===1/0||y<i)&&(m.current.update(f,g),y++)})),B.createElement(B.Fragment,null,function(e,t,n){return B.createElement(ZT,{key:t.uuid,children:e,container:t,state:n})}(B.createElement(B.Fragment,null,e,B.createElement("cubeCamera",{ref:m,args:[t,n,v]}),c||h?B.createElement(AC,{background:!0,files:c,preset:h,path:u,extensions:d}):a?B.createElement(MC,{background:!0,map:a,extensions:d}):null),g))}function EC(e){var t,n,r,i;const a=_C(e),o=e.map||a;B.useMemo((()=>GA({GroundProjectedEnvImpl:aC})),[]);const s=B.useMemo((()=>[o]),[o]),l=null==(t=e.ground)?void 0:t.height,c=null==(n=e.ground)?void 0:n.radius,u=null!==(r=null==(i=e.ground)?void 0:i.scale)&&void 0!==r?r:1e3;return B.createElement(B.Fragment,null,B.createElement(MC,JT({},e,{map:o})),B.createElement("groundProjectedEnvImpl",{args:s,scale:u,height:l,radius:c}))}function CC(e){return e.ground?B.createElement(EC,e):e.map?B.createElement(MC,e):e.children?B.createElement(TC,e):B.createElement(AC,e)}class PC extends WS{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new DC(e)})),this.register((function(e){return new jC(e)})),this.register((function(e){return new HC(e)})),this.register((function(e){return new zC(e)})),this.register((function(e){return new UC(e)})),this.register((function(e){return new FC(e)})),this.register((function(e){return new BC(e)})),this.register((function(e){return new NC(e)})),this.register((function(e){return new VC(e)})),this.register((function(e){return new OC(e)})),this.register((function(e){return new LC(e)})),this.register((function(e){return new WC(e)})),this.register((function(e){return new GC(e)}))}load(e,t,n,r){const i=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:yM.extractUrlBase(e),this.manager.itemStart(e);const o=function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new XS(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),o)}catch(TG){o(TG)}}),n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const a={},o={};if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(yM.decodeText(new Uint8Array(e,0,4))===qC){try{a[RC.KHR_BINARY_GLTF]=new ZC(e)}catch(l){return void(r&&r(l))}i=JSON.parse(a[RC.KHR_BINARY_GLTF].content)}else i=JSON.parse(yM.decodeText(new Uint8Array(e)))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const s=new xP(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});s.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const e=this.pluginCallbacks[c](s);o[e.name]=e,a[e.name]=!0}if(i.extensionsUsed)for(let c=0;c<i.extensionsUsed.length;++c){const e=i.extensionsUsed[c],t=i.extensionsRequired||[];switch(e){case RC.KHR_MATERIALS_UNLIT:a[e]=new IC;break;case RC.KHR_DRACO_MESH_COMPRESSION:a[e]=new JC(i,this.dracoLoader);break;case RC.KHR_TEXTURE_TRANSFORM:a[e]=new KC;break;case RC.KHR_MESH_QUANTIZATION:a[e]=new QC;break;default:t.indexOf(e)>=0&&o[e]}}s.setExtensions(a),s.setPlugins(o),s.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function kC(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const RC={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class LC{constructor(e){this.parser=e,this.name=RC.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const i=t.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let o;const s=new Pm(16777215);void 0!==a.color&&s.fromArray(a.color);const l=void 0!==a.range?a.range:0;switch(a.type){case"directional":o=new dM(s),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new uM(s),o.distance=l;break;case"spot":o=new aM(s),o.distance=l,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return o.position.set(0,0,0),o.decay=2,pP(o,a),void 0!==a.intensity&&(o.intensity=a.intensity),o.name=t.createUniqueName(a.name||"light_"+e),r=Promise.resolve(o),t.cache.add(n,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}class IC{constructor(){this.name=RC.KHR_MATERIALS_UNLIT}getMaterialType(){return nv}extendParams(e,t,n){const r=[];e.color=new Pm(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,Vp))}return Promise.all(r)}}class NC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class DC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?fS:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new dm(e,e)}return Promise.all(i)}}class OC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?fS:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}class zC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?fS:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new Pm(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Vp)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}class UC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?fS:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}class FC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?fS:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=new Pm(o[0],o[1],o[2]),Promise.all(i)}}class BC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?fS:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class VC{constructor(e){this.parser=e,this.name=RC.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?fS:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=new Pm(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,Vp)),Promise.all(i)}}class jC{constructor(e){this.parser=e,this.name=RC.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}class HC{constructor(e){this.parser=e,this.name=RC.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const a=i.extensions[t],o=r.images[a.source];let s=n.textureLoader;if(o.uri){const e=n.options.manager.getHandler(o.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class WC{constructor(e){this.name=RC.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,a=e.count,o=e.byteStride,s=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(a,o,s,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(a*o);return i.decodeGltfBuffer(new Uint8Array(t),a,o,s,e.mode,e.filter),t}))}))}return null}}class GC{constructor(e){this.name=RC.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const r=t.meshes[n.mesh];for(const s of r.primitives)if(s.mode!==nP.TRIANGLES&&s.mode!==nP.TRIANGLE_STRIP&&s.mode!==nP.TRIANGLE_FAN&&void 0!==s.mode)return null;const i=n.extensions[this.name].attributes,a=[],o={};for(const s in i)a.push(this.parser.getDependency("accessor",i[s]).then((e=>(o[s]=e,o[s]))));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,i=[];for(const a of n){const e=new vg,t=new Vm,n=new Bm,s=new Vm(1,1,1),l=new __(a.geometry,a.material,r);for(let i=0;i<r;i++)o.TRANSLATION&&t.fromBufferAttribute(o.TRANSLATION,i),o.ROTATION&&n.fromBufferAttribute(o.ROTATION,i),o.SCALE&&s.fromBufferAttribute(o.SCALE,i),l.setMatrixAt(i,e.compose(t,n,s));for(const r in o)"TRANSLATION"!==r&&"ROTATION"!==r&&"SCALE"!==r&&a.geometry.setAttribute(r,o[r]);jg.prototype.copy.call(l,a),l.frustumCulled=!1,this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const qC="glTF",XC=1313821514,YC=5130562;class ZC{constructor(e){this.name=RC.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:yM.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==qC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,r=new DataView(e,12);let i=0;for(;i<n;){const t=r.getUint32(i,!0);i+=4;const n=r.getUint32(i,!0);if(i+=4,n===XC){const n=new Uint8Array(e,12+i,t);this.content=yM.decodeText(n)}else if(n===YC){const n=12+i;this.body=e.slice(n,n+t)}i+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class JC{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=RC.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(const c in a){const e=sP[c]||c.toLowerCase();o[e]=a[c]}for(const c in e.attributes){const t=sP[c]||c.toLowerCase();if(void 0!==a[c]){const r=n.accessors[e.attributes[c]],i=rP[r.componentType];l[t]=i.name,s[t]=!0===r.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=s[t];void 0!==r&&(n.normalized=r)}t(e)}),o,l)}))}))}}class KC{constructor(){this.name=RC.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord,void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class QC{constructor(){this.name=RC.KHR_MESH_QUANTIZATION}}class $C extends ES{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let a=0;a!==r;a++)t[a]=n[i+a];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,c=r-t,u=(n-t)/c,h=u*u,d=h*u,f=e*l,p=f-l,m=-2*d+3*h,g=d-h,v=1-m,y=g-h+u;for(let b=0;b!==o;b++){const e=a[p+b+o],t=a[p+b+s]*c,n=a[f+b+o],r=a[f+b]*c;i[b]=v*e+y*t+m*n+g*r}return i}}const eP=new Bm;class tP extends $C{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return eP.fromArray(i).normalize().toArray(i),i}}const nP={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},rP={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},iP={9728:Rf,9729:Nf,9984:Lf,9985:Df,9986:If,9987:Of},aP={33071:Pf,33648:kf,10497:Cf},oP={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},sP={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},lP={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},cP={CUBICSPLINE:void 0,LINEAR:Ip,STEP:Lp},uP="OPAQUE",hP="MASK",dP="BLEND";function fP(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function pP(e,t){void 0!==t.extras&&"object"==typeof t.extras&&Object.assign(e.userData,t.extras)}function mP(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}}}function gP(e){const t=e.extensions&&e.extensions[RC.KHR_DRACO_MESH_COMPRESSION];let n;return n=t?"draco:"+t.bufferView+":"+t.indices+":"+vP(t.attributes):e.indices+":"+vP(e.attributes)+":"+e.mode,n}function vP(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function yP(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const bP=new vg;class xP{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new kC,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,i=-1;"undefined"!=typeof navigator&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,i=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||n||r&&i<98?this.textureLoader=new KS(this.options.manager):this.textureLoader=new MM(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new XS(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};fP(i,a,r),pP(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const t=e[r];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[r,a]of e.children.entries())i(a,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[RC.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){n.load(yM.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const e=oP[r.type],t=rP[r.componentType],n=!0===r.normalized,i=new t(r.count*e);return Promise.resolve(new av(i,e,n))}const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],a=oP[r.type],o=rP[r.componentType],s=o.BYTES_PER_ELEMENT,l=s*a,c=r.byteOffset||0,u=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,h=!0===r.normalized;let d,f;if(u&&u!==l){const e=Math.floor(c/u),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let l=t.cache.get(n);l||(d=new o(i,e*u,r.count*u/s),l=new Ox(d,u/s),t.cache.add(n,l)),f=new Ux(l,a,c%u/s,h)}else d=null===i?new o(r.count*a):new o(i,c,r.count*a),f=new av(d,a,h);if(void 0!==r.sparse){const t=oP.SCALAR,n=rP[r.sparse.indices.componentType],s=r.sparse.indices.byteOffset||0,l=r.sparse.values.byteOffset||0,c=new n(e[1],s,r.sparse.count*t),u=new o(e[2],l,r.sparse.count*a);null!==i&&(f=new av(f.array.slice(),f.itemSize,f.normalized));for(let e=0,r=c.length;e<r;e++){const t=c[e];if(f.setX(t,u[e*a]),a>=2&&f.setY(t,u[e*a+1]),a>=3&&f.setZ(t,u[e*a+2]),a>=4&&f.setW(t,u[e*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return f}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r];let a=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(a=e)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,t,n){const r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];const l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||o.name||"";const n=(i.samplers||{})[a.sampler]||{};return t.magFilter=iP[n.magFilter]||Nf,t.minFilter=iP[n.minFilter]||Of,t.wrapS=aP[n.wrapS]||Cf,t.wrapT=aP[n.wrapT]||Cf,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}loadImageSource(e,t){const n=this,r=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const a=r.images[e],o=self.URL||self.webkitURL;let s=a.uri||"",l=!1;if(void 0!==a.bufferView)s=n.getDependency("bufferView",a.bufferView).then((function(e){l=!0;const t=new Blob([e],{type:a.mimeType});return s=o.createObjectURL(t),s}));else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(s).then((function(e){return new Promise((function(n,r){let a=n;!0===t.isImageBitmapLoader&&(a=function(e){const t=new Dm(e);t.needsUpdate=!0,n(t)}),t.load(yM.resolveURL(e,i.path),a,void 0,r)}))})).then((function(e){var t;return!0===l&&o.revokeObjectURL(s),e.userData.mimeType=a.mimeType||((t=a.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw e}));return this.sourceCache[e]=c,c}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0!==n.texCoord&&0!=n.texCoord&&("aoMap"!==t||n.texCoord),i.extensions[RC.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[RC.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(a);a=i.extensions[RC.KHR_TEXTURE_TRANSFORM].extendTexture(a,e),i.associations.set(a,t)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new I_,tv.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new w_,tv.prototype.copy.call(t,n),t.color.copy(n.color),this.cache.add(e,t)),n=t}if(r||i||a){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),a&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return dS}loadMaterial(e){const t=this,n=this.json,r=this.extensions,i=n.materials[e];let a;const o={},s=[];if((i.extensions||{})[RC.KHR_MATERIALS_UNLIT]){const e=r[RC.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),s.push(e.extendParams(o,i,t))}else{const n=i.pbrMetallicRoughness||{};if(o.color=new Pm(1,1,1),o.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;o.color.fromArray(e),o.opacity=e[3]}void 0!==n.baseColorTexture&&s.push(t.assignTexture(o,"map",n.baseColorTexture,Vp)),o.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,o.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(s.push(t.assignTexture(o,"metalnessMap",n.metallicRoughnessTexture)),s.push(t.assignTexture(o,"roughnessMap",n.metallicRoughnessTexture))),a=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=Dd);const l=i.alphaMode||uP;if(l===dP?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,l===hP&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&a!==nv&&(s.push(t.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new dm(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;o.normalScale.set(e,e)}return void 0!==i.occlusionTexture&&a!==nv&&(s.push(t.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&a!==nv&&(o.emissive=(new Pm).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&a!==nv&&s.push(t.assignTexture(o,"emissiveMap",i.emissiveTexture,Vp)),Promise.all(s).then((function(){const n=new a(o);return i.name&&(n.name=i.name),pP(n,i),t.associations.set(n,{materials:e}),i.extensions&&fP(r,n,i),n}))}createUniqueName(e){const t=YM.sanitizeNodeName(e||"");let n=t;for(let r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[RC.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return _P(n,e,t)}))}const a=[];for(let o=0,s=e.length;o<s;o++){const n=e[o],s=gP(n),l=r[s];if(l)a.push(l.promise);else{let e;e=n.extensions&&n.extensions[RC.KHR_DRACO_MESH_COMPRESSION]?i(n):_P(new gv,n,t),r[s]={primitive:n,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const e=void 0===a[l].material?(void 0===(s=this.cache).DefaultMaterial&&(s.DefaultMaterial=new dS({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Id})),s.DefaultMaterial):this.getDependency("material",a[l].material);o.push(e)}var s;return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){const o=n.slice(0,n.length-1),s=n[n.length-1],l=[];for(let u=0,h=s.length;u<h;u++){const n=s[u],c=a[u];let h;const d=o[u];if(c.mode===nP.TRIANGLES||c.mode===nP.TRIANGLE_STRIP||c.mode===nP.TRIANGLE_FAN||void 0===c.mode)h=!0===i.isSkinnedMesh?new c_(n,d):new kv(n,d),!0!==h.isSkinnedMesh||h.geometry.attributes.skinWeight.normalized||h.normalizeSkinWeights(),c.mode===nP.TRIANGLE_STRIP?h.geometry=wP(h.geometry,1):c.mode===nP.TRIANGLE_FAN&&(h.geometry=wP(h.geometry,2));else if(c.mode===nP.LINES)h=new R_(n,d);else if(c.mode===nP.LINE_STRIP)h=new C_(n,d);else if(c.mode===nP.LINE_LOOP)h=new L_(n,d);else{if(c.mode!==nP.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);h=new U_(n,d)}Object.keys(h.geometry.morphAttributes).length>0&&mP(h,i),h.name=t.createUniqueName(i.name||"mesh_"+e),pP(h,i),c.extensions&&fP(r,h,c),t.assignFinalMaterial(h),l.push(h)}for(let r=0,i=l.length;r<i;r++)t.associations.set(l[r],{meshes:e,primitives:r});if(1===l.length)return l[0];const c=new Mx;t.associations.set(c,{meshes:e});for(let e=0,t=l.length;e<t;e++)c.add(l[e]);return c}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Fv(hm.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new uy(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),pP(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,i=t.joints.length;r<i;r++)n.push(this.getDependency("node",t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const t=e.pop(),n=e,r=[],i=[];for(let a=0,o=n.length;a<o;a++){const e=n[a];if(e){r.push(e);const n=new vg;null!==t&&n.fromArray(t.array,16*a),i.push(n)}}return new p_(r,i)}))}loadAnimation(e){const t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[];for(let s=0,l=t.channels.length;s<l;s++){const e=t.channels[s],l=t.samplers[e.sampler],c=e.target,u=c.node,h=void 0!==t.parameters?t.parameters[l.input]:l.input,d=void 0!==t.parameters?t.parameters[l.output]:l.output;n.push(this.getDependency("node",u)),r.push(this.getDependency("accessor",h)),i.push(this.getDependency("accessor",d)),a.push(l),o.push(c)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){const r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=[];for(let e=0,t=r.length;e<t;e++){const t=r[e],n=i[e],c=a[e],u=o[e],h=s[e];if(void 0===t)continue;let d;switch(t.updateMatrix(),lP[h.path]){case lP.weights:d=NS;break;case lP.rotation:d=OS;break;default:d=US}const f=t.name?t.name:t.uuid,p=void 0!==u.interpolation?cP[u.interpolation]:Ip,m=[];lP[h.path]===lP.weights?t.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(f);let g=c.array;if(c.normalized){const e=yP(g.constructor),t=new Float32Array(g.length);for(let n=0,r=g.length;n<r;n++)t[n]=g[n]*e;g=t}for(let e=0,r=m.length;e<r;e++){const t=new d(m[e]+"."+lP[h.path],n.array,g,p);"CUBICSPLINE"===u.interpolation&&(t.createInterpolant=function(e){return new(this instanceof OS?tP:$C)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}const c=t.name?t.name:"animation_"+e;return new FS(c,void 0,l)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){const t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));n&&t.push(n),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)}));const a=[],o=i.children||[];for(let e=0,i=o.length;e<i;e++)a.push(r.getDependency("node",o[e]));const s=void 0===i.skin?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([Promise.all(t),Promise.all(a),s])}().then((function(t){const o=t[0],s=t[1],l=t[2];let c;if(c=!0===i.isBone?new u_:o.length>1?new Mx:1===o.length?o[0]:new jg,c!==o[0])for(let e=0,n=o.length;e<n;e++)c.add(o[e]);if(i.name&&(c.userData.name=i.name,c.name=a),pP(c,i),i.extensions&&fP(n,c,i),void 0!==i.matrix){const e=new vg;e.fromArray(i.matrix),c.applyMatrix4(e)}else void 0!==i.translation&&c.position.fromArray(i.translation),void 0!==i.rotation&&c.quaternion.fromArray(i.rotation),void 0!==i.scale&&c.scale.fromArray(i.scale);r.associations.has(c)||r.associations.set(c,{}),r.associations.get(c).nodes=e,null!==l&&c.traverse((function(e){e.isSkinnedMesh&&e.bind(l,bP)}));for(let e=0,n=s.length;e<n;e++)c.add(s[e]);return c}))}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,i=new Mx;n.name&&(i.name=r.createUniqueName(n.name)),pP(i,n),n.extensions&&fP(t,i,n);const a=n.nodes||[],o=[];for(let s=0,l=a.length;s<l;s++)o.push(r.getDependency("node",a[s]));return Promise.all(o).then((function(e){for(let t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=(e=>{const t=new Map;for(const[n,i]of r.associations)(n instanceof tv||n instanceof Dm)&&t.set(n,i);return e.traverse((e=>{const n=r.associations.get(e);null!=n&&t.set(e,n)})),t})(i),i}))}}function _P(e,t,n){const r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const o in r){const t=sP[o]||o.toLowerCase();t in e.attributes||i.push(a(r[o],t))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(r)}return pP(e,t),function(e,t,n){const r=t.attributes,i=new Wm;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return;if(i.set(new Vm(t[0],t[1],t[2]),new Vm(a[0],a[1],a[2])),e.normalized){const t=yP(rP[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const a=t.targets;if(void 0!==a){const e=new Vm,t=new Vm;for(let r=0,i=a.length;r<i;r++){const i=a[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],a=r.min,o=r.max;if(void 0!==a&&void 0!==o){if(t.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),r.normalized){const e=yP(rP[r.componentType]);t.multiplyScalar(e)}e.max(t)}}}i.expandByVector(e)}e.boundingBox=i;const o=new lg;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=o}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,a=!1;for(let c=0,u=t.length;c<u;c++){const e=t[c];if(void 0!==e.POSITION&&(r=!0),void 0!==e.NORMAL&&(i=!0),void 0!==e.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);const o=[],s=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(r){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;o.push(t)}if(i){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;s.push(t)}if(a){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(l)]).then((function(t){const n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function wP(e,t){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,i=[];if(2===t)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2==0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length;const a=e.clone();return a.setIndex(i),a}const SP=e=>{const t=UT(PC,"/ayoungRoom/assets/glb/final_room_empty.glb").scene;return t.position.set(0,-18,-2),t.rotation.set(0,Math.PI,0),$(K,{children:[Q("primitive",{object:t,scale:25,onClick:e=>e.stopPropagation()}),$("mesh",{rotation:[Math.PI/-2,0,0],position:[0,19.5,0],onClick:e=>e.stopPropagation(),children:[Q("planeGeometry",{args:[500,500]}),Q("meshStandardMaterial",{color:"#cbb3e8"})]})]})};var MP=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t};var AP=function(e){return!!e&&"function"==typeof e.then};var TP=function(e,t){if(null!=e)return e;throw MP(null!=t?t:"Got unexpected null or undefined")};function EP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class CP{getValue(){throw MP("BaseLoadable")}toPromise(){throw MP("BaseLoadable")}valueMaybe(){throw MP("BaseLoadable")}valueOrThrow(){throw MP(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw MP("BaseLoadable")}promiseOrThrow(){throw MP(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw MP("BaseLoadable")}errorOrThrow(){throw MP(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw MP("BaseLoadable")}}class PP extends CP{constructor(e){super(),EP(this,"state","hasValue"),EP(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return AP(t)?NP(t):zP(t)?t:LP(t)}catch(TG){return AP(TG)?NP(TG.next((()=>this.map(e)))):IP(TG)}}}class kP extends CP{constructor(e){super(),EP(this,"state","hasError"),EP(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class RP extends CP{constructor(e){super(),EP(this,"state","loading"),EP(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return NP(this.contents.then((t=>{const n=e(t);if(zP(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(AP(t))return t.then((()=>this.map(e).contents));throw t})))}}function LP(e){return Object.freeze(new PP(e))}function IP(e){return Object.freeze(new kP(e))}function NP(e){return Object.freeze(new RP(e))}function DP(){return Object.freeze(new RP(new Promise((()=>{}))))}function OP(e){const t=function(e){return e.every((e=>"hasValue"===e.state))?LP(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?IP(TP(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):NP(Promise.all(e.map((e=>e.contents))))}((Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))).map((e=>zP(e)?e:AP(e)?NP(e):LP(e))));return Array.isArray(e)?t:t.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})))}function zP(e){return e instanceof CP}const UP={of:e=>AP(e)?NP(e):zP(e)?e:LP(e),error:e=>IP(e),loading:()=>DP(),all:OP,isLoadable:zP};var FP={loadableWithValue:LP,loadableWithError:IP,loadableWithPromise:NP,loadableLoading:DP,loadableAll:OP,isLoadable:zP,RecoilLoadable:UP},BP=FP.loadableWithValue,VP=FP.loadableWithError,jP=FP.loadableWithPromise,HP=FP.loadableLoading,WP=FP.loadableAll,GP=FP.isLoadable,qP=FP.RecoilLoadable,XP=Object.freeze({__proto__:null,loadableWithValue:BP,loadableWithError:VP,loadableWithPromise:jP,loadableLoading:HP,loadableAll:WP,isLoadable:GP,RecoilLoadable:qP});const YP={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};var ZP;"undefined"!=typeof process&&null!=(null===(ZP=process)||void 0===ZP?void 0:ZP.env)&&(function(e,t){var n,r;const i=null===(n=process.env[e])||void 0===n||null===(r=n.toLowerCase())||void 0===r?void 0:r.trim();if(null!=i&&""!==i){if(!["true","false"].includes(i))throw MP(`({}).${e} value must be 'true', 'false', or empty: ${i}`);t("true"===i)}}("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",(e=>{YP.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e})),function(e,t){var n;const r=null===(n=process.env[e])||void 0===n?void 0:n.trim();null!=r&&""!==r&&t(r.split(/\s*,\s*|\s+/))}("RECOIL_GKS_ENABLED",(e=>{e.forEach((e=>{YP.RECOIL_GKS_ENABLED.add(e)}))})));var JP=YP;function KP(e){return JP.RECOIL_GKS_ENABLED.has(e)}KP.setPass=e=>{JP.RECOIL_GKS_ENABLED.add(e)},KP.setFail=e=>{JP.RECOIL_GKS_ENABLED.delete(e)},KP.clear=()=>{JP.RECOIL_GKS_ENABLED.clear()};var QP=KP;var $P,ek,tk,nk=function(e,t,{error:n}={}){return null};const rk=null!==($P=V.createMutableSource)&&void 0!==$P?$P:V.unstable_createMutableSource,ik=null!==(ek=V.useMutableSource)&&void 0!==ek?ek:V.unstable_useMutableSource,ak=null!==(tk=V.useSyncExternalStore)&&void 0!==tk?tk:V.unstable_useSyncExternalStore;var ok={createMutableSource:rk,useMutableSource:ik,useSyncExternalStore:ak,currentRendererSupportsUseSyncExternalStore:function(){var e;const{ReactCurrentDispatcher:t,ReactCurrentOwner:n}=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return null!=(null!==(e=null==t?void 0:t.current)&&void 0!==e?e:n.currentDispatcher).useSyncExternalStore},reactMode:function(){return QP("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:QP("recoil_sync_external_store")&&null!=ak?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:QP("recoil_mutable_source")&&null!=ik&&"undefined"!=typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?QP("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:QP("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class sk{constructor(e){EP(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class lk extends sk{}class ck extends sk{}var uk={AbstractRecoilValue:sk,RecoilState:lk,RecoilValueReadOnly:ck,isRecoilValue:function(e){return e instanceof lk||e instanceof ck}},hk=uk.AbstractRecoilValue,dk=uk.RecoilState,fk=uk.RecoilValueReadOnly,pk=uk.isRecoilValue,mk=Object.freeze({__proto__:null,AbstractRecoilValue:hk,RecoilState:dk,RecoilValueReadOnly:fk,isRecoilValue:pk});var gk=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};class vk{}const yk=new vk,bk=new Map,xk=new Map;class _k extends Error{}const wk=new Map;function Sk(e){return wk.get(e)}var Mk={nodes:bk,recoilValues:xk,registerNode:function(e){var t;JP.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&(t=e.key,bk.has(t)),bk.set(e.key,e);const n=null==e.set?new mk.RecoilValueReadOnly(e.key):new mk.RecoilState(e.key);return xk.set(e.key,n),n},getNode:function(e){const t=bk.get(e);if(null==t)throw new _k(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return bk.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!QP("recoil_memory_managament_2020"))return;const n=bk.get(e);var r;null!=n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(bk.delete(e),null===(r=Sk(e))||void 0===r||r(),wk.delete(e))},setConfigDeletionHandler:function(e,t){QP("recoil_memory_managament_2020")&&(void 0===t?wk.delete(e):wk.set(e,t))},getConfigDeletionHandler:Sk,recoilValuesForKeys:function(e){return gk(e,(e=>TP(xk.get(e))))},NodeMissingError:_k,DefaultValue:vk,DEFAULT_VALUE:yk};var Ak={enqueueExecution:function(e,t){t()}};var Tk,Ek,Ck=(Tk=function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,a=r/2,o=r/4,s={},l=function(e){return function(){return e}},c=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,a=e.length;i<a;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},u=function(e,t){return t>>>e&i},h=function(e){return 1<<e},d=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},f=function(e,t,n,r){var i=r;if(!e){var a=r.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=r[o]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,a=0,o=n;if(e)i=a=t;else for(o=new Array(r);i<t;)o[a++]=n[i++];for(++i;i<=r;)o[a++]=n[i++];return e&&(o.length=r),o},m={__hamt_isEmpty:!0},g=function(e){return e===m||e&&e.__hamt_isEmpty},v=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:S}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:M}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:A}},x=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:T}},_=function e(t,n,r,i,a,o){if(r===a)return y(t,r,[o,i]);var s=u(n,r),l=u(n,a);return b(t,h(s)|h(l),s===l?[e(t,n+5,r,i,a,o)]:s<l?[i,o]:[o,i])},w=function(e,t){return e===t.edit},S=function(e,t,n,r,i,a,o){if(t(a,this.key)){var l=r(this.value);return l===this.value?this:l===s?(--o.value,m):w(e,this)?(this.value=l,this):v(e,i,a,l)}var c=r();return c===s?this:(++o.value,_(e,n,this.hash,this,i,v(e,i,a,c)))},M=function(e,t,n,r,i,a,o){if(i===this.hash){var l=function(e,t,n,r,i,a,o,l){for(var c=i.length,u=0;u<c;++u){var h=i[u];if(n(o,h.key)){var d=h.value,m=a(d);return m===d?i:m===s?(--l.value,p(e,u,i)):f(e,u,v(t,r,o,m),i)}}var g=a();return g===s?i:(++l.value,f(e,c,v(t,r,o,g),i))}(w(e,this),e,t,this.hash,this.children,r,a,o);return l===this.children?this:l.length>1?y(e,this.hash,l):l[0]}var c=r();return c===s?this:(++o.value,_(e,n,this.hash,this,i,v(e,i,a,c)))},A=function(e,t,n,r,i,o,s){var l=this.mask,c=this.children,v=u(n,i),y=h(v),_=d(l,y),S=l&y,M=S?c[_]:m,A=M._modify(e,t,n+5,r,i,o,s);if(M===A)return this;var T,E=w(e,this),C=l,P=void 0;if(S&&g(A)){if(!(C&=~y))return m;if(c.length<=2&&((T=c[1^_])===m||1===T.type||2===T.type))return c[1^_];P=p(E,_,c)}else if(S||g(A))P=f(E,_,A,c);else{if(c.length>=a)return function(e,t,n,r,i){for(var a=[],o=r,s=0,l=0;o;++l)1&o&&(a[l]=i[s++]),o>>>=1;return a[t]=n,x(e,s+1,a)}(e,v,A,l,c);C|=y,P=function(e,t,n,r){var i=r.length;if(e){for(var a=i;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var o=0,s=0,l=new Array(i+1);o<t;)l[s++]=r[o++];for(l[t]=n;o<i;)l[++s]=r[o++];return l}(E,_,A,c)}return E?(this.mask=C,this.children=P,this):b(e,C,P)},T=function(e,t,n,r,i,a,s){var l=this.size,c=this.children,h=u(n,i),d=c[h],p=(d||m)._modify(e,t,n+5,r,i,a,s);if(d===p)return this;var v=w(e,this),y=void 0;if(g(d)&&!g(p))++l,y=f(v,h,p,c);else if(!g(d)&&g(p)){if(--l<=o)return function(e,t,n,r){for(var i=new Array(t-1),a=0,o=0,s=0,l=r.length;s<l;++s)if(s!==n){var c=r[s];c&&!g(c)&&(i[a++]=c,o|=1<<s)}return b(e,o,i)}(e,l,h,c);y=f(v,h,m,c)}else y=f(v,h,p,c);return v?(this.size=l,this.children=y,this):x(e,l,y)};function E(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}m._modify=function(e,t,n,r,i,a,o){var l=r();return l===s?m:(++o.value,v(e,i,a,l))},E.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new E(this._editable,this._edit,this._config,e,t)};var C=n.tryGetHash=function(e,t,n,r){for(var i=r._root,a=0,o=r._config.keyEq;;)switch(i.type){case 1:return o(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,l=0,c=s.length;l<c;++l){var f=s[l];if(o(n,f.key))return f.value}return e;case 3:var p=u(a,t),m=h(p);if(i.mask&m){i=i.children[d(i.mask,m)],a+=5;break}return e;case 4:if(i=i.children[u(a,t)]){a+=5;break}return e;default:return e}};E.prototype.tryGetHash=function(e,t,n){return C(e,t,n,this)};var P=n.tryGet=function(e,t,n){return C(e,n._config.hash(t),t,n)};E.prototype.tryGet=function(e,t){return P(e,t,this)};var k=n.getHash=function(e,t,n){return C(void 0,e,t,n)};E.prototype.getHash=function(e,t){return k(e,t,this)},n.get=function(e,t){return C(void 0,t._config.hash(e),e,t)},E.prototype.get=function(e,t){return P(t,e,this)};var R=n.has=function(e,t,n){return C(s,e,t,n)!==s};E.prototype.hasHash=function(e,t){return R(e,t,this)};var L=n.has=function(e,t){return R(t._config.hash(e),e,t)};E.prototype.has=function(e){return L(e,this)};var I=function(e,t){return e===t};n.make=function(e){return new E(0,0,{keyEq:e&&e.keyEq||I,hash:e&&e.hash||c},m,0)},n.empty=n.make();var N=n.isEmpty=function(e){return e&&!!g(e._root)};E.prototype.isEmpty=function(){return N(this)};var D=n.modifyHash=function(e,t,n,r){var i={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(a,i.value)};E.prototype.modifyHash=function(e,t,n){return D(n,e,t,this)};var O=n.modify=function(e,t,n){return D(e,n._config.hash(t),t,n)};E.prototype.modify=function(e,t){return O(t,e,this)};var z=n.setHash=function(e,t,n,r){return D(l(n),e,t,r)};E.prototype.setHash=function(e,t,n){return z(e,t,n,this)};var U=n.set=function(e,t,n){return z(n._config.hash(e),e,t,n)};E.prototype.set=function(e,t){return U(e,t,this)};var F=l(s),B=n.removeHash=function(e,t,n){return D(F,e,t,n)};E.prototype.removeHash=E.prototype.deleteHash=function(e,t){return B(e,t,this)};var V=n.remove=function(e,t){return B(t._config.hash(e),e,t)};E.prototype.remove=E.prototype.delete=function(e){return V(e,this)};var j=n.beginMutation=function(e){return new E(e._editable+1,e._edit+1,e._config,e._root,e._size)};E.prototype.beginMutation=function(){return j(this)};var H=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};E.prototype.endMutation=function(){return H(this)};var W=n.mutate=function(e,t){var n=j(t);return e(n),H(n)};E.prototype.mutate=function(e){return W(e,this)};var G=function(e){return e&&q(e[0],e[1],e[2],e[3],e[4])},q=function(e,t,n,r,i){for(;n<e;){var a=t[n++];if(a&&!g(a))return X(a,r,[e,t,n,r,i])}return G(i)},X=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return q(r.length,r,0,t,n);default:return G(n)}},Y={done:!0};function Z(e){this.v=e}Z.prototype.next=function(){if(!this.v)return Y;var e=this.v;return this.v=G(e.rest),e},Z.prototype[Symbol.iterator]=function(){return this};var J=function(e,t){return new Z(X(e._root,t))},K=function(e){return[e.key,e.value]},Q=n.entries=function(e){return J(e,K)};E.prototype.entries=E.prototype[Symbol.iterator]=function(){return Q(this)};var $=function(e){return e.key},ee=n.keys=function(e){return J(e,$)};E.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=E.prototype.values=function(e){return J(e,te)};E.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],a=void 0;a=i.pop();)for(var o=0,s=a.length;o<s;){var l=a[o++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):i.push(l.children))}return t};E.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};E.prototype.forEach=function(e){return ie(e,this)};var ae=n.count=function(e){return e._size};E.prototype.count=function(){return ae(this)},Object.defineProperty(E.prototype,"size",{get:E.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},Tk(Ek={exports:{}},Ek.exports),Ek.exports);class Pk{constructor(e){EP(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return Rk(this)}toMap(){return new Map(this._map)}}class kk{constructor(e){if(EP(this,"_hamt",Ck.empty.beginMutation()),e instanceof kk){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return Rk(this)}toMap(){return new Map(this._hamt)}}function Rk(e){return QP("recoil_hamt_2020")?new kk(e):new Pk(e)}var Lk=Rk,Ik=Object.freeze({__proto__:null,persistentMap:Lk});var Nk=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n};var Dk=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function Ok(e,t,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:a}=n,o=i.get(e);if(o&&r&&o!==r.nodeDeps.get(e))return;i.set(e,t);const s=null==o?t:Nk(t,o);for(const l of s){a.has(l)||a.set(l,new Set);TP(a.get(l)).add(e)}if(o){const n=Nk(o,t);for(const t of n){if(!a.has(t))return;const n=TP(a.get(t));n.delete(e),0===n.size&&a.delete(t)}}}var zk={cloneGraph:function(e){return{nodeDeps:Dk(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:Dk(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,n,r){var i,a,o,s;const l=n.getState();r!==l.currentTree.version&&r!==(null===(i=l.nextTree)||void 0===i?void 0:i.version)&&(null===(a=l.previousTree)||void 0===a||a.version);const c=n.getGraph(r);if(Ok(e,t,c),r===(null===(o=l.previousTree)||void 0===o?void 0:o.version)){Ok(e,t,n.getGraph(l.currentTree.version),c)}if(r===(null===(s=l.previousTree)||void 0===s?void 0:s.version)||r===l.currentTree.version){var u;const r=null===(u=l.nextTree)||void 0===u?void 0:u.version;if(void 0!==r){Ok(e,t,n.getGraph(r),c)}}}};let Uk=0;let Fk=0;let Bk=0;var Vk={getNextTreeStateVersion:()=>Uk++,getNextStoreID:()=>Fk++,getNextComponentID:()=>Bk++};const{persistentMap:jk}=Ik,{graph:Hk}=zk,{getNextTreeStateVersion:Wk}=Vk;function Gk(){const e=Wk();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:jk(),nonvalidatedAtoms:jk()}}var qk={makeEmptyTreeState:Gk,makeEmptyStoreState:function(){const e=Gk();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Hk()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:Wk};class Xk{}var Yk={RetentionZone:Xk,retentionZone:function(){return new Xk}};var Zk={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}};var Jk=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};var Kk=function(e,t){return new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)})};const{getNode:Qk,getNodeMaybe:$k,recoilValuesForKeys:eR}=Mk,{RetentionZone:tR}=Yk,{setByAddingToSet:nR}=Zk,rR=Object.freeze(new Set);class iR extends Error{}function aR(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const a=Qk(n),o=function(e,t,n){if(!QP("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof tR)i(n);else if(Array.isArray(n))for(const a of n)i(a);return()=>{if(!QP("recoil_memory_managament_2020"))return;const{retention:r}=e.getState();function i(e){const n=r.nodesRetainedByZone.get(e);null==n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}if(n instanceof tR)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,a.retainedBy),s=a.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{s(),o()}))}function oR(e,t,n){return Qk(n).peek(e,t)}function sR(e,t,n){const r=new Set,i=Array.from(n),a=e.getGraph(t.version);for(let s=i.pop();s;s=i.pop()){var o;r.add(s);const e=null!==(o=a.nodeToNodeSubscriptions.get(s))&&void 0!==o?o:rR;for(const t of e)r.has(t)||i.push(t)}return r}var lR={getNodeLoadable:function(e,t,n){return aR(e,t,n,"get"),Qk(n).get(e,t)},peekNodeLoadable:oR,setNodeValue:function(e,t,n,r){const i=Qk(n);if(null==i.set)throw new iR(`Attempt to set read-only RecoilValue: ${n}`);const a=i.set;return aR(e,t,n,"set"),a(e,t,r)},initializeNode:function(e,t,n){aR(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=$k(t);return null==i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:nR(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){const r=e.getState(),i=e.getGraph(t.version),a=Qk(n).nodeType;return Kk({type:a},{loadable:()=>oR(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>"selector"!==a&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return eR(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var i,a;return{nodes:eR(Jk(sR(e,t,new Set([n])),(e=>e!==n))),components:gk(null!==(i=null===(a=r.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==i?i:[],(([e])=>({name:e})))}}})},getDownstreamNodes:sR};let cR=null;var uR={setInvalidateMemoizedSnapshot:function(e){cR=e},invalidateMemoizedSnapshot:function(){var e;null===(e=cR)||void 0===e||e()}};const{getDownstreamNodes:hR,getNodeLoadable:dR,setNodeValue:fR}=lR,{getNextComponentID:pR}=Vk,{getNode:mR,getNodeMaybe:gR}=Mk,{DefaultValue:vR}=Mk,{reactMode:yR}=ok,{AbstractRecoilValue:bR,RecoilState:xR,RecoilValueReadOnly:_R,isRecoilValue:wR}=mk,{invalidateMemoizedSnapshot:SR}=uR;function MR(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,a=function(e,t,{key:n},r){if("function"==typeof r){const i=dR(e,t,n);if("loading"===i.state)throw MP(`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`);if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,r,i),o=fR(e,t,r.key,a);for(const[e,n]of o.entries())AR(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;AR(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,a=gR(e);null==a||null===(r=a.invalidate)||void 0===r||r.call(a,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else nk(`Unknown action ${n.type}`)}function AR(e,t,n){"hasValue"===n.state&&n.contents instanceof vR?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function TR(e,t){e.replaceState((n=>{const r=PR(n);for(const i of t)MR(e,r,i);return kR(e,r),SR(),r}))}function ER(e,t){if(CR.length){const n=CR[CR.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else TR(e,[t])}const CR=[];function PR(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function kR(e,t){const n=hR(e,t,t.dirtyAtoms);for(const a of n){var r,i;null===(r=gR(a))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function RR(e,t,n){ER(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var LR={RecoilValueReadOnly:_R,AbstractRecoilValue:bR,RecoilState:xR,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;const a=e.getState();n.version!==a.currentTree.version&&n.version!==(null===(r=a.nextTree)||void 0===r?void 0:r.version)&&(n.version,null===(i=a.previousTree)||void 0===i||i.version);const o=dR(e,n,t);return"loading"===o.state&&o.contents.catch((()=>{})),o},setRecoilValue:RR,setRecoilValueLoadable:function(e,t,n){if(n instanceof vR)return RR(e,t,n);ER(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ER(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ER(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const i=pR(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),TP(a.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]);const o=yR();if(o.early&&("LEGACY"===o.mode||"MUTABLE_SOURCE"===o.mode)){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)&&(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t))}}},isRecoilValue:wR,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof vR?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return CR.push(e),()=>{for(const[t,n]of e)TR(t,n);CR.pop()}},writeLoadableToTreeState:AR,invalidateDownstreams:kR,copyTreeState:PR,refreshRecoilValue:function(e,t){var n;const{currentTree:r}=e.getState(),i=mR(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var IR=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:NR}=lR,{deleteNodeConfigIfPossible:DR,getNode:OR}=Mk,{RetentionZone:zR}=Yk,UR=new Set;function FR(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of t)if(o instanceof zR)for(const e of VR(n,o))i.add(e);else i.add(o);const a=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,o=new Set;return s(t),a;function s(t){const l=new Set,c=function(e,t,n,r,i){const a=e.getGraph(t.version),o=[],s=new Set;for(;n.size>0;)l(TP(n.values().next().value));return o;function l(e){if(r.has(e)||i.has(e))return void n.delete(e);if(s.has(e))return;const t=a.nodeToNodeSubscriptions.get(e);if(t)for(const n of t)l(n);s.add(e),n.delete(e),o.push(e)}}(e,r,t,a,o);for(const e of c){var u;if("recoilRoot"===OR(e).retainedBy){o.add(e);continue}if((null!==(u=n.retention.referenceCounts.get(e))&&void 0!==u?u:0)>0){o.add(e);continue}if(jR(e).some((e=>n.retention.referenceCounts.get(e)))){o.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&IR(t,(e=>o.has(e)))?o.add(e):(a.add(e),l.add(e))}const h=new Set;for(const e of l)for(const t of null!==(d=i.nodeDeps.get(e))&&void 0!==d?d:UR){var d;a.has(t)||h.add(t)}h.size&&s(h)}}(e,i);for(const o of a)BR(e,r,o)}function BR(e,t,n){if(!QP("recoil_memory_managament_2020"))return;NR(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=jR(n);for(const l of i){var a;null===(a=r.retention.nodesRetainedByZone.get(l))||void 0===a||a.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(t.version);if(o){const e=o.nodeDeps.get(n);if(void 0!==e){o.nodeDeps.delete(n);for(const t of e){var s;null===(s=o.nodeToNodeSubscriptions.get(t))||void 0===s||s.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}DR(n)}function VR(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:UR}function jR(e){const t=OR(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof zR?[t]:t}function HR(e,t){if(!QP("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):FR(e,new Set([t]))}(e,t)}var WR={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!QP("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,a=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===a?HR(e,t):i.set(t,a)},updateRetainCountToZero:HR,releaseScheduledRetainablesNow:function(e){if(!QP("recoil_memory_managament_2020"))return;const t=e.getState();FR(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:GR}=lh;var qR={unstable_batchedUpdates:GR};const{unstable_batchedUpdates:XR}=qR;var YR={unstable_batchedUpdates:XR};const{batchStart:ZR}=LR,{unstable_batchedUpdates:JR}=YR;let KR=JR||(e=>e());var QR={getBatcher:()=>KR,setBatcher:e=>{KR=e},batchUpdates:e=>{KR((()=>{let t=()=>{};try{t=ZR(),e()}finally{t()}}))}};var $R=function*(e){for(const t of e)for(const e of t)yield e};const eL="undefined"==typeof Window||"undefined"==typeof window,tL="undefined"!=typeof navigator&&"ReactNative"===navigator.product;var nL={isSSR:eL,isReactNative:tL,isWindow:e=>!eL&&(e===window||e instanceof Window)};var rL={memoizeWithArgsHash:function(e,t){let n;return(...r)=>{n||(n={});const i=t(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...r)),n[i]}},memoizeOneWithArgsHash:function(e,t){let n,r;return(...i)=>{const a=t(...i);return n===a||(n=a,r=e(...i)),r}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,r;return[(...i)=>{const a=t(...i);return n===a||(n=a,r=e(...i)),r},()=>{n=null}]}};const{batchUpdates:iL}=QR,{initializeNode:aL,peekNodeInfo:oL}=lR,{graph:sL}=zk,{getNextStoreID:lL}=Vk,{DEFAULT_VALUE:cL,recoilValues:uL,recoilValuesForKeys:hL}=Mk,{AbstractRecoilValue:dL,getRecoilValueAsLoadable:fL,setRecoilValue:pL,setUnvalidatedRecoilValue:mL}=LR,{updateRetainCount:gL}=WR,{setInvalidateMemoizedSnapshot:vL}=uR,{getNextTreeStateVersion:yL,makeEmptyStoreState:bL}=qk,{isSSR:xL}=nL,{memoizeOneWithArgsHashAndInvalidation:_L}=rL;class wL{constructor(e,t){EP(this,"_store",void 0),EP(this,"_refCount",1),EP(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),fL(this._store,e)))),EP(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),EP(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return hL(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?uL.values():!0===e.isInitialized?hL($R([t,n])):Jk(uL.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),EP(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),oL(this._store,this._store.getState().currentTree,e)))),EP(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new TL(this,iL);return e(t),t})),EP(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new TL(this,iL);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t})),this._store={storeID:lL(),parentStoreID:t,getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return TP(n.get(t));const r=sL();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw MP("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().knownAtoms)aL(this._store,n,"get"),gL(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){xL||window.setTimeout((()=>this._release()),10)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((e=>e())),this._store.getState().nodeCleanupFunctions.clear(),!QP("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){QP("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function SL(e,t,n=!1){const r=e.getState(),i=n?yL():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(gk(r.nodeCleanupFunctions.entries(),(([e])=>[e,()=>{}])))}}const[ML,AL]=_L(((e,t)=>{var n;const r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:TP(r.previousTree);return new wL(SL(e,i),e.storeID)}),((e,t)=>{var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)}));vL(AL);class TL extends wL{constructor(e,t){super(SL(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),EP(this,"_batch",void 0),EP(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{gL(n,e.key,1),pL(this.getStore_INTERNAL(),e,t)}))})),EP(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{gL(t,e.key,1),pL(this.getStore_INTERNAL(),e,cL)}))})),EP(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();iL((()=>{for(const[n,r]of e.entries())gL(t,n,1),mL(t,new dL(n),r)}))})),this._batch=t}}var EL={Snapshot:wL,MutableSnapshot:TL,freshSnapshot:function(e){const t=new wL(bL());return null!=e?t.map(e):t},cloneSnapshot:function(e,t="latest"){const n=ML(e,t);return n.isRetained()?n:(AL(),ML(e,t))}},CL=EL.Snapshot,PL=EL.MutableSnapshot,kL=EL.freshSnapshot,RL=EL.cloneSnapshot,LL=Object.freeze({__proto__:null,Snapshot:CL,MutableSnapshot:PL,freshSnapshot:kL,cloneSnapshot:RL});var IL=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t};const{useRef:NL}=V;var DL=function(e){const t=NL(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:OL,makeEmptyStoreState:zL}=qk,{cleanUpNode:UL,getDownstreamNodes:FL,initializeNode:BL,setNodeValue:VL,setUnvalidatedAtomValue_DEPRECATED:jL}=lR,{graph:HL}=zk,{cloneGraph:WL}=zk,{getNextStoreID:GL}=Vk,{createMutableSource:qL,reactMode:XL}=ok,{applyAtomValueWrites:YL}=LR,{releaseScheduledRetainablesNow:ZL}=WR,{freshSnapshot:JL}=LL,{useCallback:KL,useContext:QL,useEffect:$L,useMemo:eI,useRef:tI,useState:nI}=V;function rI(){throw MP("This component must be used inside a <RecoilRoot> component.")}const iI=Object.freeze({storeID:GL(),getState:rI,replaceState:rI,getGraph:rI,subscribeToTransactions:rI,addTransactionMetadata:rI});let aI=!1;function oI(e){if(aI)throw MP("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){QP("recoil_memory_managament_2020")&&QP("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&ZL(e);const n=t.currentTree.version,r=OL();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,WL(TP(t.graphsByVersion.get(n))))}}const sI=V.createContext({current:iI}),lI=()=>QL(sI),cI=V.createContext(null);function uI(e,t,n){const r=FL(e,n,n.dirtyAtoms);for(const i of r){const e=t.nodeToComponentSubscriptions.get(i);if(e)for(const[t,[r,i]]of e)i(n)}}function hI(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,r]of i)r(e);for(const[n,r]of t.transactionSubscriptions)r(e);(!XL().early||t.suspendedComponentResolvers.size>0)&&(uI(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function dI({setNotifyBatcherOfChange:e}){const t=lI(),[,n]=nI([]);return e((()=>n({}))),$L((()=>(e((()=>n({}))),()=>{e((()=>{}))})),[e]),$L((()=>{Ak.enqueueExecution("Batcher",(()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,hI(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):nk("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,QP("recoil_memory_managament_2020")&&null==n&&ZL(e)}finally{t.commitDepth--}}(t.current)}))})),null}let fI=0;function pI({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let i;const a=e=>{const t=i.current.graphsByVersion;if(t.has(e))return TP(t.get(e));const n=HL();return t.set(e,n),n},o=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=h.current.getState(),n=fI++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=h.current.getState();n.has(t)||n.set(t,new Map);const r=fI++;return TP(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},s=e=>{oI(h.current);for(const t of Object.keys(e))TP(h.current.getState().nextTree).transactionMetadata[t]=e[t]},l=e=>{oI(h.current);const t=TP(i.current.nextTree);let n;try{aI=!0,n=e(t)}finally{aI=!1}n!==t&&(i.current.nextTree=n,XL().early&&uI(h.current,i.current,n),TP(c.current)())},c=tI(null),u=KL((e=>{c.current=e}),[c]),h=DL((()=>null!=n?n:{storeID:GL(),getState:()=>i.current,replaceState:l,getGraph:a,subscribeToTransactions:o,addTransactionMetadata:s}));null!=n&&(h.current=n),i=DL((()=>null!=e?function(e,t){const n=zL();return t({set:(t,r)=>{const i=n.currentTree,a=VL(e,i,t.key,r),o=new Set(a.keys()),s=i.nonvalidatedAtoms.clone();for(const e of o)s.delete(e);n.currentTree={...i,dirtyAtoms:IL(i.dirtyAtoms,o),atomValues:YL(i.atomValues,a),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=jL(n.currentTree,t,e)}))}}),n}(h.current,e):null!=t?function(e){const t=JL(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((e=>e())),n.nodeCleanupFunctions.clear(),n}(t):zL()));const d=eI((()=>null==qL?void 0:qL(i,(()=>i.current.currentTree.version))),[i]);return $L((()=>{const e=h.current;for(const t of new Set(e.getState().knownAtoms))BL(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)UL(e,t)}}),[h]),V.createElement(sI.Provider,{value:h},V.createElement(cI.Provider,{value:d},V.createElement(dI,{setNotifyBatcherOfChange:u}),r))}var mI={RecoilRoot:function(e){const{override:t,...n}=e,r=lI();return!1===t&&r.current!==iI?e.children:V.createElement(pI,n)},useStoreRef:lI,useRecoilMutableSource:function(){return QL(cI)},useRecoilStoreID:function(){return lI().current.storeID},notifyComponents_FOR_TESTING:uI,sendEndOfBatchNotifications_FOR_TESTING:hI};var gI=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};const{useEffect:vI,useRef:yI}=V;var bI=function(e){const t=yI();return vI((()=>{t.current=e})),t.current};const{useStoreRef:xI}=mI,{SUSPENSE_TIMEOUT_MS:_I}=WR,{updateRetainCount:wI}=WR,{RetentionZone:SI}=Yk,{useEffect:MI,useRef:AI}=V,{isSSR:TI}=nL;var EI=function(e){if(QP("recoil_memory_managament_2020"))return function(e){const t=Array.isArray(e)?e:[e],n=t.map((e=>e instanceof SI?e:e.key)),r=xI();MI((()=>{if(!QP("recoil_memory_managament_2020"))return;const e=r.current;if(i.current&&!TI)window.clearTimeout(i.current),i.current=null;else for(const t of n)wI(e,t,1);return()=>{for(const t of n)wI(e,t,-1)}}),[r,...n]);const i=AI(),a=bI(n);if(!(TI||void 0!==a&&gI(a,n))){const e=r.current;for(const t of n)wI(e,t,1);if(a)for(const t of a)wI(e,t,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout((()=>{i.current=null;for(const t of n)wI(e,t,-1)}),_I)}}(e)};var CI=function(){return"<component name not available>"};const{batchUpdates:PI}=QR,{DEFAULT_VALUE:kI}=Mk,{currentRendererSupportsUseSyncExternalStore:RI,reactMode:LI,useMutableSource:II,useSyncExternalStore:NI}=ok,{useRecoilMutableSource:DI,useStoreRef:OI}=mI,{AbstractRecoilValue:zI,getRecoilValueAsLoadable:UI,setRecoilValue:FI,setUnvalidatedRecoilValue:BI,subscribeToRecoilValue:VI}=LR,{useCallback:jI,useEffect:HI,useMemo:WI,useRef:GI,useState:qI}=V,{setByAddingToSet:XI}=Zk,{isSSR:YI}=nL;function ZI(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise((t=>{const r=n.current.getState().suspendedComponentResolvers;r.add(t),YI&&AP(e.contents)&&e.contents.finally((()=>{r.delete(t)}))}))}throw"hasError"===e.state?e.contents:MP(`Invalid value of loadable atom "${t.key}"`)}function JI(e){const t=OI(),n=CI(),r=jI((()=>{var n;const r=t.current,i=r.getState(),a=LI().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:UI(r,e,a),key:e.key}}),[t,e]),i=jI((e=>{let t;return()=>{var n,r;const i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),a=WI((()=>i(r)),[r,i]),o=jI((r=>{const i=t.current;return VI(i,e,r,n).release}),[t,e,n]);return NI(o,a,a).loadable}function KI(e){const t=OI(),n=jI((()=>{var n;const r=t.current,i=r.getState(),a=LI().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return UI(r,e,a)}),[t,e]),r=jI((()=>n()),[n]),i=CI(),a=jI(((r,a)=>{const o=t.current;return VI(o,e,(()=>{if(!QP("recoil_suppress_rerender_in_callback"))return a();const e=n();l.current.is(e)||a(),l.current=e}),i).release}),[t,e,i,n]),o=DI();if(null==o)throw MP("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const s=II(o,r,a),l=GI(s);return HI((()=>{l.current=s})),s}function QI(e){const t=OI(),n=CI(),r=jI((()=>{var n;const r=t.current,i=r.getState(),a=LI().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return UI(r,e,a)}),[t,e]),i=jI((()=>({loadable:r(),key:e.key})),[r,e.key]),a=jI((e=>{const t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);HI((()=>{const r=VI(t.current,e,(e=>{s(a)}),n);return s(a),r.release}),[n,e,t,a]);const[o,s]=qI(i);return o.key!==e.key?i().loadable:o.loadable}function $I(e){const t=OI(),[,n]=qI([]),r=CI(),i=jI((()=>{var n;const r=t.current,i=r.getState(),a=LI().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return UI(r,e,a)}),[t,e]),a=i(),o=GI(a);return HI((()=>{o.current=a})),HI((()=>{const a=t.current,s=a.getState(),l=VI(a,e,(e=>{var t;if(!QP("recoil_suppress_rerender_in_callback"))return n([]);const r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r}),r);if(s.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{o.current=null,n([])}));else{var c;if(!QP("recoil_suppress_rerender_in_callback"))return n([]);const e=i();null!==(c=o.current)&&void 0!==c&&c.is(e)||n(e),o.current=e}return l.release}),[r,i,e,t]),a}function eN(e){return QP("recoil_memory_managament_2020")&&EI(e),{TRANSITION_SUPPORT:QI,SYNC_EXTERNAL_STORE:RI()?JI:QI,MUTABLE_SOURCE:KI,LEGACY:$I}[LI().mode](e)}function tN(e){const t=OI();return ZI(eN(e),e,t)}function nN(e){const t=OI();return jI((n=>{FI(t.current,e,n)}),[t,e])}function rN(e){return QP("recoil_memory_managament_2020")&&EI(e),QI(e)}function iN(e){const t=OI();return ZI(rN(e),e,t)}var aN={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=CI(),t=OI(),[,n]=qI([]),r=GI(new Set);r.current=new Set;const i=GI(new Set),a=GI(new Map),o=jI((e=>{const t=a.current.get(e);t&&(t.release(),a.current.delete(e))}),[a]),s=jI(((e,t)=>{a.current.has(t)&&n([])}),[]);return HI((()=>{const n=t.current;Nk(r.current,i.current).forEach((t=>{if(a.current.has(t))return;const r=VI(n,new zI(t),(e=>s(e,t)),e);a.current.set(t,r);n.getState().nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{s(n.getState(),t)})):s(n.getState(),t)})),Nk(i.current,r.current).forEach((e=>{o(e)})),i.current=r.current})),HI((()=>{const n=a.current;return Nk(r.current,new Set(n.keys())).forEach((r=>{const i=VI(t.current,new zI(r),(e=>s(e,r)),e);n.set(r,i)})),()=>n.forEach(((e,t)=>o(t)))}),[e,t,o,s]),WI((()=>{function e(e){return n=>{FI(t.current,e,n)}}function n(e){var n;r.current.has(e.key)||(r.current=XI(r.current,e.key));const i=t.current.getState();return UI(t.current,e,LI().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)}function i(e){return ZI(n(e),e,t)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(t){return[i(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>FI(t.current,e,kI)}}}),[r,t])},useRecoilState:function(e){return[tN(e),nN(e)]},useRecoilStateLoadable:function(e){return[eN(e),nN(e)]},useRecoilValue:tN,useRecoilValueLoadable:eN,useResetRecoilState:function(e){const t=OI();return jI((()=>{FI(t.current,e,kI)}),[t,e])},useSetRecoilState:nN,useSetUnvalidatedAtomValues:function(){const e=OI();return(t,n={})=>{PI((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>BI(e.current,new zI(n),t)))}))}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:rN,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:iN,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[iN(e),nN(e)]}};var oN=function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n};var sN=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n};var lN=function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t};const{batchUpdates:cN}=QR,{DEFAULT_VALUE:uN,getNode:hN,nodes:dN}=Mk,{useStoreRef:fN}=mI,{AbstractRecoilValue:pN,setRecoilValueLoadable:mN}=LR,{SUSPENSE_TIMEOUT_MS:gN}=WR,{cloneSnapshot:vN}=LL,{useCallback:yN,useEffect:bN,useRef:xN,useState:_N}=V,{isSSR:wN}=nL;function SN(e){const t=fN();bN((()=>t.current.subscribeToTransactions(e).release),[e,t])}function MN(e){const t=e.atomValues.toMap(),n=Dk(oN(t,((e,t)=>{const n=hN(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return lN(e.nonvalidatedAtoms.toMap(),n)}function AN(e,t){var n;const r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;cN((()=>{const n=new Set;for(const e of[i.atomValues.keys(),a.atomValues.keys()])for(const t of e){var r,o;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(o=a.atomValues.get(t))||void 0===o?void 0:o.contents)&&hN(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{mN(e,new pN(t),a.atomValues.has(t)?TP(a.atomValues.get(t)):uN)})),e.replaceState((e=>({...e,stateID:t.getID()})))}))}var TN={useRecoilSnapshot:function(){const e=fN(),[t,n]=_N((()=>vN(e.current))),r=bI(t),i=xN(),a=xN();if(SN(yN((e=>n(vN(e))),[])),bN((()=>{const e=t.retain();var n;i.current&&!wN&&(window.clearTimeout(i.current),i.current=null,null===(n=a.current)||void 0===n||n.call(a),a.current=null);return()=>{window.setTimeout(e,10)}}),[t]),r!==t&&!wN){var o;if(i.current)window.clearTimeout(i.current),i.current=null,null===(o=a.current)||void 0===o||o.call(a),a.current=null;a.current=t.retain(),i.current=window.setTimeout((()=>{var e;i.current=null,null===(e=a.current)||void 0===e||e.call(a),a.current=null}),gN)}return t},gotoSnapshot:AN,useGotoRecoilSnapshot:function(){const e=fN();return yN((t=>AN(e.current,t)),[e])},useRecoilTransactionObserver:function(e){SN(yN((t=>{const n=vN(t,"latest"),r=vN(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){SN(yN((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(n=t.getState().currentTree);const i=MN(r),a=MN(n),o=Dk(dN,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),s=sN(r.dirtyAtoms,(e=>i.has(e)||a.has(e)));e({atomValues:i,previousAtomValues:a,atomInfo:o,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:SN};const{peekNodeInfo:EN}=lR,{useStoreRef:CN}=mI;var PN=function(){const e=CN();return({key:t})=>EN(e.current,e.current.getState().currentTree,t)};const{reactMode:kN}=ok,{RecoilRoot:RN,useStoreRef:LN}=mI,{useMemo:IN}=V;var NN=function(){kN().mode;const e=LN().current;return IN((()=>function({children:t}){return V.createElement(RN,{store_INTERNAL:e},t)}),[e])};const{loadableWithValue:DN}=XP,{initializeNode:ON}=lR,{DEFAULT_VALUE:zN,getNode:UN}=Mk,{copyTreeState:FN,getRecoilValueAsLoadable:BN,invalidateDownstreams:VN,writeLoadableToTreeState:jN}=LR;function HN(e){return"atom"===UN(e.key).nodeType}class WN{constructor(e,t){EP(this,"_store",void 0),EP(this,"_treeState",void 0),EP(this,"_changes",void 0),EP(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!HN(e))throw MP("Reading selectors within atomicUpdate is not supported");const t=BN(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:MP(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),EP(this,"set",((e,t)=>{if(!HN(e))throw MP("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else ON(this._store,e.key,"set"),this._changes.set(e.key,t)})),EP(this,"reset",(e=>{this.set(e,zN)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=FN(this._treeState);for(const[t,n]of this._changes)jN(e,t,DN(n));return VN(this._store,e),e}}var GN=function(e){return t=>{e.replaceState((n=>{const r=new WN(e,n);return t(r),r.newTreeState_INTERNAL()}))}},qN=GN,XN=Object.freeze({__proto__:null,atomicUpdater:qN});var YN=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:ZN}=XN,{batchUpdates:JN}=QR,{DEFAULT_VALUE:KN}=Mk,{useStoreRef:QN}=mI,{refreshRecoilValue:$N,setRecoilValue:eD}=LR,{cloneSnapshot:tD}=LL,{gotoSnapshot:nD}=TN,{useCallback:rD}=V;class iD{}const aD=new iD;function oD(e,t,n,r){let i,a=aD;var o;(JN((()=>{const o="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw MP(o);const s=Kk({...null!=r?r:{},set:(t,n)=>eD(e,t,n),reset:t=>eD(e,t,KN),refresh:t=>$N(e,t),gotoSnapshot:t=>nD(e,t),transact_UNSTABLE:t=>ZN(e)(t)},{snapshot:()=>{const t=tD(e);return i=t.retain(),t}}),l=t(s);if("function"!=typeof l)throw MP(o);a=l(...n)})),a instanceof iD&&YN(!1),AP(a))?a=a.finally((()=>{var e;null===(e=i)||void 0===e||e()})):null===(o=i)||void 0===o||o();return a}var sD={recoilCallback:oD,useRecoilCallback:function(e,t){const n=QN();return rD(((...t)=>oD(n.current,e,t)),null!=t?[...t,n]:void 0)}};const{useStoreRef:lD}=mI,{refreshRecoilValue:cD}=LR,{useCallback:uD}=V;var hD=function(e){const t=lD();return uD((()=>{const n=t.current;cD(n,e)}),[e,t])};const{atomicUpdater:dD}=XN,{useStoreRef:fD}=mI,{useMemo:pD}=V;var mD=function(e,t){const n=fD();return pD((()=>(...t)=>{dD(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)};var gD=class{constructor(e){EP(this,"value",void 0),this.value=e}},vD=Object.freeze({__proto__:null,WrappedValue:gD});const{isFastRefreshEnabled:yD}=ok;class bD extends Error{}var xD=class{constructor(e){var t,n,r;EP(this,"_name",void 0),EP(this,"_numLeafs",void 0),EP(this,"_root",void 0),EP(this,"_onHit",void 0),EP(this,"_onSet",void 0),EP(this,"_mapNodeValue",void 0),this._name=null==e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){if(null==this._root)return;let n=this._root;for(;n;){if(null==t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;const r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}set(e,t,n){const r=()=>{var r,i,a,o;let s,l;for(const[t,p]of e){var c,u,h;const e=this._root;if("leaf"===(null==e?void 0:e.type))throw this.invalidCacheError();const r=s;if(s=r?r.branches.get(l):e,s=null!==(c=s)&&void 0!==c?c:{type:"branch",nodeKey:t,parent:r,branches:new Map,branchKey:l},"branch"!==s.type||s.nodeKey!==t)throw this.invalidCacheError();null==r||r.branches.set(l,s),null==n||null===(u=n.onNodeVisit)||void 0===u||u.call(n,s),l=this._mapNodeValue(p),this._root=null!==(h=this._root)&&void 0!==h?h:s}const d=s?null===(r=s)||void 0===r?void 0:r.branches.get(l):this._root;if(null!=d&&("leaf"!==d.type||d.branchKey!==l))throw this.invalidCacheError();const f={type:"leaf",value:t,parent:s,branchKey:l};null===(i=s)||void 0===i||i.branches.set(l,f),this._root=null!==(a=this._root)&&void 0!==a?a:f,this._numLeafs++,this._onSet(f),null==n||null===(o=n.onNodeVisit)||void 0===o||o.call(n,f)};try{r()}catch(i){if(!(i instanceof bD))throw i;this.clear(),r()}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let n=e.parent,r=e.branchKey;for(;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=yD()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw nk(e+(null!=this._name?` - ${this._name}`:"")),new bD}},_D=Object.freeze({__proto__:null,TreeCache:xD});var wD=class{constructor(e){var t;EP(this,"_maxSize",void 0),EP(this,"_size",void 0),EP(this,"_head",void 0),EP(this,"_tail",void 0),EP(this,"_map",void 0),EP(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=TP(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},SD=Object.freeze({__proto__:null,LRUCache:wD});const{LRUCache:MD}=SD,{TreeCache:AD}=_D;var TD=function({name:e,maxSize:t,mapNodeValue:n=(e=>e)}){const r=new MD({maxSize:t}),i=new AD({name:e,mapNodeValue:n,onHit:e=>{r.set(e,!0)},onSet:e=>{const n=r.tail();r.set(e,!0),n&&i.size()>t&&i.delete(n.key)}});return i};function ED(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw MP("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!=typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(AP(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>ED(e,t,n.toString())))}]`;if("function"==typeof e.toJSON)return ED(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"==typeof n?n:ED(n,t)]=i;return ED(r,t,n)}return e instanceof Set?ED(Array.from(e).sort(((e,n)=>ED(e,t).localeCompare(ED(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?ED(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${ED(n,t)}:${ED(e[n],t,n)}`)).join(",")}}`}var CD=function(e,t={allowFunctions:!1}){return ED(e,t)};const{TreeCache:PD}=_D,kD={equality:"reference",eviction:"keep-all",maxSize:1/0};var RD=function({equality:e=kD.equality,eviction:t=kD.eviction,maxSize:n=kD.maxSize}=kD,r){const i=function(e){switch(e){case"reference":return e=>e;case"value":return e=>CD(e)}throw MP(`Unrecognized equality policy ${e}`)}(e);return function(e,t,n,r){switch(e){case"keep-all":return new PD({name:r,mapNodeValue:n});case"lru":return TD({name:r,maxSize:TP(t),mapNodeValue:n});case"most-recent":return TD({name:r,maxSize:1,mapNodeValue:n})}throw MP(`Unrecognized eviction policy ${e}`)}(t,n,i,r)};var LD={startPerfBlock:function(e){return()=>null}};const{isLoadable:ID,loadableWithError:ND,loadableWithPromise:DD,loadableWithValue:OD}=XP,{WrappedValue:zD}=vD,{getNodeLoadable:UD,peekNodeLoadable:FD,setNodeValue:BD}=lR,{saveDepsToStore:VD}=zk,{DEFAULT_VALUE:jD,getConfigDeletionHandler:HD,getNode:WD,registerNode:GD}=Mk,{isRecoilValue:qD}=mk,{markRecoilValueModified:XD}=LR,{retainedByOptionWithDefault:YD}=WR,{recoilCallback:ZD}=sD,{startPerfBlock:JD}=LD;class KD{}const QD=new KD,$D=[],eO=new Map,tO=(()=>{let e=0;return()=>e++})();function nO(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,a=null!=e.set?e.set:void 0,o=new Set,s=RD(null!=i?i:{equality:"reference",eviction:"keep-all"},n),l=YD(e.retainedBy_UNSTABLE),c=new Map;let u=0;function h(){return!QP("recoil_memory_managament_2020")||u>0}function d(e){return e.getState().knownSelectors.add(n),u++,()=>{u--}}function f(){return void 0!==HD(n)&&!h()}function p(e,t,n,r,i){E(t,r,i),m(e,n)}function m(e,t){T(e,t)&&A(e),g(t,!0)}function g(e,n){const r=eO.get(e);if(null!=r){for(const e of r)XD(e,TP(t));n&&eO.delete(e)}}function v(e,t){let n=eO.get(t);null==n&&eO.set(t,n=new Set),n.add(e)}function y(e,t,n,r,i,a){return t.then((r=>{if(!h())throw A(e),QD;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,OD(r)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const o=_(e,n);if(o&&"loading"!==o.state){if((T(e,i)||null==M(e))&&m(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!T(e,i)){const t=S(e,n);if(null!=t)return t.loadingLoadable.contents}const[s,l]=x(e,n,i);if("loading"!==s.state&&p(e,n,i,s,l),"hasError"===s.state)throw s.contents;return s.contents})).catch((t=>{if(t instanceof KD)throw QD;if(!h())throw A(e),QD;const a=ND(t);throw p(e,n,i,a,r),t}))}function b(e,t,r,i){var a,s,l,c,u,h,d;(T(e,i)||t.version===(null===(a=e.getState())||void 0===a||null===(s=a.currentTree)||void 0===s?void 0:s.version)||t.version===(null===(l=e.getState())||void 0===l||null===(c=l.nextTree)||void 0===c?void 0:c.version))&&VD(n,r,e,null!==(u=null===(h=e.getState())||void 0===h||null===(d=h.nextTree)||void 0===d?void 0:d.version)&&void 0!==u?u:e.getState().currentTree.version);for(const n of r)o.add(n)}function x(e,i,a){const o=JD(n);let s=!0,l=!0;const c=()=>{o(),l=!1};let u,d,f=!1;const m={loadingDepKey:null,loadingDepPromise:null},v=new Map;function x({key:t}){const n=UD(e,i,t);switch(v.set(t,n),s||(b(e,i,new Set(v.keys()),a),function(e,t){T(e,t)&&(TP(M(e)).stateVersions.clear(),g(t,!1))}(e,a)),n.state){case"hasValue":return n.contents;case"hasError":throw n.contents;case"loading":throw m.loadingDepKey=t,m.loadingDepPromise=n.contents,n.contents}throw MP("Invalid Loadable state")}const _=n=>(...r)=>{if(l)throw MP("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null==t&&YN(!1),ZD(e,n,r,{node:t})};try{u=r({get:x,getCallback:_}),u=qD(u)?x(u):u,ID(u)&&("hasError"===u.state&&(f=!0),u=u.contents),AP(u)?u=function(e,t,n,r,i,a){return t.then((t=>{if(!h())throw A(e),QD;const a=OD(t);return p(e,n,i,a,r),t})).catch((t=>{if(!h())throw A(e),QD;if(AP(t))return y(e,t,n,r,i,a);const o=ND(t);throw p(e,n,i,o,r),t}))}(e,u,i,v,a,m).finally(c):c(),u=u instanceof zD?u.value:u}catch(w){u=w,AP(u)?u=y(e,u,i,v,a,m).finally(c):(f=!0,c())}return d=f?ND(u):AP(u)?DD(u):OD(u),s=!1,function(e,t,n){if(T(e,t)){const t=M(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,a,v),b(e,i,new Set(v.keys()),a),[d,v]}function _(e,t){let r=t.atomValues.get(n);if(null!=r)return r;const i=new Set;try{r=s.get((n=>("string"!=typeof n&&YN(!1),UD(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&i.add(e.nodeKey)}})}catch(o){throw MP(`Problem with cache lookup for selector "${n}": ${o.message}`)}var a;r&&(t.atomValues.set(n,r),b(e,t,i,null===(a=M(e))||void 0===a?void 0:a.executionID));return r}function w(e,t){const n=_(e,t);if(null!=n)return A(e),n;const r=S(e,t);var i;if(null!=r)return"loading"===(null===(i=r.loadingLoadable)||void 0===i?void 0:i.state)&&v(e,r.executionID),r.loadingLoadable;const a=tO(),[o,s]=x(e,t,a);return"loading"===o.state?(!function(e,t,n,r,i){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,a,o,s,t),v(e,a)):(A(e),E(t,o,s)),o}function S(e,t){const n=$R([c.has(e)?[TP(c.get(e))]:[],gk(Jk(c,(([t])=>t!==e)),(([,e])=>e))]);function r(n){for(const[r,i]of n)if(!UD(e,t,r).is(i))return!0;return!1}for(const i of n){if(i.stateVersions.get(t.version)||!r(i.depValuesDiscoveredSoFarDuringAsyncWork))return i.stateVersions.set(t.version,!0),i;i.stateVersions.set(t.version,!1)}}function M(e){return c.get(e)}function A(e){c.delete(e)}function T(e,t){var n;return t===(null===(n=M(e))||void 0===n?void 0:n.executionID)}function E(e,t,r){e.atomValues.set(n,t);try{s.set(function(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}(r),t)}catch(i){throw MP(`Problem with setting cache for selector "${n}": ${i.message}`)}}function C(e,t){const r=t.atomValues.get(n);return null!=r?r:s.get((n=>{var r;return"string"!=typeof n&&YN(!1),null===(r=FD(e,t,n))||void 0===r?void 0:r.contents}))}function P(e,t){return function(e){if($D.includes(n)){const e=`Recoil selector has circular dependencies: ${$D.slice($D.indexOf(n)).join(" → ")}`;return ND(MP(e))}$D.push(n);try{return e()}finally{$D.pop()}}((()=>w(e,t)))}function k(e){e.atomValues.delete(n)}function R(e,n){null==t&&YN(!1);for(const t of o){var r;const i=WD(t);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}o.clear(),k(n),s.clear(),XD(e,t)}if(null!=a){return t=GD({key:n,nodeType:"selector",peek:C,get:P,set:(e,t,r)=>{let i=!1;const o=new Map;function s({key:r}){if(i)throw MP("Recoil: Async selector sets are not currently supported.");const a=UD(e,t,r);if("hasValue"===a.state)return a.contents;if("loading"===a.state){throw MP(`Getting value of asynchronous atom or selector "${r}" in a pending state while setting selector "${n}" is not yet supported.`)}throw a.contents}function l(n,r){if(i){throw MP("Recoil: Async selector sets are not currently supported.")}const a="function"==typeof r?r(s(n)):r;BD(e,t,n.key,a).forEach(((e,t)=>o.set(t,e)))}const c=a({set:l,get:s,reset:function(e){l(e,jD)}},r);if(void 0!==c)throw AP(c)?MP("Recoil: Async selector sets are not currently supported."):MP("Recoil: selector set should be a void function.");return i=!0,o},init:d,invalidate:k,clearCache:R,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}return t=GD({key:n,nodeType:"selector",peek:C,get:P,init:d,invalidate:k,clearCache:R,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}nO.value=e=>new zD(e);var rO=nO;const{isLoadable:iO,loadableWithError:aO,loadableWithPromise:oO,loadableWithValue:sO}=XP,{WrappedValue:lO}=vD,{peekNodeInfo:cO}=lR,{DEFAULT_VALUE:uO,DefaultValue:hO,getConfigDeletionHandler:dO,registerNode:fO,setConfigDeletionHandler:pO}=Mk,{isRecoilValue:mO}=mk,{getRecoilValueAsLoadable:gO,markRecoilValueModified:vO,setRecoilValue:yO,setRecoilValueLoadable:bO}=LR,{retainedByOptionWithDefault:xO}=WR,_O=e=>e instanceof lO?e.value:e;function wO(e){const{key:t,persistence_UNSTABLE:n}=e,r=xO(e.retainedBy_UNSTABLE);let i=0;function a(e){return oO(e.then((e=>(s=sO(e),e))).catch((e=>{throw s=aO(e),e})))}let o,s=AP(e.default)?a(e.default):iO(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:sO(_O(e.default));s.contents;const l=new Map;function c(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:o)&&void 0!==r?r:s}const u=fO({key:t,nodeType:"atom",peek:c,get:function(e,r){if(r.atomValues.has(t))return TP(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=o)return o;if(null==n)return s;const e=r.nonvalidatedAtoms.get(t),i=n.validator(e,uO),a=i instanceof hO?s:sO(i);return o=a,o}return s},set:function(e,n,r){if(n.atomValues.has(t)){const e=TP(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof hO)return new Map;return o=void 0,(new Map).set(t,sO(r))},init:function(n,r,a){var o;if(i++,n.getState().knownAtoms.add(t),"loading"===s.state){const e=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||vO(n,u)};s.contents.finally(e)}const h=null!==(o=e.effects)&&void 0!==o?o:e.effects_UNSTABLE;if(null!=h){let e=function(e){if(g&&e.key===t){const e=m;return e instanceof hO?c(n,r):AP(e)?oO(e.then((e=>e instanceof hO?s.toPromise():e))):sO(e)}return gO(n,e)},i=function(t){return e(t).toPromise()},o=function(r){var i;const a=cO(n,null!==(i=n.getState().nextTree)&&void 0!==i?i:n.getState().currentTree,r.key);return!g||r.key!==t||m instanceof hO?a:{...a,isSet:!0,loadable:e(r)}};let m=uO,g=!0,v=!1,y=null;const b=t=>r=>{if(g){const n=e(u),i="hasValue"===n.state?n.contents:uO;m="function"==typeof r?r(i):r,AP(m)&&(m=m.then((e=>(y={effect:t,value:e},e))))}else{if(AP(r))throw MP("Setting atoms to async values is not implemented.");"function"!=typeof r&&(y={effect:t,value:_O(r)}),yO(n,u,"function"==typeof r?e=>{const n=_O(r(e));return y={effect:t,value:n},n}:_O(r))}},x=e=>()=>b(e)(uO),_=e=>r=>{var i;const{release:a}=n.subscribeToTransactions((n=>{var i;let{currentTree:a,previousTree:o}=n.getState();o||(o=a);const l=null!==(i=a.atomValues.get(t))&&void 0!==i?i:s;if("hasValue"===l.state){var c,u,h,d;const n=l.contents,i=null!==(c=o.atomValues.get(t))&&void 0!==c?c:s,f="hasValue"===i.state?i.contents:uO;(null===(u=y)||void 0===u?void 0:u.effect)!==e||(null===(h=y)||void 0===h?void 0:h.value)!==n?r(n,f,!a.atomValues.has(t)):(null===(d=y)||void 0===d?void 0:d.effect)===e&&(y=null)}}),t);l.set(n,[...null!==(i=l.get(n))&&void 0!==i?i:[],a])};for(const t of h)try{const r=t({node:u,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:a,setSelf:b(t),resetSelf:x(t),onSet:_(t),getPromise:i,getLoadable:e,getInfo_UNSTABLE:o});var d;if(null!=r)l.set(n,[...null!==(d=l.get(n))&&void 0!==d?d:[],r])}catch(p){m=p,v=!0}if(g=!1,!(m instanceof hO)){var f;const e=v?aO(m):AP(m)?oO(function(e,n){const r=n.then((n=>{var i,a;return(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&yO(e,u,n),n})).catch((n=>{var i,a;throw(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&bO(e,u,aO(n)),n}));return r}(n,m)):sO(_O(m));e.contents,r.atomValues.set(t,e),null===(f=n.getState().nextTree)||void 0===f||f.atomValues.set(t,e)}}return()=>{var e;i--,null===(e=l.get(n))||void 0===e||e.forEach((e=>e())),l.delete(n)}},invalidate:function(){o=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==dO(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return u}function SO(e){const{...t}=e,n="default"in e?e.default:new Promise((()=>{}));return mO(n)?function(e){const t=SO({...e,default:uO,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof hO?t:TP(e.persistence_UNSTABLE).validator(t,uO)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=rO({key:`${e.key}__withFallback`,get:({get:n})=>{const r=n(t);return r instanceof hO?e.default:r},set:({set:e},n)=>e(t,n),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return pO(n.key,dO(e.key)),n}({...t,default:n}):wO({...t,default:n})}SO.value=e=>new lO(e);var MO=SO;var AO=class{constructor(e){var t;EP(this,"_map",void 0),EP(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},TO=Object.freeze({__proto__:null,MapCache:AO});const{LRUCache:EO}=SD,{MapCache:CO}=TO,PO={equality:"reference",eviction:"none",maxSize:1/0};var kO=function({equality:e=PO.equality,eviction:t=PO.eviction,maxSize:n=PO.maxSize}=PO){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>CD(e)}throw MP(`Unrecognized equality policy ${e}`)}(e);return function(e,t,n){switch(e){case"keep-all":return new CO({mapKey:n});case"lru":return new EO({mapKey:n,maxSize:TP(t)});case"most-recent":return new EO({mapKey:n,maxSize:1})}throw MP(`Unrecognized eviction policy ${e}`)}(t,n,r)};const{setConfigDeletionHandler:RO}=Mk;var LO=function(e){var t,n;const r=kO({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,i;const a=r.get(t);if(null!=a)return a;const{cachePolicyForParams_UNSTABLE:o,...s}=e,l="default"in e?e.default:new Promise((()=>{})),c=MO({...s,key:`${e.key}__${null!==(n=CD(t))&&void 0!==n?n:"void"}`,default:"function"==typeof l?l(t):l,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE});return r.set(t,c),RO(c.key,(()=>{r.delete(t)})),c}};const{setConfigDeletionHandler:IO}=Mk;let NO=0;var DO=function(e){var t,n;const r=kO({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let i;try{i=r.get(t)}catch(u){throw MP(`Problem with cache lookup for selector ${e.key}: ${u.message}`)}if(null!=i)return i;const a=`${e.key}__selectorFamily/${null!==(n=CD(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${NO++}`,o=n=>e.get(t)(n),s=e.cachePolicy_UNSTABLE,l="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let c;if(null!=e.set){const n=e.set;c=rO({key:a,get:o,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else c=rO({key:a,get:o,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(t,c),IO(c.key,(()=>{r.delete(t)})),c}};const OO=DO({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var zO=function(e){return OO(e)};const UO=DO({key:"__error",get:e=>()=>{throw MP(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var FO=function(e){return UO(e)};var BO=function(e){return e};const{loadableWithError:VO,loadableWithPromise:jO,loadableWithValue:HO}=XP;function WO(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,a]of t.entries())try{n[i]=e(a)}catch(TG){r[i]=TG}return[n,r]}function GO(e){return null!=e&&!AP(e)}function qO(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function XO(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function YO(e,t,n){return XO(e,n.map(((e,n)=>null==e?HO(t[n]):AP(e)?jO(e):VO(e))))}const ZO=DO({key:"__waitForNone",get:e=>({get:t})=>{const n=qO(e),[r,i]=WO(t,n);return YO(e,r,i)},dangerouslyAllowMutability:!0}),JO=DO({key:"__waitForAny",get:e=>({get:t})=>{const n=qO(e),[r,i]=WO(t,n);return i.some((e=>!AP(e)))?YO(e,r,i):new Promise((t=>{for(const[n,a]of i.entries())AP(a)&&a.then((a=>{r[n]=a,i[n]=void 0,t(YO(e,r,i))})).catch((a=>{i[n]=a,t(YO(e,r,i))}))}))},dangerouslyAllowMutability:!0}),KO=DO({key:"__waitForAll",get:e=>({get:t})=>{const n=qO(e),[r,i]=WO(t,n);if(i.every((e=>null==e)))return XO(e,r);const a=i.find(GO);if(null!=a)throw a;return Promise.all(i).then((t=>{return XO(e,(n=r,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),QO=DO({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=qO(e),[r,i]=WO(t,n);return i.every((e=>!AP(e)))?YO(e,r,i):Promise.all(i.map(((e,t)=>AP(e)?e.then((e=>{r[t]=e,i[t]=void 0})).catch((e=>{r[t]=void 0,i[t]=e})):null))).then((()=>YO(e,r,i)))},dangerouslyAllowMutability:!0});var $O={waitForNone:ZO,waitForAny:JO,waitForAll:KO,waitForAllSettled:QO,noWait:DO({key:"__noWait",get:e=>({get:t})=>{try{return rO.value(HO(t(e)))}catch(n){return rO.value(AP(n)?jO(n):VO(n))}},dangerouslyAllowMutability:!0})};const{RecoilLoadable:ez}=XP,{DefaultValue:tz}=Mk,{RecoilRoot:nz,useRecoilStoreID:rz}=mI,{isRecoilValue:iz}=mk,{retentionZone:az}=Yk,{freshSnapshot:oz}=LL,{useRecoilState:sz,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:lz,useRecoilStateLoadable:cz,useRecoilValue:uz,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:hz,useRecoilValueLoadable:dz,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:fz,useResetRecoilState:pz,useSetRecoilState:mz}=aN,{useGotoRecoilSnapshot:gz,useRecoilSnapshot:vz,useRecoilTransactionObserver:yz}=TN,{useRecoilCallback:bz}=sD,{noWait:xz,waitForAll:_z,waitForAllSettled:wz,waitForAny:Sz,waitForNone:Mz}=$O;var Az={DefaultValue:tz,isRecoilValue:iz,RecoilLoadable:ez,RecoilEnv:JP,RecoilRoot:nz,useRecoilStoreID:rz,useRecoilBridgeAcrossReactRoots_UNSTABLE:NN,atom:MO,selector:rO,atomFamily:LO,selectorFamily:DO,constSelector:zO,errorSelector:FO,readOnlySelector:BO,noWait:xz,waitForNone:Mz,waitForAny:Sz,waitForAll:_z,waitForAllSettled:wz,useRecoilValue:uz,useRecoilValueLoadable:dz,useRecoilState:sz,useRecoilStateLoadable:cz,useSetRecoilState:mz,useResetRecoilState:pz,useGetRecoilValueInfo_UNSTABLE:PN,useRecoilRefresher_UNSTABLE:hD,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:fz,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:hz,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:lz,useRecoilCallback:bz,useRecoilTransaction_UNSTABLE:mD,useGotoRecoilSnapshot:gz,useRecoilSnapshot:vz,useRecoilTransactionObserver_UNSTABLE:yz,snapshot_UNSTABLE:oz,useRetain:EI,retentionZone:az},Tz=Az.RecoilRoot,Ez=Az.atom,Cz=Az.useRecoilValue,Pz=Az.useRecoilState;const kz=Ez({key:"lightColorState",default:{isOpen:!1,color:"#E9C595"}}),Rz=Ez({key:"lightHoverState",default:!1}),Lz=Ez({key:"modalGatherState",default:{todowithModal:!1,utModal:!1,sgModal:!1,spaceModal:!1,vocModal:!1,miraModal:!1,moocModal:!1,codingModal:!1,fileModal:!1,phoneModal:!1,onboardingModal:!1,profileModal:!1}}),Iz=Ez({key:"showMenuState",default:!1}),Nz=Ez({key:"eyeResetState",default:!1}),Dz=Ez({key:"eyeSetState",default:{isSet:!1,target:[0,110,0],position:[0,30,0]}});Ez({key:"readListState",default:["turntable","plane","lamp","pc","file","tv","space","todowith","ut"]});const Oz=e=>{const[t,n]=Pz(Lz),[r,i]=B.useState(!1);B.useState(!1);const[a,o]=B.useState(!1),s=UT(PC,"/ayoungRoom/assets/glb/ikea_desk.glb"),l=UT(PC,"/ayoungRoom//assets/glb/imac.glb"),c=UT(PC,"/ayoungRoom//assets/glb/file.glb"),u=UT(KS,"/ayoungRoom/assets/images/coding.png");return B.useEffect((()=>{s.scene.traverse((e=>{e.castShadow=!0,e.receiveShadow=!0})),l.scene.traverse((e=>{e.castShadow=!0,e.receiveShadow=!0}))}),[]),$(K,{children:[Q("mesh",{rotation:[0,-Math.PI/2,0],position:[155,18,-378],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:s.scene,scale:2.7})}),Q("mesh",{rotation:[0,Math.PI/2,0],position:[175,97,-170],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:l.scene,scale:r?99:90,onPointerOver:e=>{e.stopPropagation(),i(!0)},onPointerOut:e=>{e.stopPropagation(),i(!1)},onClick:e=>{e.stopPropagation(),n({...t,codingModal:!0})}})}),$("mesh",{name:"화면",rotation:[Math.PI/180*90,-Math.PI/180*95.5,Math.PI/180*90],position:r?[205,145,-171]:[202.5,140,-171],children:[Q("boxGeometry",{attach:"geometry",args:r?[87,47,1]:[79,43,1]}),Q("meshBasicMaterial",{attach:"material",map:u})]}),Q("mesh",{name:"파일",rotation:[Math.PI/180*0,Math.PI/180*25,Math.PI/180*90],position:a?[395,-63,-8]:[370,-43.5,-20],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:c.scene,scale:a?250:220,onPointerOver:e=>{e.stopPropagation(),o(!0)},onPointerOut:e=>{e.stopPropagation(),o(!1)},onClick:e=>{e.stopPropagation(),n({...t,fileModal:!0})}})})]})};var zz={exports:{}},Uz={},Fz="function"==typeof Symbol&&Symbol.for,Bz=Fz?Symbol.for("react.element"):60103,Vz=Fz?Symbol.for("react.portal"):60106,jz=Fz?Symbol.for("react.fragment"):60107,Hz=Fz?Symbol.for("react.strict_mode"):60108,Wz=Fz?Symbol.for("react.profiler"):60114,Gz=Fz?Symbol.for("react.provider"):60109,qz=Fz?Symbol.for("react.context"):60110,Xz=Fz?Symbol.for("react.async_mode"):60111,Yz=Fz?Symbol.for("react.concurrent_mode"):60111,Zz=Fz?Symbol.for("react.forward_ref"):60112,Jz=Fz?Symbol.for("react.suspense"):60113,Kz=Fz?Symbol.for("react.suspense_list"):60120,Qz=Fz?Symbol.for("react.memo"):60115,$z=Fz?Symbol.for("react.lazy"):60116,eU=Fz?Symbol.for("react.block"):60121,tU=Fz?Symbol.for("react.fundamental"):60117,nU=Fz?Symbol.for("react.responder"):60118,rU=Fz?Symbol.for("react.scope"):60119;function iU(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Bz:switch(e=e.type){case Xz:case Yz:case jz:case Wz:case Hz:case Jz:return e;default:switch(e=e&&e.$$typeof){case qz:case Zz:case $z:case Qz:case Gz:return e;default:return t}}case Vz:return t}}}function aU(e){return iU(e)===Yz}Uz.AsyncMode=Xz,Uz.ConcurrentMode=Yz,Uz.ContextConsumer=qz,Uz.ContextProvider=Gz,Uz.Element=Bz,Uz.ForwardRef=Zz,Uz.Fragment=jz,Uz.Lazy=$z,Uz.Memo=Qz,Uz.Portal=Vz,Uz.Profiler=Wz,Uz.StrictMode=Hz,Uz.Suspense=Jz,Uz.isAsyncMode=function(e){return aU(e)||iU(e)===Xz},Uz.isConcurrentMode=aU,Uz.isContextConsumer=function(e){return iU(e)===qz},Uz.isContextProvider=function(e){return iU(e)===Gz},Uz.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Bz},Uz.isForwardRef=function(e){return iU(e)===Zz},Uz.isFragment=function(e){return iU(e)===jz},Uz.isLazy=function(e){return iU(e)===$z},Uz.isMemo=function(e){return iU(e)===Qz},Uz.isPortal=function(e){return iU(e)===Vz},Uz.isProfiler=function(e){return iU(e)===Wz},Uz.isStrictMode=function(e){return iU(e)===Hz},Uz.isSuspense=function(e){return iU(e)===Jz},Uz.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===jz||e===Yz||e===Wz||e===Hz||e===Jz||e===Kz||"object"==typeof e&&null!==e&&(e.$$typeof===$z||e.$$typeof===Qz||e.$$typeof===Gz||e.$$typeof===qz||e.$$typeof===Zz||e.$$typeof===tU||e.$$typeof===nU||e.$$typeof===rU||e.$$typeof===eU)},Uz.typeOf=iU,zz.exports=Uz;var oU=zz.exports;function sU(e){function t(e,r,l,c,d){for(var f,p,m,g,x,w=0,S=0,M=0,A=0,T=0,L=0,N=m=f=0,O=0,z=0,U=0,F=0,B=l.length,V=B-1,j="",H="",W="",G="";O<B;){if(p=l.charCodeAt(O),O===V&&0!==S+A+M+w&&(0!==S&&(p=47===S?10:47),A=M=w=0,B++,V++),0===S+A+M+w){if(O===V&&(0<z&&(j=j.replace(h,"")),0<j.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:j+=l.charAt(O)}p=59}switch(p){case 123:for(f=(j=j.trim()).charCodeAt(0),m=1,F=++O;O<B;){switch(p=l.charCodeAt(O)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(O+1)){case 42:case 47:e:{for(N=O+1;N<V;++N)switch(l.charCodeAt(N)){case 47:if(42===p&&42===l.charCodeAt(N-1)&&O+2!==N){O=N+1;break e}break;case 10:if(47===p){O=N+1;break e}}O=N}}break;case 91:p++;case 40:p++;case 34:case 39:for(;O++<V&&l.charCodeAt(O)!==p;);}if(0===m)break;O++}if(m=l.substring(F,O),0===f&&(f=(j=j.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<z&&(j=j.replace(h,"")),p=j.charCodeAt(1)){case 100:case 109:case 115:case 45:z=r;break;default:z=R}if(F=(m=t(r,z,m,p,d+1)).length,0<I&&(x=s(3,m,z=n(R,j,U),r,C,E,F,p,d,c),j=z.join(""),void 0!==x&&0===(F=(m=x.trim()).length)&&(p=0,m="")),0<F)switch(p){case 115:j=j.replace(_,o);case 100:case 109:case 45:m=j+"{"+m+"}";break;case 107:m=(j=j.replace(v,"$1 $2"))+"{"+m+"}",m=1===k||2===k&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=j+m,112===c&&(H+=m,m="")}else m=""}else m=t(r,n(r,j,U),m,c,d+1);W+=m,m=U=z=N=f=0,j="",p=l.charCodeAt(++O);break;case 125:case 59:if(1<(F=(j=(0<z?j.replace(h,""):j).trim()).length))switch(0===N&&(f=j.charCodeAt(0),45===f||96<f&&123>f)&&(F=(j=j.replace(" ",":")).length),0<I&&void 0!==(x=s(1,j,r,e,C,E,H.length,c,d,c))&&0===(F=(j=x.trim()).length)&&(j="\0\0"),f=j.charCodeAt(0),p=j.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){G+=j+l.charAt(O);break}default:58!==j.charCodeAt(F-1)&&(H+=i(j,f,p,j.charCodeAt(2)))}U=z=N=f=0,j="",p=l.charCodeAt(++O)}}switch(p){case 13:case 10:47===S?S=0:0===1+f&&107!==c&&0<j.length&&(z=1,j+="\0"),0<I*D&&s(0,j,r,e,C,E,H.length,c,d,c),E=1,C++;break;case 59:case 125:if(0===S+A+M+w){E++;break}default:switch(E++,g=l.charAt(O),p){case 9:case 32:if(0===A+w+S)switch(T){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===A+S+w&&(z=U=1,g="\f"+g);break;case 108:if(0===A+S+w+P&&0<N)switch(O-N){case 2:112===T&&58===l.charCodeAt(O-3)&&(P=T);case 8:111===L&&(P=L)}break;case 58:0===A+S+w&&(N=O);break;case 44:0===S+M+A+w&&(z=1,g+="\r");break;case 34:case 39:0===S&&(A=A===p?0:0===A?p:A);break;case 91:0===A+S+M&&w++;break;case 93:0===A+S+M&&w--;break;case 41:0===A+S+w&&M--;break;case 40:if(0===A+S+w){if(0===f)if(2*T+3*L==533);else f=1;M++}break;case 64:0===S+M+A+w+N+m&&(m=1);break;case 42:case 47:if(!(0<A+w+M))switch(S){case 0:switch(2*p+3*l.charCodeAt(O+1)){case 235:S=47;break;case 220:F=O,S=42}break;case 42:47===p&&42===T&&F+2!==O&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,O+1)),g="",S=0)}}0===S&&(j+=g)}L=T,T=p,O++}if(0<(F=H.length)){if(z=r,0<I&&(void 0!==(x=s(2,H,z,e,C,E,F,c,d,c))&&0===(H=x).length))return G+H+W;if(H=z.join(",")+"{"+H+"}",0!=k*P){switch(2!==k||a(H,2)||(P=0),P){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}P=0}}return G+H+W}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===k||2===k&&a(l,1)?"-webkit-"+l+l:l}if(0===k||2===k&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(x,"tb");break;case 232:l=o.replace(x,"tb-rl");break;case 220:l=o.replace(x,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===A.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),N(2!==t?r:r.replace(M,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,u){for(var h,d=0,f=t;d<I;++d)switch(h=L[d].call(c,e,f,n,r,i,a,o,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=h}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!=typeof e?k=1:(k=2,N=e):k=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=s(-1,n,r,r,C,E,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<I&&(void 0!==(i=s(-2,a,r,r,C,E,a.length,0,0,0))&&(a=i)),"",P=0,E=C=1,a}var u=/^\0+/g,h=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,S=/-self|flex-/g,M=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,E=1,C=1,P=0,k=1,R=[],L=[],I=0,N=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:I=L.length=0;break;default:if("function"==typeof t)L[I++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},c.set=l,void 0!==e&&l(e),c}var lU={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function cU(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var uU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hU=cU((function(e){return uU.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),dU=oU,fU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gU={};function vU(e){return dU.isMemo(e)?mU:gU[e.$$typeof]||fU}gU[dU.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gU[dU.Memo]=mU;var yU=Object.defineProperty,bU=Object.getOwnPropertyNames,xU=Object.getOwnPropertySymbols,_U=Object.getOwnPropertyDescriptor,wU=Object.getPrototypeOf,SU=Object.prototype;var MU=function e(t,n,r){if("string"!=typeof n){if(SU){var i=wU(n);i&&i!==SU&&e(t,i,r)}var a=bU(n);xU&&(a=a.concat(xU(n)));for(var o=vU(t),s=vU(n),l=0;l<a.length;++l){var c=a[l];if(!(pU[c]||r&&r[c]||s&&s[c]||o&&o[c])){var u=_U(n,c);try{yU(t,c,u)}catch(TG){}}}}return t};const AU=n(MU);function TU(){return(TU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var EU=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},CU=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!oU.typeOf(e)},PU=Object.freeze([]),kU=Object.freeze({});function RU(e){return"function"==typeof e}function LU(e){return e.displayName||e.name||"Component"}function IU(e){return e&&"string"==typeof e.styledComponentId}var NU="undefined"!=typeof process&&void 0!==process.env&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",DU="undefined"!=typeof window&&"HTMLElement"in window,OU=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&(void 0!=={}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={}.REACT_APP_SC_DISABLE_SPEEDY&&{}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={}.SC_DISABLE_SPEEDY&&""!=={}.SC_DISABLE_SPEEDY&&("false"!=={}.SC_DISABLE_SPEEDY&&{}.SC_DISABLE_SPEEDY)));function zU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var UU=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&zU(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),FU=new Map,BU=new Map,VU=1,jU=function(e){if(FU.has(e))return FU.get(e);for(;BU.has(VU);)VU++;var t=VU++;return FU.set(e,t),BU.set(t,e),t},HU=function(e){return BU.get(e)},WU=function(e,t){t>=VU&&(VU=t+1),FU.set(e,t),BU.set(t,e)},GU="style["+NU+'][data-styled-version="5.3.11"]',qU=new RegExp("^"+NU+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),XU=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},YU=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(qU);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(WU(c,l),XU(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},ZU=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(NU))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(NU,"active"),r.setAttribute("data-styled-version","5.3.11");var o="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null;return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},JU=function(){function e(e){var t=this.element=ZU(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}zU(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),KU=function(){function e(e){var t=this.element=ZU(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),QU=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),$U=DU,eF={isServer:!DU,useCSSOMInjection:!OU},tF=function(){function e(e,t,n){void 0===e&&(e=kU),void 0===t&&(t={}),this.options=TU({},eF,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&DU&&$U&&($U=!1,function(e){for(var t=document.querySelectorAll(GU),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(NU)&&(YU(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return jU(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(TU({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new QU(i):r?new JU(i):new KU(i),new UU(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(jU(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(jU(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(jU(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=HU(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=NU+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),nF=/(a)(d)/gi,rF=function(e){return String.fromCharCode(e+(e>25?39:97))};function iF(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=rF(t%52)+n;return(rF(t%52)+n).replace(nF,"$1-$2")}var aF=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},oF=function(e){return aF(5381,e)};var sF=oF("5.3.11"),lF=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(RU(n)&&!IU(n))return!1}return!0}(e),this.componentId=t,this.baseHash=aF(sF,t),this.baseStyle=n,tF.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=wF(this.rules,e,t,n).join(""),o=iF(aF(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,c=aF(this.baseHash,n.hash),u="",h=0;h<l;h++){var d=this.rules[h];if("string"==typeof d)u+=d;else if(d){var f=wF(d,e,t,n),p=Array.isArray(f)?f.join(""):f;c=aF(c,p+h),u+=p}}if(u){var m=iF(c>>>0);if(!t.hasNameForId(r,m)){var g=n(u,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),cF=/^\s*\/\/.*$/gm,uF=[":","[",".","#"];var hF=V.createContext();hF.Consumer;var dF=V.createContext(),fF=(dF.Consumer,new tF),pF=function(e){var t,n,r,i,a=void 0===e?kU:e,o=a.options,s=void 0===o?kU:o,l=a.plugins,c=void 0===l?PU:l,u=new sU(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,a,o,s,l,c,u,h){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),f=function(e,r,a){return 0===r&&-1!==uF.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(cF,""),c=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),u(o||!a?"":a,c)}return u.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,f))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||zU(15),aF(e,t.name)}),5381).toString():"",p}();var mF=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=pF);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return zU(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=pF),this.name+e.hash},e}(),gF=/([A-Z])/,vF=/([A-Z])/g,yF=/^ms-/,bF=function(e){return"-"+e.toLowerCase()};function xF(e){return gF.test(e)?e.replace(vF,bF).replace(yF,"-ms-"):e}var _F=function(e){return null==e||!1===e||""===e};function wF(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=wF(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return _F(e)?"":IU(e)?"."+e.styledComponentId:RU(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:wF(e(t),t,n,r):e instanceof mF?n?(e.inject(n,r),e.getName(r)):e:CU(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!_F(t[o])&&(Array.isArray(t[o])&&t[o].isCss||RU(t[o])?a.push(xF(o)+":",t[o],";"):CU(t[o])?a.push.apply(a,e(t[o],o)):a.push(xF(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in lU||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}var SF=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function MF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return RU(e)||CU(e)?SF(wF(EU(PU,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:SF(wF(EU(e,n)))}var AF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,TF=/(^-|-$)/g;function EF(e){return e.replace(AF,"-").replace(TF,"")}var CF=function(e){return iF(oF(e)>>>0)};function PF(e){return"string"==typeof e&&!0}var kF=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},RF=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function LF(e,t,n){var r=e[n];kF(t)&&kF(r)?IF(r,t):e[n]=t}function IF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(kF(o))for(var s in o)RF(s)&&LF(e,o[s],s)}return e}var NF=V.createContext();NF.Consumer;var DF={};function OF(e,t,n){var r,i=IU(e),a=!PF(e),o=t.attrs,s=void 0===o?PU:o,l=t.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":EF(e);DF[n]=(DF[n]||0)+1;var r=n+"-"+CF("5.3.11"+n+DF[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,u=t.displayName,h=void 0===u?PF(r=e)?"styled."+r:"Styled("+LU(r)+")":u,d=t.displayName&&t.componentId?EF(t.displayName)+"-"+t.componentId:t.componentId||c,f=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,g=new lF(n,d,i?e.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i,a,o,s,l,c=e.attrs,u=e.componentStyle,h=e.defaultProps,d=e.foldedComponentIds,f=e.shouldForwardProp,p=e.styledComponentId,m=e.target,g=function(e,t,n){void 0===e&&(e=kU);var r=TU({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in RU(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(function(e,t,n){return void 0===n&&(n=kU),e.theme!==n.theme&&e.theme||t||n.theme}(t,B.useContext(NF),h)||kU,t,c),v=g[0],y=g[1],b=(i=u,a=r,o=v,s=B.useContext(hF)||fF,l=B.useContext(dF)||pF,a?i.generateAndInjectStyles(kU,s,l):i.generateAndInjectStyles(o,s,l)),x=n,_=y.$as||t.$as||y.as||t.as||m,w=PF(_),S=y!==t?TU({},t,{},y):t,M={};for(var A in S)"$"!==A[0]&&"as"!==A&&("forwardedAs"===A?M.as=S[A]:(f?f(A,hU,_):!w||hU(A))&&(M[A]=S[A]));return t.style&&y.style!==t.style&&(M.style=TU({},t.style,{},y.style)),M.className=Array.prototype.concat(d,p,b!==p?b:null,t.className,y.className).filter(Boolean).join(" "),M.ref=x,B.createElement(_,M)}(m,e,t,v)};return y.displayName=h,(m=V.forwardRef(y)).attrs=f,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):PU,m.styledComponentId=d,m.target=i?e.target:e,m.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(PF(e)?e:EF(LU(e)));return OF(e,TU({},i,{attrs:f,componentId:a}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?IF({},e.defaultProps,t):t}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),a&&AU(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var zF=function(e){return function e(t,n,r){if(void 0===r&&(r=kU),!oU.isValidElementType(n))return zU(1,String(n));var i=function(){return t(n,r,MF.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,TU({},r,{},i))},i.attrs=function(i){return e(t,n,TU({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(OF,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){zF[e]=zF(e)}));const UF=zF,FF="#004257",BF={mainFont:"#1a1a1a",subFont:"#4f4f4f",subTitle:"#4F4F4F"},VF="#FFFFFF",jF={font:"#ff007a",btnHover:"#ff8e8e"},HF={aTag:"#3e7bff"},WF=new Audio("/ayoungRoom/assets/ParisianCafe-e3f570a8.mp3"),GF=e=>{const t=UT(PC,"/ayoungRoom/assets/glb/turntable.glb"),[n,r]=B.useState(!1);return Q("primitive",{object:t.scene,scale:n?95:80,onPointerOver:e=>{e.stopPropagation(),r(!0)},onPointerOut:e=>{e.stopPropagation(),r(!1)}})},qF=e=>{const[t,n]=B.useState(!1),r=UT(PC,"/ayoungRoom/assets/glb/turntable.glb"),i=r.scene,a=[],o=new KM(i);o&&(a[0]=o.clipAction(r.animations[0]),a[0].setEffectiveTimeScale(1.1));return DT(((e,t,n)=>{o&&o.update(t)})),B.useEffect((()=>{t||(a[0].paused=!0),a[0].play()}),[t]),Q("mesh",{rotation:[0,0,0],position:[-190,107,-210],onClick:()=>{t?(WF.pause(),n(!1)):(WF.play(),n(!0))},children:Q(GF,{})})},XF=e=>{const t=UT(PC,"/ayoungRoom/assets/glb/office_phone.glb"),[n,r]=B.useState(!1),[i,a]=Pz(Lz);return Q("primitive",{object:t.scene,scale:n?2.2:1.7,onPointerOver:e=>{e.stopPropagation(),r(!0)},onPointerOut:e=>{e.stopPropagation(),r(!1)},onClick:e=>{e.stopPropagation(),a({...i,phoneModal:!0})}})},YF=e=>{const t=UT(PC,"/ayoungRoom/assets/glb/basic_plane.glb"),[n,r]=B.useState(!1);return Q("primitive",{object:t.scene,scale:n?3.8:3,onPointerOver:e=>{e.stopPropagation(),r(!0)},onPointerOut:e=>{e.stopPropagation(),r(!1)}})},ZF=e=>{const[t,n]=B.useState(!1),r=B.useRef(),i=UT(PC,"/ayoungRoom/assets/glb/basic_plane.glb"),a=i.scene,o=[],s=new KM(a);s&&(o[0]=s.clipAction(i.animations[0]),o[0].setEffectiveTimeScale(3));const l=new Z_([new Vm(-213,34,-210),new Vm(-220,50,-100),new Vm(-100,70,20),new Vm(20,90,10),new Vm(90,110,-40),new Vm(40,130,-150),new Vm(-50,150,-200),new Vm(-190,170,-210),new Vm(-205,210,-100),new Vm(-100,230,20),new Vm(20,250,10),new Vm(90,270,-40),new Vm(40,290,-150),new Vm(-180,50,-170),new Vm(-217,37,-220)]);l.getPoints(50);const c=new Vm;let u=0;return DT(((e,i,a)=>{if(s&&s.update(i),t&&-213===r.current.position.x&&34===r.current.position.y&&-210===r.current.position.z){const t=.2*e.clock.getElapsedTime();u=0-t%1,l.getPointAt(t%1,c),r.current.position.set(c.x,c.y,c.z),r.current.rotation.y+=2.7*i}else if(t){const t=.2*e.clock.getElapsedTime();t%1+u<0?l.getPointAt(t%1+u+1,c):l.getPointAt(t%1+u,c),r.current.position.set(c.x,c.y,c.z),r.current.rotation.y+=2.7*i}t&&r.current.position.x<=-214&&r.current.position.y<=40&&r.current.position.z<=-215?n(!1):t||(r.current.position.set(-213,34,-210),r.current.rotation.set(0,-Math.PI/4,0))})),B.useEffect((()=>{t||(o[0].paused=!0),o[0].play()}),[t]),Q("mesh",{ref:r,rotation:[0,Math.PI/4,0],position:[-213,34,-210],onClick:()=>n(!t),children:Q(YF,{})})},JF=UF.div`
  flex-direction: column;
  display: flex;
  align-items: center;
  position: relative;
  width: max-content;
  padding: 3px 10px;
  border-radius: 10px;
  background-color: ${VF};
  font-size: 14px;

  &:hover > .tooltip {
    display: block;
  }
`,KF=e=>{const t=UT(PC,"/ayoungRoom/assets/glb/book_red.glb"),[n,r]=B.useState(!1);return $(K,{children:[Q("primitive",{object:t.scene,scale:n?150:130,onPointerOver:e=>{e.stopPropagation(),r(!0)},onPointerOut:e=>{e.stopPropagation(),r(!1)},onClick:()=>{const e=setTimeout((()=>{window.open("https://www.notion.so/Three-js-edacc08863524530b12ef395b34ae021","_blank"),clearTimeout(e)}),100)}}),n&&Q(LE,{center:!0,position:[0,0,-25],children:Q(JF,{children:"클릭 시 three.js 정리 노션으로 이동"})})]})},QF=e=>{const[t,n]=B.useState(!1),[r,i]=Pz(Lz),[a,o]=Pz(Iz),s=UT(PC,"/ayoungRoom/assets/glb/book2.glb");return B.useEffect((()=>{i({...r,onboardingModal:!0}),o(!0)}),[]),$(K,{children:[Q("primitive",{object:s.scene,scale:t?150:130,onPointerOver:e=>{e.stopPropagation(),n(!0)},onPointerOut:e=>{e.stopPropagation(),n(!1)},onClick:()=>{const e=setTimeout((()=>{window.open("https://www.notion.so/Cannon-js-ad0b434aeb454078ab27563a5eb35801","_blank"),clearTimeout(e)}),100)}}),t&&Q(LE,{center:!0,position:[0,-25,0],children:Q(JF,{children:"클릭 시 Cannon.js 정리 노션으로 이동"})})]})},$F=e=>{const t=UT(PC,"/ayoungRoom/assets/glb/shelf.glb").scene;return $(K,{children:[Q("mesh",{rotation:[0,0,0],position:[-170,65,-215],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:t,scale:120})}),Q("mesh",{children:Q(qF,{})}),Q("mesh",{rotation:[0,-Math.PI,0],position:[-140,107,-214],children:Q(XF,{})}),Q("mesh",{children:Q(ZF,{})}),Q("mesh",{rotation:[-Math.PI/2,0,Math.PI/2],position:[-185,82,-210],children:Q(KF,{})}),Q("mesh",{rotation:[0,Math.PI/2,0],position:[-178,82,-210],children:Q(QF,{})})]})},eB=e=>{const[t,n]=Pz(Rz),[r,i]=Pz(Lz),[a,o]=B.useState(!1),[s,l]=Pz(kz),c=UT(PC,"/ayoungRoom//assets/glb/entertainment.glb"),u=UT(PC,"/ayoungRoom/assets/glb/sofa.glb"),h=UT(PC,"/ayoungRoom/assets/glb/rug.glb"),d=UT(PC,"/ayoungRoom/assets/glb/lamp2.glb"),f=UT(KS,"/ayoungRoom/assets/images/브릿지게임1.png");return $(K,{children:[Q("mesh",{rotation:[0,-Math.PI,0],position:[210,50,120],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:c.scene,scale:.3})}),$("mesh",{name:"브릿지게임",rotation:[0,-Math.PI/2,0],position:[209,130.5,120],onPointerEnter:e=>{e.stopPropagation(),o(!0)},onPointerLeave:e=>{e.stopPropagation(),o(!1)},onClick:e=>{e.stopPropagation(),i({...r,sgModal:!0})},children:[Q("boxGeometry",{attach:"geometry",args:a?[150,80,3]:[137,72,2]}),Q("meshBasicMaterial",{attach:"material",map:f})]}),Q("mesh",{rotation:[0,Math.PI/2,0],position:[-190,55,140],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:u.scene,scale:90})}),Q("mesh",{rotation:[0,Math.PI/2,0],position:[-150,19,106],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:h.scene,scale:1.4})}),Q("mesh",{rotation:[0,Math.PI/2,0],position:[-210,150,30],children:Q("primitive",{object:d.scene,scale:.75,onPointerEnter:e=>{e.stopPropagation(),n(!0)},onPointerLeave:e=>{e.stopPropagation(),n(!1)},onClick:e=>{e.stopPropagation(),l({...s,isOpen:!s.isOpen})}})})]})},tB=B.createContext(null);function nB({enabled:e=!1,children:t,...n}){const r=B.useRef(null),i=B.useContext(tB);return B.useEffect((()=>{if(i&&e){let e=!1;const t=[];if(r.current.traverse((n=>{"Mesh"===n.type&&t.push(n),-1===i.selected.indexOf(n)&&(e=!0)})),e)return i.select((e=>[...e,...t])),()=>{i.select((e=>e.filter((e=>!t.includes(e)))))}}}),[e,t,i]),Q("group",{ref:r,...n,children:t})}const rB=e=>{const[t,n]=B.useState(!1),r=UT(PC,"/ayoungRoom/assets/glb/cat.glb").scene;return Q("primitive",{object:r,scale:t?2.3:1.8,onPointerOver:e=>{e.stopPropagation(),n(!0)},onPointerOut:e=>{e.stopPropagation(),n(!1)}})},iB=e=>{const[t,n]=B.useState(!1),r=UT(PC,"/ayoungRoom/assets/glb/cat.glb"),i=r.scene,a=[],o=new KM(i);return o&&(a[0]=o.clipAction(r.animations[0])),DT(((e,t,n)=>{o&&o.update(t)})),B.useEffect((()=>{t||(a[0].paused=!0),a[0].play()}),[t]),Q(K,{children:Q(nB,{children:Q("mesh",{rotation:[0,Math.PI/180*70,0],position:[-175,56,190],onClick:t?e=>{n(!1)}:e=>{n(!0)},children:Q(rB,{})})})})},aB=e=>{const[t,n]=Pz(Lz),[r,i]=B.useState(!1),[a,o]=B.useState(!1),[s,l]=B.useState(!1),[c,u]=B.useState(!1),[h,d]=B.useState(!1),[f,p]=B.useState(!1),m=UT(PC,"/ayoungRoom/assets/glb/wallLight.glb"),g=m.scene.clone(),v=m.scene.clone(),y=m.scene.clone(),b=m.scene.clone(),x=m.scene.clone(),_=m.scene.clone(),w=UT(PC,"/ayoungRoom/assets/glb/photo_frame.glb"),S=w.scene.clone(),M=w.scene.clone(),A=w.scene.clone(),T=w.scene.clone(),E=w.scene.clone(),C=w.scene.clone(),P=UT(KS,"/ayoungRoom/assets/images/career.png"),k=UT(KS,"/ayoungRoom/assets/images/project.png"),R=UT(KS,"/ayoungRoom/assets/images/투두윗1.png"),L=UT(KS,"/ayoungRoom/assets/images/우탐.png"),I=UT(KS,"/ayoungRoom/assets/images/space.png"),N=UT(KS,"/ayoungRoom/assets/images/voc.png"),D=UT(KS,"/ayoungRoom/assets/images/mira.png"),O=UT(KS,"/ayoungRoom/assets/images/mooc.png");return B.useEffect((()=>{S.traverse((e=>{e.castShadow=!0,e.receiveShadow=!0}))}),[]),$(K,{children:[$("mesh",{name:"커리어- 인천무크",position:[-163,265,-217],castShadow:!0,receiveShadow:!0,children:[Q("mesh",{name:"커리어 조명",rotation:[Math.PI,Math.PI,Math.PI],children:Q("primitive",{object:_,scale:1.5})}),$("mesh",{name:"커리어 팻말",rotation:[0,Math.PI/180,0],position:[0,-20,-18],children:[Q("boxGeometry",{attach:"geometry",args:[50,18,2]}),Q("meshStandardMaterial",{attach:"material",map:P})]}),Q("mesh",{name:"커리어 액자",rotation:[Math.PI,-Math.PI/2,Math.PI],position:[0,-75,-19],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:C,scale:f?210:188,"scale-y":f?68:62,onPointerOver:e=>{e.stopPropagation(),p(!0)},onPointerOut:e=>{e.stopPropagation(),p(!1)},onClick:e=>{e.stopPropagation(),n({...t,moocModal:!0})}})}),$("mesh",{name:"mooc 그림",rotation:[Math.PI,Math.PI,Math.PI],position:[0,-75,-14],children:[Q("planeGeometry",{attach:"geometry",args:f?[106,50]:[95,45]}),Q("meshBasicMaterial",{attach:"material",map:O})]})]}),$("mesh",{name:"커리어- mira",position:[-215,265,-90],castShadow:!0,receiveShadow:!0,children:[Q("mesh",{name:"커리어 조명",rotation:[Math.PI,Math.PI/2,Math.PI],children:Q("primitive",{object:b,scale:1.5})}),$("mesh",{name:"커리어 팻말",rotation:[0,Math.PI/180*270,0],position:[-18,-20,0],children:[Q("boxGeometry",{attach:"geometry",args:[50,18,2]}),Q("meshStandardMaterial",{attach:"material",map:P})]}),Q("mesh",{name:"커리어 액자",rotation:[Math.PI,Math.PI,Math.PI],position:[-19,-95,0],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:T,scale:c?338:325,"scale-y":c?116:108,onPointerOver:e=>{e.stopPropagation(),u(!0)},onPointerOut:e=>{e.stopPropagation(),u(!1)},onClick:e=>{e.stopPropagation(),n({...t,miraModal:!0})}})}),$("mesh",{name:"mira 그림",rotation:[Math.PI,Math.PI/2,Math.PI],position:[-11,-95,0],children:[Q("planeGeometry",{attach:"geometry",args:c?[170,85]:[163,78]}),Q("meshBasicMaterial",{attach:"material",map:D})]})]}),$("mesh",{name:"커리어- voc",position:[-215,265,130],castShadow:!0,receiveShadow:!0,children:[Q("mesh",{name:"커리어 조명",rotation:[Math.PI,Math.PI/2,Math.PI],children:Q("primitive",{object:x,scale:1.5})}),$("mesh",{name:"커리어 팻말",rotation:[0,Math.PI/180*270,0],position:[-18,-20,0],children:[Q("boxGeometry",{attach:"geometry",args:[50,18,2]}),Q("meshStandardMaterial",{attach:"material",map:P})]}),Q("mesh",{name:"커리어 액자",rotation:[Math.PI,Math.PI,Math.PI],position:[-19,-95,0],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:E,scale:h?300:275,"scale-y":h?113:104,onPointerOver:e=>{e.stopPropagation(),d(!0)},onPointerOut:e=>{e.stopPropagation(),d(!1)},onClick:e=>{e.stopPropagation(),n({...t,vocModal:!0})}})}),$("mesh",{name:"voc 그림",rotation:[Math.PI,Math.PI/2,Math.PI],position:[-12,-95,0],children:[Q("planeGeometry",{attach:"geometry",args:h?[152,84]:[137,75.6]}),Q("meshBasicMaterial",{attach:"material",map:N})]})]}),$("mesh",{name:"커리어-리빌더",children:[Q("mesh",{name:"커리어 조명",position:[-130,265,213],rotation:[Math.PI,0,Math.PI],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:g,scale:1.5})}),$("mesh",{name:"커리어 팻말",rotation:[0,Math.PI,0],position:[-130,240,232],children:[Q("boxGeometry",{attach:"geometry",args:[50,18,2]}),Q("meshStandardMaterial",{attach:"material",map:P})]}),Q("mesh",{name:"커리어 액자",rotation:[Math.PI,Math.PI/2,Math.PI],position:[-130,172,233],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:S,scale:r?222:203,"scale-y":r?99:91,onPointerOver:e=>{e.stopPropagation(),i(!0)},onPointerOut:e=>{e.stopPropagation(),i(!1)},onClick:e=>{e.stopPropagation(),n({...t,spaceModal:!0})}})}),$("mesh",{name:"space 그림",rotation:[Math.PI,0,Math.PI],position:[-130,172,228],children:[Q("planeGeometry",{attach:"geometry",args:r?[112.5,72]:[102,66]}),Q("meshBasicMaterial",{attach:"material",map:I})]})]}),$("mesh",{name:"프로젝트",children:[Q("mesh",{name:"프로젝트 왼쪽 조명",position:[135,265,213],rotation:[Math.PI,0,Math.PI],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:y,scale:1.5})}),$("mesh",{name:"프로젝트 왼쪽 팻말",rotation:[0,Math.PI,0],position:[135,240,232],children:[Q("boxGeometry",{attach:"geometry",args:[50,18,2]}),Q("meshStandardMaterial",{attach:"material",map:k})]}),Q("mesh",{name:"프로젝트 왼쪽 액자",rotation:[0,Math.PI/2,0],position:[135,135,232],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:M,scale:a?127:116,"scale-y":a?238:217,onPointerOver:e=>{e.stopPropagation(),o(!0)},onPointerOut:e=>{e.stopPropagation(),o(!1)},onClick:e=>{e.stopPropagation(),n({...t,todowithModal:!0})}})}),$("mesh",{name:"todowith 그림",rotation:[0,Math.PI,0],position:[135,135,229],children:[Q("planeGeometry",{attach:"geometry",args:a?[64,177]:[59,160]}),Q("meshBasicMaterial",{attach:"material",map:R})]}),Q("mesh",{name:"프로젝트 오른쪽 조명",position:[10,265,213],rotation:[Math.PI,0,Math.PI],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:v,scale:1.5})}),$("mesh",{name:"프로젝트 오른쪽 팻말",rotation:[0,Math.PI,0],position:[10,240,232],children:[Q("boxGeometry",{attach:"geometry",args:[50,18,2]}),Q("meshStandardMaterial",{attach:"material",map:k})]}),Q("mesh",{name:"프로젝트 오른쪽 액자",rotation:[Math.PI,Math.PI/2,Math.PI],position:[10,172,233],castShadow:!0,receiveShadow:!0,children:Q("primitive",{object:A,scale:s?222:203,"scale-y":s?99:91,onPointerOver:e=>{e.stopPropagation(),l(!0)},onPointerOut:e=>{e.stopPropagation(),l(!1)},onClick:e=>{e.stopPropagation(),n({...t,utModal:!0})}})}),$("mesh",{name:"wt 그림",rotation:[Math.PI,0,Math.PI],position:[10,172,228],children:[Q("planeGeometry",{attach:"geometry",args:s?[112.5,72]:[102,66]}),Q("meshBasicMaterial",{attach:"material",map:L})]})]})]})},oB=()=>{const[e,t]=Pz(Nz),[n,r]=Pz(Dz),[i,a]=B.useState(new Vm(0,30,0)),o=B.useRef(),s=B.useRef();return B.useEffect((()=>{var n;if(e){o.current.target.set(0,110,0),null==(n=s.current)||n.position.set(0,30,0);const e=setTimeout((()=>{t(!1),clearTimeout(e)}),100)}}),[e]),B.useEffect((()=>{if(n.isSet){const[e,t,i]=n.position;s.current.position.set(e,t,i);const[a,l,c]=n.target;o.current.target.set(a,l,c);const u=setTimeout((()=>{r({...n,isSet:!1}),clearTimeout(u)}),100)}}),[n]),$(K,{children:[Q(vC,{ref:o,target:[0,110,0],rotateSpeed:.5,minPolarAngle:Math.PI/180*5,maxPolarAngle:Math.PI/180*85,zoomSpeed:3,panSpeed:3,minDistance:15,maxDistance:250}),Q(gC,{makeDefault:!0,ref:s,fov:75,far:4e3,position:i})]})},sB=()=>{const e=Cz(kz);return $("mesh",{children:[Q("spotLight",{intensity:20,color:e.color?e.color:"#E9C595",distance:420,position:[-225,185,30],castShadow:!0,"shadow-mapSize-height":2048,"shadow-mapSize-width":2048}),Q("spotLight",{name:"mooc 조명",intensity:25,color:"#fcfe86",distance:150,position:[-175,270,-232],castShadow:!0,"shadow-mapSize-height":2048,"shadow-mapSize-width":2048}),Q("spotLight",{name:"mira 조명",intensity:25,color:"#fcfe86",distance:150,rotation:[Math.PI/2,Math.PI/2,Math.PI/2],position:[-225,270,-135],castShadow:!0,"shadow-mapSize-height":2048,"shadow-mapSize-width":2048}),Q("spotLight",{name:"voc 조명",intensity:25,color:"#fcfe86",distance:150,position:[-225,270,150],castShadow:!0,"shadow-mapSize-height":2048,"shadow-mapSize-width":2048}),Q("spotLight",{name:"space 조명",intensity:25,color:"#fcfe86",distance:125,position:[-145,270,225],castShadow:!0,"shadow-mapSize-height":2048,"shadow-mapSize-width":2048}),Q("spotLight",{name:"투두윗 조명",intensity:25,color:"#fcfe86",distance:125,position:[145,270,225],castShadow:!0,"shadow-mapSize-height":2048,"shadow-mapSize-width":2048}),Q("spotLight",{name:"우탐 조명",intensity:25,color:"#fcfe86",distance:125,position:[0,270,225],castShadow:!0,"shadow-mapSize-height":2048,"shadow-mapSize-width":2048})]})},lB=()=>Q(cB,{children:$(wE,{className:"MyCanvas",style:{width:"100%",height:"100%"},shadows:!0,children:[Q("ambientLight",{color:"white",intensity:.02}),Q(CC,{files:"/ayoungRoom/assets/kloppenheim_02_2k.hdr",ground:{radius:1e4,height:200,scale:1e3},encoding:Bp,near:10,resolution:2048,far:3e3}),Q(SP,{}),Q(Oz,{}),Q($F,{}),Q(eB,{}),Q(iB,{}),Q(aB,{}),Q(sB,{}),Q(oB,{})]})}),cB=UF.div`
  position: absolute;
  z-index: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
`;UF.div`
  z-index: 10;
  position: absolute;
  top: 0px;
  width: 100px;
  height: 50px;
  transform: translate(-50%, -50%);
  color: ${VF};
  font-size: 2rem;
  display: flex;
  justify-content: center;
  align-items: center;
`;var uB={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,n){(function(){var r,i="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",s=16,l=32,c=64,u=128,h=256,d=1/0,f=9007199254740991,p=NaN,m=4294967295,g=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",l],["partialRight",c],["rearg",h]],v="[object Arguments]",y="[object Array]",b="[object Boolean]",x="[object Date]",_="[object Error]",w="[object Function]",S="[object GeneratorFunction]",M="[object Map]",A="[object Number]",T="[object Object]",E="[object Promise]",C="[object RegExp]",P="[object Set]",k="[object String]",R="[object Symbol]",L="[object WeakMap]",I="[object ArrayBuffer]",N="[object DataView]",D="[object Float32Array]",O="[object Float64Array]",z="[object Int8Array]",U="[object Int16Array]",F="[object Int32Array]",B="[object Uint8Array]",V="[object Uint8ClampedArray]",j="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Z=RegExp(X.source),J=RegExp(Y.source),K=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),ae=/^\s+/,oe=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Me="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="['’]",Re="["+Se+"]",Le="["+Pe+"]",Ie="["+Me+"]",Ne="\\d+",De="["+Ae+"]",Oe="["+Te+"]",ze="[^"+Se+Pe+Ne+Ae+Te+Ee+"]",Ue="\\ud83c[\\udffb-\\udfff]",Fe="[^"+Se+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Ee+"]",He="\\u200d",We="(?:"+Oe+"|"+ze+")",Ge="(?:"+je+"|"+ze+")",qe="(?:['’](?:d|ll|m|re|s|t|ve))?",Xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ie+"|"+Ue+")"+"?",Ze="["+Ce+"]?",Je=Ze+Ye+("(?:"+He+"(?:"+[Fe,Be,Ve].join("|")+")"+Ze+Ye+")*"),Ke="(?:"+[De,Be,Ve].join("|")+")"+Je,Qe="(?:"+[Fe+Ie+"?",Ie,Be,Ve,Re].join("|")+")",$e=RegExp(ke,"g"),et=RegExp(Ie,"g"),tt=RegExp(Ue+"(?="+Ue+")|"+Qe+Je,"g"),nt=RegExp([je+"?"+Oe+"+"+qe+"(?="+[Le,je,"$"].join("|")+")",Ge+"+"+Xe+"(?="+[Le,je+We,"$"].join("|")+")",je+"?"+We+"+"+qe,je+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ke].join("|"),"g"),rt=RegExp("["+He+Se+Me+Ce+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,st={};st[D]=st[O]=st[z]=st[U]=st[F]=st[B]=st[V]=st[j]=st[H]=!0,st[v]=st[y]=st[I]=st[b]=st[N]=st[x]=st[_]=st[w]=st[M]=st[A]=st[T]=st[C]=st[P]=st[k]=st[L]=!1;var lt={};lt[v]=lt[y]=lt[I]=lt[N]=lt[b]=lt[x]=lt[D]=lt[O]=lt[z]=lt[U]=lt[F]=lt[M]=lt[A]=lt[T]=lt[C]=lt[P]=lt[k]=lt[R]=lt[B]=lt[V]=lt[j]=lt[H]=!0,lt[_]=lt[w]=lt[L]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ht=parseInt,dt="object"==typeof t&&t&&t.Object===Object&&t,ft="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ft||Function("return this")(),mt=n&&!n.nodeType&&n,gt=mt&&e&&!e.nodeType&&e,vt=gt&&gt.exports===mt,yt=vt&&dt.process,bt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(TG){}}(),xt=bt&&bt.isArrayBuffer,_t=bt&&bt.isDate,wt=bt&&bt.isMap,St=bt&&bt.isRegExp,Mt=bt&&bt.isSet,At=bt&&bt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Lt(e,t){return!!(null==e?0:e.length)&&jt(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ot(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function zt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=qt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function jt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Wt,n)}function Ht(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Wt(e){return e!=e}function Gt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:p}function qt(e){return function(t){return null==t?r:t[e]}}function Xt(e){return function(t){return null==e?r:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Zt(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,pn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function $t(e,t){return Nt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&jt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&jt(t,e[n],0)>-1;);return n}var rn=Xt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ct[e]}function sn(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){return sn(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):Ft(e)}function fn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var mn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n,oe=(t=null==t?pt:gn.defaults(pt.Object(),t,gn.pick(pt,at))).Array,Se=t.Date,Me=t.Error,Ae=t.Function,Te=t.Math,Ee=t.Object,Ce=t.RegExp,Pe=t.String,ke=t.TypeError,Re=oe.prototype,Le=Ae.prototype,Ie=Ee.prototype,Ne=t["__core-js_shared__"],De=Le.toString,Oe=Ie.hasOwnProperty,ze=0,Ue=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Ie.toString,Be=De.call(Ee),Ve=pt._,je=Ce("^"+De.call(Oe).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=vt?t.Buffer:r,We=t.Symbol,Ge=t.Uint8Array,qe=He?He.allocUnsafe:r,Xe=cn(Ee.getPrototypeOf,Ee),Ye=Ee.create,Ze=Ie.propertyIsEnumerable,Je=Re.splice,Ke=We?We.isConcatSpreadable:r,Qe=We?We.iterator:r,tt=We?We.toStringTag:r,rt=function(){try{var e=ha(Ee,"defineProperty");return e({},"",{}),e}catch(TG){}}(),ct=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,dt=Se&&Se.now!==pt.Date.now&&Se.now,ft=t.setTimeout!==pt.setTimeout&&t.setTimeout,mt=Te.ceil,gt=Te.floor,yt=Ee.getOwnPropertySymbols,bt=He?He.isBuffer:r,Ft=t.isFinite,Xt=Re.join,vn=cn(Ee.keys,Ee),yn=Te.max,bn=Te.min,xn=Se.now,_n=t.parseInt,wn=Te.random,Sn=Re.reverse,Mn=ha(t,"DataView"),An=ha(t,"Map"),Tn=ha(t,"Promise"),En=ha(t,"Set"),Cn=ha(t,"WeakMap"),Pn=ha(Ee,"create"),kn=Cn&&new Cn,Rn={},Ln=Ba(Mn),In=Ba(An),Nn=Ba(Tn),Dn=Ba(En),On=Ba(Cn),zn=We?We.prototype:r,Un=zn?zn.valueOf:r,Fn=zn?zn.toString:r;function Bn(e){if(is(e)&&!Xo(e)&&!(e instanceof Wn)){if(e instanceof Hn)return e;if(Oe.call(e,"__wrapped__"))return Va(e)}return new Hn(e)}var Vn=function(){function e(){}return function(t){if(!rs(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function jn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new qn(e);this.size=t.size}function Jn(e,t){var n=Xo(e),r=!n&&qo(e),i=!n&&!r&&Ko(e),a=!n&&!r&&!i&&ds(e),o=n||r||i||a,s=o?Jt(e.length,Pe):[],l=s.length;for(var c in e)!t&&!Oe.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ya(c,l))||s.push(c);return s}function Kn(e){var t=e.length;return t?e[Yr(0,t-1)]:r}function Qn(e,t){return Na(Pi(e),sr(t,0,e.length))}function $n(e){return Na(Pi(e))}function er(e,t,n){(n!==r&&!Ho(e[t],n)||n===r&&!(t in e))&&ar(e,t,n)}function tr(e,t,n){var i=e[t];Oe.call(e,t)&&Ho(i,n)&&(n!==r||t in e)||ar(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Ho(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&ki(t,Ns(t),e)}function ar(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,i=t.length,a=oe(i),o=null==e;++n<i;)a[n]=o?r:Ps(e,t[n]);return a}function sr(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function lr(e,t,n,i,a,o){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!rs(e))return e;var h=Xo(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Oe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Pi(e,s)}else{var d=pa(e),f=d==w||d==S;if(Ko(e))return Si(e,l);if(d==T||d==v||f&&!a){if(s=c||f?{}:ga(e),!l)return c?function(e,t){return ki(e,fa(e),t)}(e,function(e,t){return e&&ki(t,Ds(t),e)}(s,e)):function(e,t){return ki(e,da(e),t)}(e,ir(s,e))}else{if(!lt[d])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case I:return Mi(e);case b:case x:return new r(+e);case N:return function(e,t){var n=t?Mi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case O:case z:case U:case F:case B:case V:case j:case H:return Ai(e,n);case M:return new r;case A:case k:return new r(e);case C:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new r;case R:return i=e,Un?Ee(Un.call(i)):{}}var i}(e,d,l)}}o||(o=new Zn);var p=o.get(e);if(p)return p;o.set(e,s),cs(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,o))})):as(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,o))}));var m=h?r:(u?c?ia:ra:c?Ds:Ns)(e);return Ct(m||e,(function(r,i){m&&(r=e[i=r]),tr(s,i,lr(r,t,n,i,e,o))})),s}function cr(e,t,n){var i=n.length;if(null==e)return!i;for(e=Ee(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new ke(i);return ka((function(){e.apply(r,n)}),t)}function hr(e,t,n,r){var i=-1,a=Lt,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Nt(t,Qt(n))),r?(a=It,o=!1):t.length>=200&&(a=en,o=!1,t=new Yn(t));e:for(;++i<s;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else a(t,h,r)||l.push(u)}return l}Bn.templateSettings={escape:K,evaluate:Q,interpolate:$,variable:"",imports:{_:Bn}},Bn.prototype=jn.prototype,Bn.prototype.constructor=Bn,Hn.prototype=Vn(jn.prototype),Hn.prototype.constructor=Hn,Wn.prototype=Vn(jn.prototype),Wn.prototype.constructor=Wn,Gn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?r:n}return Oe.call(t,e)?t[e]:r},Gn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==r:Oe.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===r?a:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?r:t[n][1]},qn.prototype.has=function(e){return nr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(An||qn),string:new Gn}},Xn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return ca(this,e).get(e)},Xn.prototype.has=function(e){return ca(this,e).has(e)},Xn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,a),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new qn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!An||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var dr=Ii(xr),fr=Ii(_r,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===r?s==s&&!hs(s):n(s,l)))var l=s,c=o}return c}function gr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=va),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var yr=Ni(),br=Ni(!0);function xr(e,t){return e&&yr(e,t,Ns)}function _r(e,t){return e&&br(e,t,Ns)}function wr(e,t){return Rt(t,(function(t){return es(e[t])}))}function Sr(e,t){for(var n=0,i=(t=bi(t,e)).length;null!=e&&n<i;)e=e[Fa(t[n++])];return n&&n==i?e:r}function Mr(e,t,n){var r=t(e);return Xo(e)?r:Dt(r,n(e))}function Ar(e){return null==e?e===r?"[object Undefined]":"[object Null]":tt&&tt in Ee(e)?function(e){var t=Oe.call(e,tt),n=e[tt];try{e[tt]=r;var i=!0}catch(TG){}var a=Fe.call(e);i&&(t?e[tt]=n:delete e[tt]);return a}(e):function(e){return Fe.call(e)}(e)}function Tr(e,t){return e>t}function Er(e,t){return null!=e&&Oe.call(e,t)}function Cr(e,t){return null!=e&&t in Ee(e)}function Pr(e,t,n){for(var i=n?It:Lt,a=e[0].length,o=e.length,s=o,l=oe(o),c=1/0,u=[];s--;){var h=e[s];s&&t&&(h=Nt(h,Qt(t))),c=bn(h.length,c),l[s]=!n&&(t||a>=120&&h.length>=120)?new Yn(s&&h):r}h=e[0];var d=-1,f=l[0];e:for(;++d<a&&u.length<c;){var p=h[d],m=t?t(p):p;if(p=n||0!==p?p:0,!(f?en(f,m):i(u,m,n))){for(s=o;--s;){var g=l[s];if(!(g?en(g,m):i(e[s],m,n)))continue e}f&&f.push(m),u.push(p)}}return u}function kr(e,t,n){var i=null==(e=Ea(e,t=bi(t,e)))?e:e[Fa(Qa(t))];return null==i?r:Tt(i,e,n)}function Rr(e){return is(e)&&Ar(e)==v}function Lr(e,t,n,i,a){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=Xo(e),l=Xo(t),c=s?y:pa(e),u=l?y:pa(t),h=(c=c==v?T:c)==T,d=(u=u==v?T:u)==T,f=c==u;if(f&&Ko(e)){if(!Ko(t))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new Zn),s||ds(e)?ta(e,t,n,i,a,o):function(e,t,n,r,i,a,o){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!a(new Ge(e),new Ge(t)));case b:case x:case A:return Ho(+e,+t);case _:return e.name==t.name&&e.message==t.message;case C:case k:return e==t+"";case M:var s=ln;case P:var l=1&r;if(s||(s=hn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=ta(s(e),s(t),r,i,a,o);return o.delete(e),u;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,i,a,o);if(!(1&n)){var p=h&&Oe.call(e,"__wrapped__"),m=d&&Oe.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,w=m?t.value():t;return o||(o=new Zn),a(g,w,n,i,o)}}if(!f)return!1;return o||(o=new Zn),function(e,t,n,i,a,o){var s=1&n,l=ra(e),c=l.length,u=ra(t),h=u.length;if(c!=h&&!s)return!1;var d=c;for(;d--;){var f=l[d];if(!(s?f in t:Oe.call(t,f)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var g=!0;o.set(e,t),o.set(t,e);var v=s;for(;++d<c;){var y=e[f=l[d]],b=t[f];if(i)var x=s?i(b,y,f,t,e,o):i(y,b,f,e,t,o);if(!(x===r?y===b||a(y,b,n,i,o):x)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(e),o.delete(t),g}(e,t,n,i,a,o)}(e,t,n,i,Lr,a))}function Ir(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=Ee(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var c=(l=n[a])[0],u=e[c],h=l[1];if(s&&l[2]){if(u===r&&!(c in e))return!1}else{var d=new Zn;if(i)var f=i(u,h,c,e,t,d);if(!(f===r?Lr(h,u,3,i,d):f))return!1}}return!0}function Nr(e){return!(!rs(e)||(t=e,Ue&&Ue in t))&&(es(e)?je:ve).test(Ba(e));var t}function Dr(e){return"function"==typeof e?e:null==e?ol:"object"==typeof e?Xo(e)?Vr(e[0],e[1]):Br(e):ml(e)}function Or(e){if(!Sa(e))return vn(e);var t=[];for(var n in Ee(e))Oe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function zr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=Sa(e),n=[];for(var r in e)("constructor"!=r||!t&&Oe.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Fr(e,t){var n=-1,r=Zo(e)?oe(e.length):[];return dr(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Br(e){var t=ua(e);return 1==t.length&&t[0][2]?Aa(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function Vr(e,t){return xa(e)&&Ma(t)?Aa(Fa(e),t):function(n){var i=Ps(n,e);return i===r&&i===t?ks(n,e):Lr(t,i,3)}}function jr(e,t,n,i,a){e!==t&&yr(t,(function(o,s){if(a||(a=new Zn),rs(o))!function(e,t,n,i,a,o,s){var l=Ca(e,n),c=Ca(t,n),u=s.get(c);if(u)return void er(e,n,u);var h=o?o(l,c,n+"",e,t,s):r,d=h===r;if(d){var f=Xo(c),p=!f&&Ko(c),m=!f&&!p&&ds(c);h=c,f||p||m?Xo(l)?h=l:Jo(l)?h=Pi(l):p?(d=!1,h=Si(c,!0)):m?(d=!1,h=Ai(c,!0)):h=[]:ss(c)||qo(c)?(h=l,qo(l)?h=xs(l):rs(l)&&!es(l)||(h=ga(c))):d=!1}d&&(s.set(c,h),a(h,c,i,o,s),s.delete(c));er(e,n,h)}(e,t,s,n,jr,i,a);else{var l=i?i(Ca(e,s),o,s+"",e,t,a):r;l===r&&(l=o),er(e,s,l)}}),Ds)}function Hr(e,t){var n=e.length;if(n)return ya(t+=t<0?n:0,n)?e[t]:r}function Wr(e,t,n){t=t.length?Nt(t,(function(e){return Xo(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[ol];var r=-1;return t=Nt(t,Qt(la())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Fr(e,(function(e,n,i){return{criteria:Nt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var l=Ti(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Sr(e,o);n(s,o)&&$r(a,bi(o,e),s)}return a}function qr(e,t,n,r){var i=r?Ht:jt,a=-1,o=t.length,s=e;for(e===t&&(t=Pi(t)),n&&(s=Nt(e,Qt(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==e&&Je.call(s,l,1),Je.call(e,l,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Je.call(e,i,1):hi(e,i)}}return e}function Yr(e,t){return e+gt(wn()*(t-e+1))}function Zr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Ra(Ta(e,t,ol),e+"")}function Kr(e){return Kn(Hs(e))}function Qr(e,t){var n=Hs(e);return Na(n,sr(t,0,n.length))}function $r(e,t,n,i){if(!rs(e))return e;for(var a=-1,o=(t=bi(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var c=Fa(t[a]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var h=l[c];(u=i?i(h,c,l):r)===r&&(u=rs(h)?h:ya(t[a+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=kn?function(e,t){return kn.set(e,t),e}:ol,ti=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:ol;function ni(e){return Na(Hs(e))}function ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=oe(i);++r<i;)a[r]=e[r+t];return a}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!hs(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return oi(e,t,ol,n)}function oi(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,l=null===t,c=hs(t),u=t===r;a<o;){var h=gt((a+o)/2),d=n(e[h]),f=d!==r,p=null===d,m=d==d,g=hs(d);if(s)var v=i||m;else v=u?m&&(i||f):l?m&&f&&(i||!p):c?m&&f&&!p&&(i||!g):!p&&!g&&(i?d<=t:d<t);v?a=h+1:o=h}return bn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Ho(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function li(e){return"number"==typeof e?e:hs(e)?p:+e}function ci(e){if("string"==typeof e)return e;if(Xo(e))return Nt(e,ci)+"";if(hs(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Lt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=It;else if(a>=200){var c=t?null:Zi(e);if(c)return hn(c);o=!1,i=en,l=new Yn}else l=t?[]:s;e:for(;++r<a;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(u)}else i(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}function hi(e,t){return null==(e=Ea(e,t=bi(t,e)))||delete e[Fa(Qa(t))]}function di(e,t,n,r){return $r(e,t,n(Sr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ri(e,r?0:a,r?a+1:i):ri(e,r?a+1:0,r?i:a)}function pi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Ot(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function mi(e,t,n){var r=e.length;if(r<2)return r?ui(e[0]):[];for(var i=-1,a=oe(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=hr(a[i]||o,e[s],t,n));return ui(vr(a,1),t,n)}function gi(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var l=i<o?t[i]:r;n(s,e[i],l)}return s}function vi(e){return Jo(e)?e:[]}function yi(e){return"function"==typeof e?e:ol}function bi(e,t){return Xo(e)?e:xa(e,t)?[e]:Ua(_s(e))}var xi=Jr;function _i(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ri(e,t,n)}var wi=ct||function(e){return pt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Mi(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Ai(e,t){var n=t?Mi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=hs(e),s=t!==r,l=null===t,c=t==t,u=hs(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}function Ei(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,c=yn(a-o,0),u=oe(l+c),h=!r;++s<l;)u[s]=t[s];for(;++i<o;)(h||i<a)&&(u[n[i]]=e[i]);for(;c--;)u[s++]=e[i++];return u}function Ci(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,c=t.length,u=yn(a-s,0),h=oe(u+c),d=!r;++i<u;)h[i]=e[i];for(var f=i;++l<c;)h[f+l]=t[l];for(;++o<s;)(d||i<a)&&(h[f+n[o]]=e[i++]);return h}function Pi(e,t){var n=-1,r=e.length;for(t||(t=oe(r));++n<r;)t[n]=e[n];return t}function ki(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=i?i(n[l],e[l],l,n,e):r;c===r&&(c=e[l]),a?ar(n,l,c):tr(n,l,c)}return n}function Ri(e,t){return function(n,r){var i=Xo(n)?Et:rr,a=t?t():{};return i(n,e,la(r,2),a)}}function Li(e){return Jr((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&ba(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=Ee(t);++i<a;){var l=n[i];l&&e(t,l,i,o)}return t}))}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Zo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Ni(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Di(e){return function(t){var n=sn(t=_s(t))?fn(t):r,i=n?n[0]:t.charAt(0),a=n?_i(n,1).join(""):t.slice(1);return i[e]()+a}}function Oi(e){return function(t){return Ot(el(qs(t).replace($e,"")),e,"")}}function zi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function Ui(e){return function(t,n,i){var a=Ee(t);if(!Zo(t)){var o=la(n,3);t=Ns(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function Fi(e){return na((function(t){var n=t.length,a=n,o=Hn.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new ke(i);if(o&&!l&&"wrapper"==oa(s))var l=new Hn([],!0)}for(a=l?a:n;++a<n;){var c=oa(s=t[a]),u="wrapper"==c?aa(s):r;l=u&&_a(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[oa(u[0])].apply(l,u[3]):1==s.length&&_a(s)?l[c]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Xo(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Bi(e,t,n,i,a,o,s,l,c,h){var d=t&u,f=1&t,p=2&t,m=24&t,g=512&t,v=p?r:zi(e);return function u(){for(var y=arguments.length,b=oe(y),x=y;x--;)b[x]=arguments[x];if(m)var _=sa(u),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,_);if(i&&(b=Ei(b,i,a,m)),o&&(b=Ci(b,o,s,m)),y-=w,m&&y<h){var S=un(b,_);return Xi(e,t,Bi,u.placeholder,n,b,S,l,c,h-y)}var M=f?n:this,A=p?M[e]:e;return y=b.length,l?b=function(e,t){var n=e.length,i=bn(t.length,n),a=Pi(e);for(;i--;){var o=t[i];e[i]=ya(o,n)?a[o]:r}return e}(b,l):g&&y>1&&b.reverse(),d&&c<y&&(b.length=c),this&&this!==pt&&this instanceof u&&(A=v||zi(A)),A.apply(M,b)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function ji(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=ci(n),i=ci(i)):(n=li(n),i=li(i)),a=e(n,i)}return a}}function Hi(e){return na((function(t){return t=Nt(t,Qt(la())),Jr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===r?" ":ci(t)).length;if(n<2)return n?Zr(t,e):t;var i=Zr(t,mt(e/dn(t)));return sn(t)?_i(fn(i),0,e).join(""):i.slice(0,e)}function Gi(e){return function(t,n,i){return i&&"number"!=typeof i&&ba(t,n,i)&&(n=i=r),t=gs(t),n===r?(n=t,t=0):n=gs(n),function(e,t,n,r){for(var i=-1,a=yn(mt((t-e)/(n||1)),0),o=oe(a);a--;)o[r?a:++i]=e,e+=n;return o}(t,n,i=i===r?t<n?1:-1:gs(i),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Xi(e,t,n,i,a,o,s,u,h,d){var f=8&t;t|=f?l:c,4&(t&=~(f?c:l))||(t&=-4);var p=[e,t,a,f?o:r,f?s:r,f?r:o,f?r:s,u,h,d],m=n.apply(r,p);return _a(e)&&Pa(m,p),m.placeholder=i,La(m,e,t)}function Yi(e){var t=Te[e];return function(e,n){if(e=bs(e),(n=null==n?0:bn(vs(n),292))&&Ft(e)){var r=(_s(e)+"e").split("e");return+((r=(_s(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Zi=En&&1/hn(new En([,-0]))[1]==d?function(e){return new En(e)}:hl;function Ji(e){return function(t){var n=pa(t);return n==M?ln(t):n==P?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,n,a,d,f,p,m){var g=2&t;if(!g&&"function"!=typeof e)throw new ke(i);var v=a?a.length:0;if(v||(t&=-97,a=d=r),p=p===r?p:yn(vs(p),0),m=m===r?m:vs(m),v-=d?d.length:0,t&c){var y=a,b=d;a=d=r}var x=g?r:aa(e),_=[e,t,n,a,d,y,b,f,p,m];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==u&&8==n||r==u&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ei(c,l,t[4]):l,e[4]=c?un(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ci(c,l,t[6]):l,e[6]=c?un(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&u&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,x),e=_[0],t=_[1],n=_[2],a=_[3],d=_[4],!(m=_[9]=_[9]===r?g?0:e.length:yn(_[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==s?function(e,t,n){var i=zi(e);return function a(){for(var o=arguments.length,s=oe(o),l=o,c=sa(a);l--;)s[l]=arguments[l];var u=o<3&&s[0]!==c&&s[o-1]!==c?[]:un(s,c);return(o-=u.length)<n?Xi(e,t,Bi,a.placeholder,r,s,u,r,r,n-o):Tt(this&&this!==pt&&this instanceof a?i:e,this,s)}}(e,t,m):t!=l&&33!=t||d.length?Bi.apply(r,_):function(e,t,n,r){var i=1&t,a=zi(e);return function t(){for(var o=-1,s=arguments.length,l=-1,c=r.length,u=oe(c+s),h=this&&this!==pt&&this instanceof t?a:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++o];return Tt(h,i?n:this,u)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,i=zi(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return La((x?ei:Pa)(w,_),e,t)}function Qi(e,t,n,i){return e===r||Ho(e,Ie[n])&&!Oe.call(i,n)?t:e}function $i(e,t,n,i,a,o){return rs(e)&&rs(t)&&(o.set(t,e),jr(e,t,r,$i,o),o.delete(t)),e}function ea(e){return ss(e)?r:e}function ta(e,t,n,i,a,o){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e),h=o.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=2&n?new Yn:r;for(o.set(e,t),o.set(t,e);++d<l;){var m=e[d],g=t[d];if(i)var v=s?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(v!==r){if(v)continue;f=!1;break}if(p){if(!Ut(t,(function(e,t){if(!en(p,t)&&(m===e||a(m,e,n,i,o)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!a(m,g,n,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function na(e){return Ra(Ta(e,r,Xa),e+"")}function ra(e){return Mr(e,Ns,da)}function ia(e){return Mr(e,Ds,fa)}var aa=kn?function(e){return kn.get(e)}:hl;function oa(e){for(var t=e.name+"",n=Rn[t],r=Oe.call(Rn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Oe.call(Bn,"placeholder")?Bn:e).placeholder}function la(){var e=Bn.iteratee||sl;return e=e===sl?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ua(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ma(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Nr(n)?n:r}var da=yt?function(e){return null==e?[]:(e=Ee(e),Rt(yt(e),(function(t){return Ze.call(e,t)})))}:yl,fa=yt?function(e){for(var t=[];e;)Dt(t,da(e)),e=Xe(e);return t}:yl,pa=Ar;function ma(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&ns(i)&&ya(o,i)&&(Xo(e)||qo(e))}function ga(e){return"function"!=typeof e.constructor||Sa(e)?{}:Vn(Xe(e))}function va(e){return Xo(e)||qo(e)||!!(Ke&&e&&e[Ke])}function ya(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Zo(n)&&ya(t,n.length):"string"==r&&t in n)&&Ho(n[t],e)}function xa(e,t){if(Xo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hs(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Ee(t))}function _a(e){var t=oa(e),n=Bn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=aa(n);return!!r&&e===r[0]}(Mn&&pa(new Mn(new ArrayBuffer(1)))!=N||An&&pa(new An)!=M||Tn&&pa(Tn.resolve())!=E||En&&pa(new En)!=P||Cn&&pa(new Cn)!=L)&&(pa=function(e){var t=Ar(e),n=t==T?e.constructor:r,i=n?Ba(n):"";if(i)switch(i){case Ln:return N;case In:return M;case Nn:return E;case Dn:return P;case On:return L}return t});var wa=Ne?es:bl;function Sa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function Ma(e){return e==e&&!rs(e)}function Aa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Ee(n)))}}function Ta(e,t,n){return t=yn(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=yn(r.length-t,0),o=oe(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=oe(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Tt(e,this,s)}}function Ea(e,t){return t.length<2?e:Sr(e,ri(t,0,-1))}function Ca(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Pa=Ia(ei),ka=ft||function(e,t){return pt.setTimeout(e,t)},Ra=Ia(ti);function La(e,t,n){var r=t+"";return Ra(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(g,(function(n){var r="_."+n[0];t&n[1]&&!Lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ia(e){var t=0,n=0;return function(){var i=xn(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Na(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=Yr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Da,Oa,za,Ua=(Da=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t},Oa=zo(Da,(function(e){return 500===za.size&&za.clear(),e})),za=Oa.cache,Oa);function Fa(e){if("string"==typeof e||hs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ba(e){if(null!=e){try{return De.call(e)}catch(TG){}try{return e+""}catch(TG){}}return""}function Va(e){if(e instanceof Wn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ja=Jr((function(e,t){return Jo(e)?hr(e,vr(t,1,Jo,!0)):[]})),Ha=Jr((function(e,t){var n=Qa(t);return Jo(n)&&(n=r),Jo(e)?hr(e,vr(t,1,Jo,!0),la(n,2)):[]})),Wa=Jr((function(e,t){var n=Qa(t);return Jo(n)&&(n=r),Jo(e)?hr(e,vr(t,1,Jo,!0),r,n):[]}));function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=yn(r+i,0)),Vt(e,la(t,3),i)}function qa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=vs(n),a=n<0?yn(i+a,0):bn(a,i-1)),Vt(e,la(t,3),a,!0)}function Xa(e){return(null==e?0:e.length)?vr(e,1):[]}function Ya(e){return e&&e.length?e[0]:r}var Za=Jr((function(e){var t=Nt(e,vi);return t.length&&t[0]===e[0]?Pr(t):[]})),Ja=Jr((function(e){var t=Qa(e),n=Nt(e,vi);return t===Qa(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Pr(n,la(t,2)):[]})),Ka=Jr((function(e){var t=Qa(e),n=Nt(e,vi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,r,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:r}var $a=Jr(eo);function eo(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var to=na((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Xr(e,Nt(t,(function(e){return ya(e,n)?+e:e})).sort(Ti)),r}));function no(e){return null==e?e:Sn.call(e)}var ro=Jr((function(e){return ui(vr(e,1,Jo,!0))})),io=Jr((function(e){var t=Qa(e);return Jo(t)&&(t=r),ui(vr(e,1,Jo,!0),la(t,2))})),ao=Jr((function(e){var t=Qa(e);return t="function"==typeof t?t:r,ui(vr(e,1,Jo,!0),r,t)}));function oo(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Jo(e))return t=yn(e.length,t),!0})),Jt(t,(function(t){return Nt(e,qt(t))}))}function so(e,t){if(!e||!e.length)return[];var n=oo(e);return null==t?n:Nt(n,(function(e){return Tt(t,r,e)}))}var lo=Jr((function(e,t){return Jo(e)?hr(e,t):[]})),co=Jr((function(e){return mi(Rt(e,Jo))})),uo=Jr((function(e){var t=Qa(e);return Jo(t)&&(t=r),mi(Rt(e,Jo),la(t,2))})),ho=Jr((function(e){var t=Qa(e);return t="function"==typeof t?t:r,mi(Rt(e,Jo),r,t)})),fo=Jr(oo);var po=Jr((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,so(e,n)}));function mo(e){var t=Bn(e);return t.__chain__=!0,t}function go(e,t){return t(e)}var vo=na((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Wn&&ya(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:go,args:[a],thisArg:r}),new Hn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)}));var yo=Ri((function(e,t,n){Oe.call(e,n)?++e[n]:ar(e,n,1)}));var bo=Ui(Ga),xo=Ui(qa);function _o(e,t){return(Xo(e)?Ct:dr)(e,la(t,3))}function wo(e,t){return(Xo(e)?Pt:fr)(e,la(t,3))}var So=Ri((function(e,t,n){Oe.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Mo=Jr((function(e,t,n){var r=-1,i="function"==typeof t,a=Zo(e)?oe(e.length):[];return dr(e,(function(e){a[++r]=i?Tt(t,e,n):kr(e,t,n)})),a})),Ao=Ri((function(e,t,n){ar(e,n,t)}));function To(e,t){return(Xo(e)?Nt:Fr)(e,la(t,3))}var Eo=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Co=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,vr(t,1),[])})),Po=dt||function(){return pt.Date.now()};function ko(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Ki(e,u,r,r,r,r,t)}function Ro(e,t){var n;if("function"!=typeof t)throw new ke(i);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Lo=Jr((function(e,t,n){var r=1;if(n.length){var i=un(n,sa(Lo));r|=l}return Ki(e,r,t,n,i)})),Io=Jr((function(e,t,n){var r=3;if(n.length){var i=un(n,sa(Io));r|=l}return Ki(t,r,e,n,i)}));function No(e,t,n){var a,o,s,l,c,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new ke(i);function m(t){var n=a,i=o;return a=o=r,h=t,l=e.apply(i,n)}function g(e){var n=e-u;return u===r||n>=t||n<0||f&&e-h>=s}function v(){var e=Po();if(g(e))return y(e);c=ka(v,function(e){var n=t-(e-u);return f?bn(n,s-(e-h)):n}(e))}function y(e){return c=r,p&&a?m(e):(a=o=r,l)}function b(){var e=Po(),n=g(e);if(a=arguments,o=this,u=e,n){if(c===r)return function(e){return h=e,c=ka(v,t),d?m(e):l}(u);if(f)return wi(c),c=ka(v,t),m(u)}return c===r&&(c=ka(v,t)),l}return t=bs(t)||0,rs(n)&&(d=!!n.leading,s=(f="maxWait"in n)?yn(bs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==r&&wi(c),h=0,a=u=o=c=r},b.flush=function(){return c===r?l:y(Po())},b}var Do=Jr((function(e,t){return ur(e,1,t)})),Oo=Jr((function(e,t,n){return ur(e,bs(t)||0,n)}));function zo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(zo.Cache||Xn),n}function Uo(e){if("function"!=typeof e)throw new ke(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}zo.Cache=Xn;var Fo=xi((function(e,t){var n=(t=1==t.length&&Xo(t[0])?Nt(t[0],Qt(la())):Nt(vr(t,1),Qt(la()))).length;return Jr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Bo=Jr((function(e,t){var n=un(t,sa(Bo));return Ki(e,l,r,t,n)})),Vo=Jr((function(e,t){var n=un(t,sa(Vo));return Ki(e,c,r,t,n)})),jo=na((function(e,t){return Ki(e,h,r,r,r,t)}));function Ho(e,t){return e===t||e!=e&&t!=t}var Wo=qi(Tr),Go=qi((function(e,t){return e>=t})),qo=Rr(function(){return arguments}())?Rr:function(e){return is(e)&&Oe.call(e,"callee")&&!Ze.call(e,"callee")},Xo=oe.isArray,Yo=xt?Qt(xt):function(e){return is(e)&&Ar(e)==I};function Zo(e){return null!=e&&ns(e.length)&&!es(e)}function Jo(e){return is(e)&&Zo(e)}var Ko=bt||bl,Qo=_t?Qt(_t):function(e){return is(e)&&Ar(e)==x};function $o(e){if(!is(e))return!1;var t=Ar(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Ar(e);return t==w||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var as=wt?Qt(wt):function(e){return is(e)&&pa(e)==M};function os(e){return"number"==typeof e||is(e)&&Ar(e)==A}function ss(e){if(!is(e)||Ar(e)!=T)return!1;var t=Xe(e);if(null===t)return!0;var n=Oe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Be}var ls=St?Qt(St):function(e){return is(e)&&Ar(e)==C};var cs=Mt?Qt(Mt):function(e){return is(e)&&pa(e)==P};function us(e){return"string"==typeof e||!Xo(e)&&is(e)&&Ar(e)==k}function hs(e){return"symbol"==typeof e||is(e)&&Ar(e)==R}var ds=At?Qt(At):function(e){return is(e)&&ns(e.length)&&!!st[Ar(e)]};var fs=qi(Ur),ps=qi((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Zo(e))return us(e)?fn(e):Pi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=pa(e);return(t==M?ln:t==P?hn:Hs)(e)}function gs(e){return e?(e=bs(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e?sr(vs(e),0,m):0}function bs(e){if("number"==typeof e)return e;if(hs(e))return p;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=ge.test(e);return n||ye.test(e)?ht(e.slice(2),n?2:8):me.test(e)?p:+e}function xs(e){return ki(e,Ds(e))}function _s(e){return null==e?"":ci(e)}var ws=Li((function(e,t){if(Sa(t)||Zo(t))ki(t,Ns(t),e);else for(var n in t)Oe.call(t,n)&&tr(e,n,t[n])})),Ss=Li((function(e,t){ki(t,Ds(t),e)})),Ms=Li((function(e,t,n,r){ki(t,Ds(t),e,r)})),As=Li((function(e,t,n,r){ki(t,Ns(t),e,r)})),Ts=na(or);var Es=Jr((function(e,t){e=Ee(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ba(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Ds(o),l=-1,c=s.length;++l<c;){var u=s[l],h=e[u];(h===r||Ho(h,Ie[u])&&!Oe.call(e,u))&&(e[u]=o[u])}return e})),Cs=Jr((function(e){return e.push(r,$i),Tt(zs,r,e)}));function Ps(e,t,n){var i=null==e?r:Sr(e,t);return i===r?n:i}function ks(e,t){return null!=e&&ma(e,t,Cr)}var Rs=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),rl(ol)),Ls=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Oe.call(e,t)?e[t].push(n):e[t]=[n]}),la),Is=Jr(kr);function Ns(e){return Zo(e)?Jn(e):Or(e)}function Ds(e){return Zo(e)?Jn(e,!0):zr(e)}var Os=Li((function(e,t,n){jr(e,t,n)})),zs=Li((function(e,t,n,r){jr(e,t,n,r)})),Us=na((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),ki(e,ia(e),n),r&&(n=lr(n,7,ea));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Fs=na((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return ks(e,n)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var n=Nt(ia(e),(function(e){return[e]}));return t=la(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Vs=Ji(Ns),js=Ji(Ds);function Hs(e){return null==e?[]:$t(e,Ns(e))}var Ws=Oi((function(e,t,n){return t=t.toLowerCase(),e+(n?Gs(t):t)}));function Gs(e){return $s(_s(e).toLowerCase())}function qs(e){return(e=_s(e))&&e.replace(xe,rn).replace(et,"")}var Xs=Oi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ys=Oi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Zs=Di("toLowerCase");var Js=Oi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ks=Oi((function(e,t,n){return e+(n?" ":"")+$s(t)}));var Qs=Oi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$s=Di("toUpperCase");function el(e,t,n){return e=_s(e),(t=n?r:t)===r?function(e){return it.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var tl=Jr((function(e,t){try{return Tt(e,r,t)}catch(TG){return $o(TG)?TG:new Me(TG)}})),nl=na((function(e,t){return Ct(t,(function(t){t=Fa(t),ar(e,t,Lo(e[t],e))})),e}));function rl(e){return function(){return e}}var il=Fi(),al=Fi(!0);function ol(e){return e}function sl(e){return Dr("function"==typeof e?e:lr(e,1))}var ll=Jr((function(e,t){return function(n){return kr(n,e,t)}})),cl=Jr((function(e,t){return function(n){return kr(e,n,t)}}));function ul(e,t,n){var r=Ns(t),i=wr(t,r);null!=n||rs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=wr(t,Ns(t)));var a=!(rs(n)&&"chain"in n&&!n.chain),o=es(e);return Ct(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Pi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function hl(){}var dl=Hi(Nt),fl=Hi(kt),pl=Hi(Ut);function ml(e){return xa(e)?qt(Fa(e)):function(e){return function(t){return Sr(t,e)}}(e)}var gl=Gi(),vl=Gi(!0);function yl(){return[]}function bl(){return!1}var xl=ji((function(e,t){return e+t}),0),_l=Yi("ceil"),wl=ji((function(e,t){return e/t}),1),Sl=Yi("floor");var Ml,Al=ji((function(e,t){return e*t}),1),Tl=Yi("round"),El=ji((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new ke(i);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=ko,Bn.assign=ws,Bn.assignIn=Ss,Bn.assignInWith=Ms,Bn.assignWith=As,Bn.at=Ts,Bn.before=Ro,Bn.bind=Lo,Bn.bindAll=nl,Bn.bindKey=Io,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Xo(e)?e:[e]},Bn.chain=mo,Bn.chunk=function(e,t,n){t=(n?ba(e,t,n):t===r)?1:yn(vs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=oe(mt(i/t));a<i;)s[o++]=ri(e,a,a+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=oe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Dt(Xo(n)?Pi(n):[n],vr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=la();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new ke(i);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ns(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Bn.constant=rl,Bn.countBy=yo,Bn.create=function(e,t){var n=Vn(e);return null==t?n:ir(n,t)},Bn.curry=function e(t,n,i){var a=Ki(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Bn.curryRight=function e(t,n,i){var a=Ki(t,s,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Bn.debounce=No,Bn.defaults=Es,Bn.defaultsDeep=Cs,Bn.defer=Do,Bn.delay=Oo,Bn.difference=ja,Bn.differenceBy=Ha,Bn.differenceWith=Wa,Bn.drop=function(e,t,n){var i=null==e?0:e.length;return i?ri(e,(t=n||t===r?1:vs(t))<0?0:t,i):[]},Bn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ri(e,0,(t=i-(t=n||t===r?1:vs(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!0):[]},Bn.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=vs(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:vs(i))<0&&(i+=a),i=n>i?0:ys(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Bn.filter=function(e,t){return(Xo(e)?Rt:gr)(e,la(t,3))},Bn.flatMap=function(e,t){return vr(To(e,t),1)},Bn.flatMapDeep=function(e,t){return vr(To(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===r?1:vs(n),vr(To(e,t),n)},Bn.flatten=Xa,Bn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===r?1:vs(t)):[]},Bn.flip=function(e){return Ki(e,512)},Bn.flow=il,Bn.flowRight=al,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:wr(e,Ns(e))},Bn.functionsIn=function(e){return null==e?[]:wr(e,Ds(e))},Bn.groupBy=So,Bn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Bn.intersection=Za,Bn.intersectionBy=Ja,Bn.intersectionWith=Ka,Bn.invert=Rs,Bn.invertBy=Ls,Bn.invokeMap=Mo,Bn.iteratee=sl,Bn.keyBy=Ao,Bn.keys=Ns,Bn.keysIn=Ds,Bn.map=To,Bn.mapKeys=function(e,t){var n={};return t=la(t,3),xr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=la(t,3),xr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(lr(e,1))},Bn.matchesProperty=function(e,t){return Vr(e,lr(t,1))},Bn.memoize=zo,Bn.merge=Os,Bn.mergeWith=zs,Bn.method=ll,Bn.methodOf=cl,Bn.mixin=ul,Bn.negate=Uo,Bn.nthArg=function(e){return e=vs(e),Jr((function(t){return Hr(t,e)}))},Bn.omit=Us,Bn.omitBy=function(e,t){return Bs(e,Uo(la(t)))},Bn.once=function(e){return Ro(2,e)},Bn.orderBy=function(e,t,n,i){return null==e?[]:(Xo(t)||(t=null==t?[]:[t]),Xo(n=i?r:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Bn.over=dl,Bn.overArgs=Fo,Bn.overEvery=fl,Bn.overSome=pl,Bn.partial=Bo,Bn.partialRight=Vo,Bn.partition=Eo,Bn.pick=Fs,Bn.pickBy=Bs,Bn.property=ml,Bn.propertyOf=function(e){return function(t){return null==e?r:Sr(e,t)}},Bn.pull=$a,Bn.pullAll=eo,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,la(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,r,n):e},Bn.pullAt=to,Bn.range=gl,Bn.rangeRight=vl,Bn.rearg=jo,Bn.reject=function(e,t){return(Xo(e)?Rt:gr)(e,Uo(la(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=la(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Xr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new ke(i);return Jr(e,t=t===r?t:vs(t))},Bn.reverse=no,Bn.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===r)?1:vs(t),(Xo(e)?Qn:Qr)(e,t)},Bn.set=function(e,t,n){return null==e?e:$r(e,t,n)},Bn.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:$r(e,t,n,i)},Bn.shuffle=function(e){return(Xo(e)?$n:ni)(e)},Bn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=i):(t=null==t?0:vs(t),n=n===r?i:vs(n)),ri(e,t,n)):[]},Bn.sortBy=Co,Bn.sortedUniq=function(e){return e&&e.length?si(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?si(e,la(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=r),(n=n===r?m:n>>>0)?(e=_s(e))&&("string"==typeof t||null!=t&&!ls(t))&&!(t=ci(t))&&sn(e)?_i(fn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new ke(i);return t=null==t?0:yn(vs(t),0),Jr((function(n){var r=n[t],i=_i(n,0,t);return r&&Dt(i,r),Tt(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===r?1:vs(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ri(e,(t=i-(t=n||t===r?1:vs(t)))<0?0:t,i):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fi(e,la(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new ke(i);return rs(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),No(e,t,{leading:r,maxWait:t,trailing:a})},Bn.thru=go,Bn.toArray=ms,Bn.toPairs=Vs,Bn.toPairsIn=js,Bn.toPath=function(e){return Xo(e)?Nt(e,Fa):hs(e)?[e]:Pi(Ua(_s(e)))},Bn.toPlainObject=xs,Bn.transform=function(e,t,n){var r=Xo(e),i=r||Ko(e)||ds(e);if(t=la(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:rs(e)&&es(a)?Vn(Xe(e)):{}}return(i?Ct:xr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return ko(e,1)},Bn.union=ro,Bn.unionBy=io,Bn.unionWith=ao,Bn.uniq=function(e){return e&&e.length?ui(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?ui(e,la(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ui(e,r,t):[]},Bn.unset=function(e,t){return null==e||hi(e,t)},Bn.unzip=oo,Bn.unzipWith=so,Bn.update=function(e,t,n){return null==e?e:di(e,t,yi(n))},Bn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:di(e,t,yi(n),i)},Bn.values=Hs,Bn.valuesIn=function(e){return null==e?[]:$t(e,Ds(e))},Bn.without=lo,Bn.words=el,Bn.wrap=function(e,t){return Bo(yi(t),e)},Bn.xor=co,Bn.xorBy=uo,Bn.xorWith=ho,Bn.zip=fo,Bn.zipObject=function(e,t){return gi(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return gi(e||[],t||[],$r)},Bn.zipWith=po,Bn.entries=Vs,Bn.entriesIn=js,Bn.extend=Ss,Bn.extendWith=Ms,ul(Bn,Bn),Bn.add=xl,Bn.attempt=tl,Bn.camelCase=Ws,Bn.capitalize=Gs,Bn.ceil=_l,Bn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=bs(n))==n?n:0),t!==r&&(t=(t=bs(t))==t?t:0),sr(bs(e),t,n)},Bn.clone=function(e){return lr(e,4)},Bn.cloneDeep=function(e){return lr(e,5)},Bn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:r)},Bn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:r)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,Ns(t))},Bn.deburr=qs,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=wl,Bn.endsWith=function(e,t,n){e=_s(e),t=ci(t);var i=e.length,a=n=n===r?i:sr(vs(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Bn.eq=Ho,Bn.escape=function(e){return(e=_s(e))&&J.test(e)?e.replace(Y,an):e},Bn.escapeRegExp=function(e){return(e=_s(e))&&ie.test(e)?e.replace(re,"\\$&"):e},Bn.every=function(e,t,n){var i=Xo(e)?kt:pr;return n&&ba(e,t,n)&&(t=r),i(e,la(t,3))},Bn.find=bo,Bn.findIndex=Ga,Bn.findKey=function(e,t){return Bt(e,la(t,3),xr)},Bn.findLast=xo,Bn.findLastIndex=qa,Bn.findLastKey=function(e,t){return Bt(e,la(t,3),_r)},Bn.floor=Sl,Bn.forEach=_o,Bn.forEachRight=wo,Bn.forIn=function(e,t){return null==e?e:yr(e,la(t,3),Ds)},Bn.forInRight=function(e,t){return null==e?e:br(e,la(t,3),Ds)},Bn.forOwn=function(e,t){return e&&xr(e,la(t,3))},Bn.forOwnRight=function(e,t){return e&&_r(e,la(t,3))},Bn.get=Ps,Bn.gt=Wo,Bn.gte=Go,Bn.has=function(e,t){return null!=e&&ma(e,t,Er)},Bn.hasIn=ks,Bn.head=Ya,Bn.identity=ol,Bn.includes=function(e,t,n,r){e=Zo(e)?e:Hs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),us(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&jt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=yn(r+i,0)),jt(e,t,i)},Bn.inRange=function(e,t,n){return t=gs(t),n===r?(n=t,t=0):n=gs(n),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=bs(e),t,n)},Bn.invoke=Is,Bn.isArguments=qo,Bn.isArray=Xo,Bn.isArrayBuffer=Yo,Bn.isArrayLike=Zo,Bn.isArrayLikeObject=Jo,Bn.isBoolean=function(e){return!0===e||!1===e||is(e)&&Ar(e)==b},Bn.isBuffer=Ko,Bn.isDate=Qo,Bn.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Zo(e)&&(Xo(e)||"string"==typeof e||"function"==typeof e.splice||Ko(e)||ds(e)||qo(e)))return!e.length;var t=pa(e);if(t==M||t==P)return!e.size;if(Sa(e))return!Or(e).length;for(var n in e)if(Oe.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Lr(e,t)},Bn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Lr(e,t,r,n):!!i},Bn.isError=$o,Bn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Bn.isFunction=es,Bn.isInteger=ts,Bn.isLength=ns,Bn.isMap=as,Bn.isMatch=function(e,t){return e===t||Ir(e,t,ua(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Ir(e,t,ua(t),n)},Bn.isNaN=function(e){return os(e)&&e!=+e},Bn.isNative=function(e){if(wa(e))throw new Me("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=os,Bn.isObject=rs,Bn.isObjectLike=is,Bn.isPlainObject=ss,Bn.isRegExp=ls,Bn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=f},Bn.isSet=cs,Bn.isString=us,Bn.isSymbol=hs,Bn.isTypedArray=ds,Bn.isUndefined=function(e){return e===r},Bn.isWeakMap=function(e){return is(e)&&pa(e)==L},Bn.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==Ar(e)},Bn.join=function(e,t){return null==e?"":Xt.call(e,t)},Bn.kebabCase=Xs,Bn.last=Qa,Bn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=vs(n))<0?yn(i+a,0):bn(a,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,Wt,a,!0)},Bn.lowerCase=Ys,Bn.lowerFirst=Zs,Bn.lt=fs,Bn.lte=ps,Bn.max=function(e){return e&&e.length?mr(e,ol,Tr):r},Bn.maxBy=function(e,t){return e&&e.length?mr(e,la(t,2),Tr):r},Bn.mean=function(e){return Gt(e,ol)},Bn.meanBy=function(e,t){return Gt(e,la(t,2))},Bn.min=function(e){return e&&e.length?mr(e,ol,Ur):r},Bn.minBy=function(e,t){return e&&e.length?mr(e,la(t,2),Ur):r},Bn.stubArray=yl,Bn.stubFalse=bl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Al,Bn.nth=function(e,t){return e&&e.length?Hr(e,vs(t)):r},Bn.noConflict=function(){return pt._===this&&(pt._=Ve),this},Bn.noop=hl,Bn.now=Po,Bn.pad=function(e,t,n){e=_s(e);var r=(t=vs(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(gt(i),n)+e+Wi(mt(i),n)},Bn.padEnd=function(e,t,n){e=_s(e);var r=(t=vs(t))?dn(e):0;return t&&r<t?e+Wi(t-r,n):e},Bn.padStart=function(e,t,n){e=_s(e);var r=(t=vs(t))?dn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(_s(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=gs(e),t===r?(t=e,e=0):t=gs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=wn();return bn(e+a*(t-e+ut("1e-"+((a+"").length-1))),t)}return Yr(e,t)},Bn.reduce=function(e,t,n){var r=Xo(e)?Ot:Yt,i=arguments.length<3;return r(e,la(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Xo(e)?zt:Yt,i=arguments.length<3;return r(e,la(t,4),n,i,fr)},Bn.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===r)?1:vs(t),Zr(_s(e),t)},Bn.replace=function(){var e=arguments,t=_s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var i=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[Fa(t[i])];o===r&&(i=a,o=n),e=es(o)?o.call(e):o}return e},Bn.round=Tl,Bn.runInContext=e,Bn.sample=function(e){return(Xo(e)?Kn:Kr)(e)},Bn.size=function(e){if(null==e)return 0;if(Zo(e))return us(e)?dn(e):e.length;var t=pa(e);return t==M||t==P?e.size:Or(e).length},Bn.snakeCase=Js,Bn.some=function(e,t,n){var i=Xo(e)?Ut:ii;return n&&ba(e,t,n)&&(t=r),i(e,la(t,3))},Bn.sortedIndex=function(e,t){return ai(e,t)},Bn.sortedIndexBy=function(e,t,n){return oi(e,t,la(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ho(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return oi(e,t,la(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ho(e[n],t))return n}return-1},Bn.startCase=Ks,Bn.startsWith=function(e,t,n){return e=_s(e),n=null==n?0:sr(vs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Bn.subtract=El,Bn.sum=function(e){return e&&e.length?Zt(e,ol):0},Bn.sumBy=function(e,t){return e&&e.length?Zt(e,la(t,2)):0},Bn.template=function(e,t,n){var i=Bn.templateSettings;n&&ba(e,t,n)&&(t=r),e=_s(e),t=Ms({},t,i,Qi);var a,o,s=Ms({},t.imports,i.imports,Qi),l=Ns(s),c=$t(s,l),u=0,h=t.interpolate||_e,d="__p += '",f=Ce((t.escape||_e).source+"|"+h.source+"|"+(h===$?fe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Oe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(f,(function(t,n,r,i,s,l){return r||(r=i),d+=e.slice(u,l).replace(we,on),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),d+="';\n";var m=Oe.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new Me("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(W,""):d).replace(G,"$1").replace(q,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=tl((function(){return Ae(l,p+"return "+d).apply(r,c)}));if(g.source=d,$o(g))throw g;return g},Bn.times=function(e,t){if((e=vs(e))<1||e>f)return[];var n=m,r=bn(e,m);t=la(t),e-=m;for(var i=Jt(r,t);++n<e;)t(n);return i},Bn.toFinite=gs,Bn.toInteger=vs,Bn.toLength=ys,Bn.toLower=function(e){return _s(e).toLowerCase()},Bn.toNumber=bs,Bn.toSafeInteger=function(e){return e?sr(vs(e),-9007199254740991,f):0===e?e:0},Bn.toString=_s,Bn.toUpper=function(e){return _s(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=_s(e))&&(n||t===r))return Kt(e);if(!e||!(t=ci(t)))return e;var i=fn(e),a=fn(t);return _i(i,tn(i,a),nn(i,a)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=_s(e))&&(n||t===r))return e.slice(0,pn(e)+1);if(!e||!(t=ci(t)))return e;var i=fn(e);return _i(i,0,nn(i,fn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=_s(e))&&(n||t===r))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var i=fn(e);return _i(i,tn(i,fn(t))).join("")},Bn.truncate=function(e,t){var n=30,i="...";if(rs(t)){var a="separator"in t?t.separator:a;n="length"in t?vs(t.length):n,i="omission"in t?ci(t.omission):i}var o=(e=_s(e)).length;if(sn(e)){var s=fn(e);o=s.length}if(n>=o)return e;var l=n-dn(i);if(l<1)return i;var c=s?_i(s,0,l).join(""):e.slice(0,l);if(a===r)return c+i;if(s&&(l+=c.length-l),ls(a)){if(e.slice(l).search(a)){var u,h=c;for(a.global||(a=Ce(a.source,_s(pe.exec(a))+"g")),a.lastIndex=0;u=a.exec(h);)var d=u.index;c=c.slice(0,d===r?l:d)}}else if(e.indexOf(ci(a),l)!=l){var f=c.lastIndexOf(a);f>-1&&(c=c.slice(0,f))}return c+i},Bn.unescape=function(e){return(e=_s(e))&&Z.test(e)?e.replace(X,mn):e},Bn.uniqueId=function(e){var t=++ze;return _s(e)+t},Bn.upperCase=Qs,Bn.upperFirst=$s,Bn.each=_o,Bn.eachRight=wo,Bn.first=Ya,ul(Bn,(Ml={},xr(Bn,(function(e,t){Oe.call(Bn.prototype,t)||(Ml[t]=e)})),Ml),{chain:!1}),Bn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Ct(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===r?1:yn(vs(n),0);var i=this.__filtered__&&!t?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(n,i.__takeCount__):i.__views__.push({size:bn(n,m),type:e+(i.__dir__<0?"Right":"")}),i},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:la(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ol)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return kr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Uo(la(e)))},Wn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(m)},xr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Bn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Wn,c=s[0],u=l||Xo(t),h=function(e){var t=a.apply(Bn,Dt([e],s));return i&&d?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=l&&!f;if(!o&&u){t=m?t:new Wn(this);var g=e.apply(t,s);return g.__actions__.push({func:go,args:[h],thisArg:r}),new Hn(g,d)}return p&&m?e.apply(this,s):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Xo(i)?i:[],e)}return this[n]((function(n){return t.apply(Xo(n)?n:[],e)}))}})),xr(Wn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Oe.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[Bi(r,2).name]=[{name:"wrapper",func:r}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Xo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,c=r?s:o-1,u=this.__iteratees__,h=u.length,d=0,f=bn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var m=-1,g=e[c+=t];++m<h;){var v=u[m],y=v.iteratee,b=v.type,x=y(g);if(2==b)g=x;else if(!x){if(1==b)continue e;break e}}p[d++]=g}return p},Bn.prototype.at=vo,Bn.prototype.chain=function(){return mo(this)},Bn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===r&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof jn;){var i=Va(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:go,args:[no],thisArg:r}),new Hn(t,this.__chain__)}return this.thru(no)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Qe&&(Bn.prototype[Qe]=function(){return this}),Bn}();gt?((gt.exports=gn)._=gn,mt._=gn):pt._=gn}).call(t)}(uB,uB.exports);const hB=n(uB.exports),dB="/ayoungRoom/assets/aycircle-afe5a1f3.png",fB=()=>{B.useState(!0),B.useState(null);const[e,t]=Pz(Lz),[n,r]=Pz(Nz),[i,a]=Pz(Dz),[o,s]=Pz(Iz);return hB.every(e,((e,t)=>!e))&&o?$(xB,{children:[Q(pB,{className:"question",tooltip:"온보딩",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA01SURBVHic7Z1rkFxFFYC/md3sLmHzwEheQNgEEoIQAiFBMYgieVIJYEpUjKbEB2JFpUpFRZAqyyqlQCABpcqixBRoqbwEUcAHbEBA8gAk7yUkISCEPCHJ5p3s+OPMVDbDzNzT93bf23dmvqpTedS93ae779zbffr0ORmqjwwwDDgVGAq0AUOAY4F+eWkBmoCj8/fsAvYDe4GtedkEvAm8DqwDVuT/zMXSipjIJK2ABY4HxgMfBcYBpwO9HNW1E1gGLAKey8tbjuqqU4YWYAowF3gV+UUmKR3AnLxOLQ7bXdM0AdOBe4HtJD/o5WQ7cA8wDejhpCdqjOHAjcBGkh9cU9kG/Br5JNUx5DzgUaCL5AfShjyLvMGqYc7ljAwwA/gvyQ+YK3kJuJT6g/A+pgIvkvwAxSWLkUljzdMGPEJyA7EjL0nV/zhir0iMpF5FTcD3gOuAng7K70SWiB15WYUYdN5FjD67gPeK7umLGIZa838fCpwCjARG5KXVga4HgNuBG4DdDsr3jguRAbH5S9oE3AdchQyYK0YC3wDuBzZbbsMaYKJD3RPnKOBO7M3sXwGuAc4gmTdZBhgNfB9YotBXI13AL5G+qipGI7b0qB20Abg1X55vnAXcBrxD9HYuRx7squCLyLctSof8B7gEaIxZ9zA0Iku9F4jW5l3AzJh1t0oDMrmJ0glPAp+MW3GLTADaidYHc5C+TBUtwENEG/hzY9faHeOJ9iA8SIo2mlqBfxD+Gz+L6rWUTUd8DML0zXygT+waGzIQMXeaNu4QsnHSO36VY6cPspV9EPN+WgocF7/KOoYha1nTRq1AZtC1xhjC2UPWIH3tFf0J55xxD26sa2mhFfgd5v22FhiUgL4l6Y35a38PcHUSynrKLMR8bdKHS4BjklC2Oy3I5MRE8deA0xLQ1XdGIb9sk75sJ8HVQQNiE6+aSYwHhJlEP0JCBjJTI087tTHLj0ofzN+qc+JWcqahgg9ThRscDmkG/oRZH38pLuVGY2bbf4AUmjI9oAEza+ouZB7hlBbMtj4TnaRUAU2YWVWX4/hNe6eBMksQz5o60TBdZt/uSpEJ6J05XkNmtHXsMAj9ErELBzuoTcBKpQJ78NNhI+2cjnznNWPQgUwkrXGdsuIccIXNiuscwdfQj8MPbVU6BL2Z8g+2KnVIFjGhDgFO4PAR8bRwD/pVQZuNCrV++x24O5YdlixwDuJy/RfkO7qf9+u+D/FFeBa4GXHp6p+AvhqORu9f+VDUyqYqKzqAX1u6vYAr0c9bSskh4J/AZfhnxzgbvT/B5LCVZICFykpuC1uJZRoQN23bp306kPMMPnEHOt0XE9LDaoaygg344ap0EhKxw+bAd5cu4Df4Y9voDbyNTvdLwlTwsrLwz0VohC1ORR5EV4PfXVYgE0gf+AI6nV80LXiCsuAno7bAAsOwcxjDRFYDA+JoXAAZ9DuHRsahJ5SFjo/ehkhkMd86tSXz8WNyeC46ff+mLXAEOpOvD7/+r5DM4BdktvsmqniaYF27kJA7gdykKMz4leII7TzFlWzGDz+HSej0/XnxjcXLgybk4EKQEWQB8JFIKkfnFMSt2oRtyEphNRIfoAGxCo5CXqVhtq6vAOaFuM82zxN8mmojYv08UO6C6eiepFDLCstcjP6XugFZrVTynesNfBvYYlBuDrGU+sCn0Ol7UaVCND7qG/HjlK7WLW0BZjP2och2tvYB2BS9KVZoRLcamleugBZ0QRhvcdQAU84iWNf1hFuujcUskEXi/vl55hCs63uU2SrW2v192ut/nvJ6HgLOj1D2/AplF0tbhHpscjY6fSeVulnj5r3UqfrmDKX8ecQfRSz7F2XKLSWDI9Zlk6UE63trqRs1Z/uucat7KHoB1wP/RuYnK4EvWyj3p+gG/wCyevKFawnWeWXxTccpbsoRg9uxR2gPbS5PSsEyjEGn9xEntD6ruGET1Ru4oZgmpL2ajrwpIR3LkUUXwu7ThYtBZ9Nvz99YC3wVyTCi4WGXioSgC3hGcd0RY15pNl2Qq6yq6S/D0OckWMXhH5FPzCZY9+cKF2fQedCcEpv6ydEf8f7RDH4OP3whSnEqwbpvJ/9JP1lxcSfV//0fiZkF8GX8/PWDjJXmDEEb6Oz/xh4lKeMCZKNIO/j7gDMT0VSPZqf0oixiTAnCdNctTVwN/B0zc+4NSGILn+lQXNPWCJxoqbC00YI4eX7e8L7f49/SrxSaMRvaiM7B8dWIyvhGT2Qbd4LhfU9x2AvJdzQPwImN6Na7ayMq4xPNiH/cJwzvewqZL+2zrZAjNGN2LEgmzFpaAt6FfrJXkPvww/XLBM1ScAnoDhdUS2Qvre9cd5mLv8u9ShxPcNveAnEQCLrQt0OfYchilrRiL5LrIK30IbiN2yA44FMX6fwFFKP1mcshltGPJaOmNRoI9mraBcGnTHfGrLgr/oxu8Pfj30HQsATFdTgItfEAHIU+vMr1CenoAtUDUAufgA+jG/z/4Zd3TxRUn4As8sqrRIb0hVEpRuvJNI/g/kgLrQRv4O3Lkp8IBJD2GL8nKK/z4byjLTQrt91Z8kuBANKe1EG7jF3tVIt40bR5SxY5ChWEDxFAoqD9hO1wqkW8aMZsm/YB8C5HjSFlD0MWsdepFvGiGbPNWeANxYVp3wvYqLjmEPoHJQ1okmivzyJp1YNI+wPwkuKa15GlUbWgGbN1WWCdpcJ85l/IEbJK3BWHIjEyQnHNOpBvRZCBpBqcQocje/rFls/lwNdJf/u6o3UKHVK4uJbcwluRh/4kqmOXsxQfIng83wMy2fw/likK9SEmkA06EW+ZNVTHPkcpLlBcsxTIFWz8Cy0VWscPNLuZR4z5Zwh+ZWwh/ZtCtUDBthM0njO63zRYcUMOOCOOFtSJhDZKyEA4/It+G50b8RTLytaxjyY8/AokoNQRr/QnFDfOCqORJzQD30Kihu1C3LtXAj8DPpigXra5XHHN46X+cwq6V4fvZ+JK0Ubl2DlbqQ43sLHoxrDkgZhmdB7CJQMMeUxfdPGPdgPjEtLRFnMJbue7VPB60iQk2gj0cNUCB9yC7leRQw58pnWlow0UeXelQqYpCsghSZXSQA/kidc+ADmixRZMEm2Gl4oT+UZ0J4UWuGiBA7RLou7y40Q0jY4mv9MGit7exa+7g8C9isrOIR2Tpg+EuCeNK4LJ6OYvd6PweRiOLk5ue0hl4+RMzN8AUSOMJsEzBLerC9kAU/GYosAccJ6tFjiiEfPw70Ex933j4+ja9ahJoRcqC23H/310bcjXHPAC/renOxl0v/4c5vEQ1DnrZ0Zrg3OORpZ3Qe3Ygeyjp4lZ6MZoUZjCL1UW/g7+JFMsxwAqJ5V8E5nYpgmTxJHTwlayQFnB3LAVxEgWeVs9hpwBLCSL/i7pPPr2K/S//tCfNe3+wEFkzV0nHsaiTx49MWpl2hXBq6T/DGEaaEWfFd1o5l+OkciJWU2Ff7RRYZ2K3ItuLPZh0ZH3ZmWlOSSOXh03XIl+HG60WXFP9IGU95BOnwHfGUVwMI+CrMXBxHYC+lRqa4FBthWoYQYjp3g0fd+FQxf+O5RK5BAPHF/y6aWZ3pjlSJ7jUpkW4BUDZeYTLh9vHaEFXWbwgiwjhoimo9BH3MoBDyIBi+qY0QA8hL6fO4HT4lLucgPFckhipbTF2k2SZiQ+sUkfxx7V9DZDBeeT/lAzcdAXs9d+joTyOWcxf0qXUj2Bp10wELMJXw6JgJrYJ7aZw/kEtbKW2spAqmU0+qVeQZ6kTCbwOOmNJJUyUXwPkqunjjALs4l1Don17802/LGY5dsryAPU9rygF5KDyLTf1pA/3OkTwzDLu1eQVdTmVvJYwv1oXsPjsH0D0LuSdZdDyKmkfvGrHDt9EQca7X5+d0nFJLoVycNn2rgc4qUzi3Q5ZppwGbrjW6WknRR9LpuR73uYhuYQm4HvLucmnI/ee7eU3I8Hs31TGjA3FhXL00iip7QymWgDn0OMPGk9sApIZs6gzBVBsgDJ+dMYs+5h6IEc1NSc1asknfibndyYUejyEwbJRmS708dVw1hkcreJ6O1cQowbO3HRAtyO3qkkSJYB1wJnkcwrMguMQc4SmqSjqyRdyENU1VvoF2CvwwqyBdl2no1kzHSxisggJ4e+ma9rq+U2rCaBYJxJLbd6AN9BzuK7OJSxG3FT78jLKsTOvh35tnYigSO6cwyyhG1FllvDEI/oEYh37QjEN9I2B5CwOz9BTOQ1xRDMnB5sy868JFX/X6meGMyRmET0WXOaZAHpXt46IQNcDCwm+QFyJYuQFPR1AjgPOdZka8WQtDxLfeBDcQLwA2A9yQ+iqWxATuecbL1XapAewFTgt5iHfYtT3s3rOJV0WC1TSTNy5PkW7NsTwsiKvC4TSeGGTTVsuw4ExiPzhnHA6bjbNt2BWCAXIt/155FXfWqphgegFG2IRXBo/u9DgP6Iw0k/xKDTyOGcQZ2IQWYPYuHbitj030DSya1FzuS/Hov2MfJ/AVnxw9k62F8AAAAASUVORK5CYII=",onClick:()=>{t({...e,onboardingModal:!0})}}),Q(pB,{className:"eyeReset",tooltip:"시점 초기화",src:"/ayoungRoom/assets/eyeReset-1517daa0.png",onClick:()=>{r(!0)}}),Q(pB,{className:"profile",tooltip:"전체 프로필",src:dB,onClick:()=>{t({...e,profileModal:!0})}}),Q(_B,{}),Q(pB,{className:"turntable",tooltip:"음악 플레이어",src:"/ayoungRoom/assets/turntable-6f1a106c.png",onClick:()=>{a({isSet:!0,target:[-186,127,-171],position:[-186,137,-132]})}}),Q(pB,{className:"plane",tooltip:"비행기",src:"/ayoungRoom/assets/plane-3bb66a02.png",onClick:()=>{a({isSet:!0,target:[-205,67,-155],position:[-205,79,-112]})}}),Q(pB,{className:"lamp",tooltip:"조명 설정",src:"/ayoungRoom/assets/lamp-972fedbd.png",onClick:()=>{a({isSet:!0,target:[-306,66,8.29],position:[-54,188,-32]})}}),Q(pB,{className:"pc",tooltip:"스킬",src:"/ayoungRoom/assets/pc-c6fbf0d0.png",onClick:()=>{a({isSet:!0,target:[288,97,-169],position:[90,153,-168]})}}),Q(pB,{className:"file",tooltip:"소개",src:"/ayoungRoom/assets/file-4cd5f5d4.png",onClick:()=>{a({isSet:!0,target:[265,57,-109],position:[115,130,-95]})}}),Q(pB,{className:"voc",tooltip:"2023 경력",src:"/ayoungRoom/assets/voc_navi-995107ca.png",onClick:()=>{a({isSet:!0,target:[-214,170,143],position:[-81.6,182,144]})}}),Q(pB,{className:"mira",tooltip:"2023 경력",src:"/ayoungRoom/assets/mira_navi-377f3cff.png",onClick:()=>{a({isSet:!0,target:[-222,180,-101],position:[-89,192,-104]})}}),Q(pB,{className:"mooc",tooltip:"2023 경력",src:"/ayoungRoom/assets/mooc_navi-dcce2a1f.png",onClick:()=>{a({isSet:!0,target:[-155,194,-133],position:[-155,198,-94]})}}),Q(pB,{className:"space",tooltip:"2022 경력",src:"/ayoungRoom/assets/spaceIcon-0e248115.png",onClick:()=>{a({isSet:!0,target:[-115,165,347],position:[-119,187,98]})}}),Q(pB,{className:"todowith",tooltip:"개인 프로젝트1",src:"/ayoungRoom/assets/todowithIcon-a9760f40.png",onClick:()=>{a({isSet:!0,target:[149,150,161],position:[149,158,68]})}}),Q(pB,{className:"ut",tooltip:"개인 프로젝트2",src:"/ayoungRoom/assets/utIcon-50ce3cf9.png",onClick:()=>{a({isSet:!0,target:[21,173,346],position:[17,195,97]})}})]}):null},pB=({className:e,src:t,onClick:n,tooltip:r})=>{const[i,a]=B.useState(!1);return $(gB,"tv"===e?{children:[Q(vB,{children:i&&$(K,{children:[Q(yB,{children:r}),Q(bB,{})]})}),Q(wB,{onPointerOver:e=>{e.stopPropagation(),a(!0)},onPointerOut:e=>{e.stopPropagation(),a(!1)},className:e,src:t,onClick:n})]}:{children:[Q(vB,{children:i&&$(K,{children:[Q(yB,{children:r}),Q(bB,{})]})}),Q(SB,{onPointerOver:e=>{e.stopPropagation(),a(!0)},onPointerOut:e=>{e.stopPropagation(),a(!1)},children:Q(MB,{className:e,src:t,onClick:n})})]})},mB=(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=MF.apply(void 0,[e].concat(n)).join(""),a=CF(i);return new mF(a,i)})`
  0% { opacity: 0; }
  25% {opacity : 0.5;}
  50% { opacity: 1; }

`,gB=UF.div`
  flex-direction: column;
  display: flex;
  align-items: center;
  position: relative;
  height: fit-content;
  &:hover > .tooltip {
    display: block;
  }
`,vB=UF.div`
  flex-direction: column;
  display: flex;
  align-items: center;
  position: absolute;
  justify-content: center;
  z-index: 205;
  animation: ${mB} 0.5s linear;
  bottom: 81px;
  height: 32px;
`,yB=UF.div`
  position: relative;
  padding: 0px 7px;
  height: 27px;
  border-radius: 5px;
  z-index: 205;
  font-size: 14px;
  font-family: "title3";
  text-align: center;
  width: max-content;
  background-color: ${VF};
`,bB=UF.div`
  position: relative;
  width: 0;
  height: 0;
  border-bottom: 7px solid transparent;
  border-top: 9px solid ${VF};
  border-left: 7px solid transparent;
  border-right: 7px solid transparent;
`,xB=UF.div`
  padding: 0 20px;
  overflow-y: visible;
  /* overflow-x: auto; */
  position: absolute;
  bottom: 15px;
  z-index: 10;
  background-color: rgba(0, 0, 0, 0.8);
  box-sizing: border-box;
  border-radius: 15px;
  /* width: calc(100vw - 300px); */
  height: 90px;
  display: flex;
  flex-direction: row;
  column-gap: 15px;
  justify-content: center;
  align-items: center;
`,_B=UF.div`
  width: 3px;
  height: 60px;
  border-radius: 20px;
  background-color: white;
`,wB=UF.img`
  position: relative;
  background-color: white;
  height: 70px;
  width: 70px;
  border-radius: 10px;
  cursor: pointer;
`,SB=UF.div`
  position: relative;
  background-color: white;
  height: 70px;
  width: 70px;
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
`,MB=UF.img`
  height: 60px;
  width: 60px;
  border-radius: 5px;
`;UF.div`
  height: 8px;
  width: 8px;
  position: absolute;
  border-radius: 50%;
  background-color: ${jF.font};
  right: 3px;
  top: 3px;
`;const AB=e=>B.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},B.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8473 0.152695C18.0509 0.356288 18.0509 0.686377 17.8473 0.88997L9.73728 9L17.8473 17.11C18.0509 17.3136 18.0509 17.6437 17.8473 17.8473C17.6437 18.0509 17.3136 18.0509 17.11 17.8473L9 9.73728L0.88997 17.8473C0.686377 18.0509 0.356288 18.0509 0.152695 17.8473C-0.0508982 17.6437 -0.0508982 17.3136 0.152695 17.11L8.26272 9L0.152695 0.88997C-0.0508982 0.686377 -0.0508982 0.356288 0.152695 0.152695C0.356288 -0.0508982 0.686377 -0.0508982 0.88997 0.152695L9 8.26272L17.11 0.152695C17.3136 -0.0508982 17.6437 -0.0508982 17.8473 0.152695Z",fill:"#616161"})),TB=[["#F4CBE2",,"#DE609F",,"#B22464","#4C122D"],["#E1C9F8","#BF8DEF","#8200E0","#2E0050"],["#D2EFF9","#A2DEF1","#5BBCE2","#204351"],["#D0FAD3","#9DF3A0","#4FE64B","#1B5219"],["#F6FACD","#EDF397","#DCE43E","#4F5115"],["#F4E4CC","#E9C595","#D58935","#4C3011"],["#FFFFFF","#E0E0E0","#797979","#000000"]],EB=()=>{const[e,t]=Pz(kz);return $(CB,{children:["조명",Q(PB,{onClick:()=>t({...e,isOpen:!1}),children:Q(AB,{})}),Q(kB,{children:TB.map(((n,r)=>Q("div",{className:"row",children:n.map((n=>Q("div",{style:{background:n},className:"box",onClick:()=>t({...e,color:n})},n)))},r)))})]})},CB=UF.div`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  top: 40%;
  right: 40%;
  width: 175px;
  height: 200px;
  border: 1px solid white;
  background-color: white;
  color: black;
  border-radius: 4px;
  transform: translate(-50%, -50%);
  padding: 10px;

  .row {
    display: flex;
  }
  .box {
    cursor: pointer;
    width: 40px;
    height: 20px;
    box-sizing: border-box;
    transition: 0.1s;

    &:hover {
      scale: 1.2;
    }
  }
`,PB=UF.div`
  height: 24px;
  width: 24px;
  cursor: pointer;
  position: absolute;
  top: 10px;
  right: 0px;
`,kB=UF.div`
  margin-top: 10px;
`,RB=UF.div`
  align-items: center;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  overflow: hidden;
  position: absolute;
  top: 0;
  width: 100%;
  z-index: 20;
`,LB=UF.div`
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  /* justify-content: center; */
  align-items: center;
  width: 750px;
  height: 700px;
  padding: 35px;
  background-color: #ffffff;
  position: relative;
  ::-webkit-scrollbar {
    display: none;
  }
  z-index: 25;
`,IB=UF.div`
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  /* justify-content: center; */
  align-items: center;
  width: 450px;
  height: 320px;
  padding: 35px;
  background-color: #ffffff;
  position: relative;
  ::-webkit-scrollbar {
    display: none;
  }
  z-index: 25;
`,NB=UF.img`
  width: 45px;
  height: 45px;
  top: 22px;
  right: 22px;
  position: absolute;
  cursor: pointer;
`,DB=UF.p`
  font-family: "title4";
  font-weight: 700;
  font-size: 30px;
  margin-top: 0px;
`,OB=UF.p`
  font-family: "title4";
  font-size: 20px;
  text-align: left;
  white-space: pre-line;
  margin: 0;
  line-height: 27px;
  & > span {
    font-family: "title4";
    font-size: 20px;
    font-weight: 600;
    color: ${jF.font};
  }
`,zB=UF.p`
  font-family: "title2";
  white-space: pre-line;
  font-size: 15px;
  text-align: left;
  margin: 0;
  color: ${BF.subTitle};
  line-height: 27px;
`,UB=UF.p`
  font-weight: 500;
  font-size: 15px;
  color: ${BF.subTitle};
  margin: 7px auto 0px auto;
`;UF.p`
  white-space: pre-line;
`;const FB=UF.p`
  white-space: pre-line;
  align-content: left;
  padding-left: 13px;
  text-indent: -13px;
  line-height: 23px;
  margin-bottom: 3px;
  margin: ${e=>e.margin};
  & > span:nth-of-type(1) {
    font-weight: 600;
    color: ${jF.font};
  }
`,BB=UF.p`
  white-space: pre-line;
  align-content: left;
  padding-left: 25px;
  text-indent: -13px;
  line-height: 18px;
  margin-bottom: 2px;
  font-size: 14px;
  margin: ${e=>e.margin};
  & > span:nth-of-type(1) {
    font-size: 14px;
    font-weight: 600;
    color: ${jF.font};
  }
`,VB=UF.button`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: 30px;
  width: 160px;
  height: 45px;
  font-size: 15px;
  background-color: ${FF};
  color: ${VF};
  padding: 0px 20px;
  :hover {
    color: ${VF};
    background: ${jF.btnHover};
    border: none;
  }
  cursor: pointer;
`,jB=UF.div`
  display: flex;
  flex-direction: column;
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  margin: ${e=>e.margin};
  /* background-color: skyblue; */
`,HB=UF(jB)`
  align-items: "";
  justify-content: "";
  /* background-color: skyblue; */
`,WB=UF.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  margin: ${e=>e.margin};
  column-gap: ${e=>e.columnGap}px;
  /* background-color: pink; */
`,GB="/ayoungRoom/assets/reject-9db173ca.png",qB=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.codingModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,codingModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,codingModal:!1}),clearTimeout(n)}),200)}}),Q(XB,{})]})})})},XB=()=>$(K,{children:[Q(DB,{children:"Skills"}),Q(YB,{}),Q(DB,{children:"interested"}),Q(HB,{className:"left skills",width:550,children:$(OB,{style:{marginTop:"30px",lineHeight:"35px"},children:["- 작은 부분까지 사용이 편한 ",Q("span",{children:"사용자 중심적인 UI/UX"}),"\n                - ",Q("span",{children:"창의적인 인터렉션"}),"으로 새롭고 즐거운 경험을 주는 서비스\n                - 유지보수를 위한 ",Q("span",{children:"재사용성이 높고 읽기 쉬운 코드"}),"\n                - "," ",Q("span",{children:"마운트 속도, 리렌더링 최소화"}),"를 통한 최적화 및 유저 피로도 감소"]})})]}),YB=()=>$(K,{children:[$(WB,{margin:"30px 0 0 0 ",columnGap:25,children:[Q(jB,{width:150,children:Q(OB,{children:"Front-end"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ TypeScript\n▪ JavaScript\n▪ React.js\n▪ HTML5\n▪ CSS\n"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ Canvas\n▪ Three.js\n▪ Babylon.js\n▪ Cannon.js\n▪ Stomp & Sock.js\n"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ React Query\n▪ Recoil\n▪ Redux\n▪ Axios\n▪ SSE 알림"})})]}),$(WB,{margin:"40px 0 0px 0 ",columnGap:25,children:[Q(jB,{width:150,children:Q(OB,{children:"Deployment & Version Control"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ PWA\n▪ GitHub Actions\n"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ Git / GitHub\n▪ Amazon AWS\n"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ Amazon S3\n▪ CloudFront\n"})})]}),$(WB,{margin:"40px 0 75px 0 ",columnGap:25,children:[Q(jB,{width:150,children:Q(OB,{children:"Design"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ Blender\n"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ Photoshop\n"})}),Q(jB,{width:140,children:Q(zB,{children:"▪ Figma\n"})})]})]}),ZB=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.fileModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,fileModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,fileModal:!1}),clearTimeout(n)}),200)}}),Q(JB,{})]})})})},JB=()=>(Pz(Lz),$(K,{children:[Q(DB,{children:"Introduce"}),$(KB,{children:[Q(jB,{className:"photo"}),$(HB,{className:"propile text",width:350,children:[Q(zB,{children:"이름 : 심아영\n        주소지 : 성남시 분당구\n        학력 : 컴퓨터공학 - 학점은행 졸업\n    "}),Q(zB,{style:{marginLeft:"40px"},children:"언론정보, 경영학 - 경희대 서울캠 졸업(4.24/4.5)"}),Q(zB,{children:"이메일 : ccimayoung@gmail.com"})]})]}),Q(HB,{className:"career",width:100,margin:"15px auto 0 50px",style:{fontFamily:"title4"},children:"경력 및 교육"}),$(QB,{children:[Q($B,{style:{height:"150px"}}),$(eV,{children:[Q(nV,{date:"23.05 ~ 23.08",message:"인천 무크 교과 SW 강의",importMessage:"",hoverMessage:"강의 연결",hoverOnclick:()=>{window.open("https://imooc.datamine.co.kr/courses?category=cat26","_blank","noopener, noreferrer")}}),Q(nV,{date:"23.02 ~",message:"모비아 프론트 개발자"}),Q(nV,{date:"22.10 ~ 22.12",message:"리빌더AI 프론트 개발자"}),Q(nV,{date:"22.05 ~ 22.08",message:"항해99 7기 수료",importMessage:"39개 팀 중 1위 최우수 프로젝트 수상"}),Q(nV,{date:"20.02",message:"컴퓨터공학 졸업 (중앙대 평생교육원)"})]})]}),Q(HB,{className:"career",width:100,margin:"40px auto 0 50px",style:{fontFamily:"title4"},children:"비개발 경력"}),$(QB,{children:[Q($B,{style:{height:"150px"}}),$(eV,{children:[Q(nV,{date:"23.02",message:"언론정보학, 경영학 졸업 (경희대 서울캠. 총/전공 학점 4.24)"}),Q(nV,{date:"21.04 ~ 21.12",message:"플레이디(KT 계열사), 오렌지플라워 퍼포먼스 마케팅"}),Q(nV,{date:"20.01 ~ 21.03",message:"GS리테일, 휴먼코아(삼성SDS 소속) 연말정산 TF 부팀장 "}),Q(nV,{date:"16.02 ~ 19.05",message:"공영홈쇼핑 고객센터 인사팀 교육/QA 강사"}),Q(nV,{date:"15.10 ~ 16.05",message:"‘어브로드X유니온’ 창업 - 해외직구 쇼핑몰"})]})]})]})),KB=UF(WB)`
  margin: 25px 0 0 0;
  width: 580px;
  height: 160px;
  align-items: center;

  .photo {
    width: 125px;
    height: 125px;
    margin: 0 30px 0 0px;
    border-radius: 50%;
    background-position: center;
    background-repeat: none;
    background-size: 130px;
    background-image: url("assets/profile/ph.jpg");
  }
`,QB=UF.div`
  width: 580px;
  height: 120px;
  margin: 10px 0 10px 0;
  display: flex;
  flex-direction: row;
  /* background-color: lightgreen; */
`,$B=UF.div`
  width: 6px;
  height: 120px;
  margin: 0px 0 0 20px;
  border-radius: 20px;
  background-color: ${FF};
`,eV=UF.div`
  /* background-color: orange; */
  display: flex;
  /* height: 120px; */
  row-gap: 7px;
  flex-direction: column;
`,tV=UF.div`
  width: 60px;
  height: 2px;
  background-color: ${FF};
`,nV=({date:e,message:t,importMessage:n,hoverMessage:r,hoverOnclick:i})=>{const[a,o]=B.useState(!1);return $(WB,{height:24,style:{alignItems:"center",columnGap:"10px",justifyContent:"left"},onPointerOver:e=>{e.stopPropagation(),o(!0)},onPointerOut:e=>{e.stopPropagation(),o(!1)},children:[Q(tV,{}),Q(zB,{style:{width:"100px"},children:e}),Q(zB,{style:{fontFamily:"title3"},children:t}),!a&&n&&Q(zB,{style:{fontFamily:"title3",color:jF.font,marginLeft:"-3px"},children:n}),a&&r&&Q(zB,{style:{width:"200px",fontFamily:"title3",color:HF.aTag,marginLeft:"-3px",cursor:"pointer"},onClick:i,children:r})]})},rV=({isLoading:e})=>{const[t,n]=Pz(Lz),r=()=>{if(!e){const e=setTimeout((()=>{n({...t,onboardingModal:!1}),clearTimeout(e)}),200)}};return Q(K,{children:(t.onboardingModal||e)&&Q(RB,{onClick:r,children:$(LB,{onClick:e=>{e.stopPropagation()},children:[!e&&Q(NB,{src:GB,alt:"닫음",onClick:r}),$(HB,{className:"left skills",width:600,children:[Q(OB,{style:{marginTop:"5px",lineHeight:"33px"},children:"안녕하세요. Creative Frontend Developer 심아영입니다. \n               제 공간에 오신 것을 환영합니다.🙂\n\n                3D 공간이 번거로우시다면 아래 1113 아이콘에서 한번에 볼 수 있습니다.\n                다양한 인터렉션이 있으니 3D 공간을 둘러보는 것을 추천합니다. "}),Q(aV,{src:dB,alt:"프로필 아이콘"})]}),Q(iV,{src:"/ayoungRoom/assets/이동설명-c0f106ee.png",alt:"이동방법"})]})})})},iV=UF.img`
  margin: 25px auto 0 auto;
  height: 419px;
  width: 500px;
`,aV=UF.img`
  position: absolute;
  background-color: ${VF};
  top: 128px;
  left: 337px;
  height: 47px;
  width: 47px;
`,oV=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.phoneModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,phoneModal:!1}),clearTimeout(n)}),200)},children:$(IB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,phoneModal:!1}),clearTimeout(n)}),200)}}),Q(DB,{children:"Contect"}),$(sV,{children:[$(WB,{children:[Q(lV,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAsXSURBVHic7Z17jJ1FFcB/++22a7ultQ8Qu1S7lBboY0EQQ7EFV0RtoU2B1tpUHgoUgyaaGKk2RotBQIkgiUpEkVB8FMNLHhFdI/IUF6rRQoNS7TZaKS22tt1Ht/u4/nF2s7u39373e8yZud/jl5w06d07c+bM3G/mm5lzDuTk5GSXGtcKWKIOmDpC6oGxQMPg553AEaAH+O8I6bOuqWXSNgCagAXAfGAuMHNQphO+rQPAG0D7oGwDtgKvADsM6FoVJHkA1AJnAS3AwkGZZqnuvcCLwAvAU8DLQL+lujPNJOATwP3II7pQJfIWsBlYC0xUa31GqQdWA48Ch3Hf2ZWkG/glsApZZ+REZDZwO/K4dd2pUWUP8G3gJMO2STUtyK+9H/cdaEr6gUeAcw3aKXUsAn6H+87SlueAZYZslgqakZW0646xLb8F5hmwX2KZBNyCbL647gxX0gvcQcbeHGqAy4HduO+AapE3Bm2S5H2ZQMxC5kDXBq9WeRrZzUwllwL7cW/kapcDwJqINq5KxiHznGvDJk02MXxYlVjmAn/FvTGTKtuQt6REsgw5ZnVtxKRLB3BhSNs750rkfN218dIifcA1YTrAJeuRs3TXRkubDAAbg3eDfWqBO3FvqLTL3cgNp6rCA+7DvXGyIvdSZZtGt+HeKFmT7wbqGQtsxL0xsipfqdw9ulyHeyNkXT5fsZeUWE26Lm0kVfqBlRX6yjhzgIMxFc/FnBwCTvXtMYM0AK8qNyiX8LIVGO/TbyWpDfsF4MfA+RG+V8xLQCvwOjKCG5CDoyywC2l/G/Bn5HLM22OWeRxwAnL3UI11mBmtvcCxRWV7wHuA6xHjuP5FmZQ+4DFkO3dmCbteYrCuq0qUb4T5yJ13E0q2BqivGTlGPmCoTheyE9iAuKb5MQ55Cpqosws4pUJ9oalFHlemDLMuRN1TgBtJ1qJzJ/BpwjmGbDZY/1MY3in8okHlCkRzlJgK3Ex1ewftQfZGongEXWtYl8uDVBpklMwAXiPCCrMM+5HOLET8/mzge8AFPn/TB2xH3lb+hSy6dgP/QaaUw8h01oU83eqBCcAYZG3yDqAROB44kWFP43L2KiCL4/WIz2IUzgC2RPxuKfYiU8G+uAWZfDQVCDb/B2E10rEDiMv2nYjj6Hx0fPIagDOR6WsT4iJeQF6/3m+g/DGYW2MNyV1xlVqM+bP92EqN4BjkaeKKRqTjTLEds7buB86Oo9DvDStUAL4eR6GU8zzm7f2MX4Wez2dLgfMiN6U8seekFBN1/eDHYnzWS34DYKNxVYQou49ZQeuSxw3lPig3AFqQ8CsamJwz04bWVa+FyJPgKMoNgOuVFAF5xcopzfGKZQfu05PRvdX7kInWpJS30LP7ALKHMopST4B16F44PF2x7CTTiO4rbQ1wdaU/ehu6o3BIZhhrVnpYib7d91C0SVb8BLgIOxsrqyzUkTRWWKjjWGDJyP8oHgAfs6AElD4TzzqNlur5eLkPJmDHmfN5ZKrJGc105OBK2/4dlDnYu9hC5W+Svwb68T7sONUuH6pw5BSwVK1ZQgH4FDIIckrThp2zkiXF/1ED/BvdUfczxQaliTr0b123F1c6R7nCTvJXvzBcgP40cCIMTwGLlBt0F7LAyQlGKxJNTZNFMDwAzlGsqA/4jmL5aeVW5fJH/eg1Azk9odyQtOIhV960+uVPQ5WMRQ6AtPi5YtlpZgB4QLH8uQwezZ+G3ijrR+7150TjQ+guBOd56P76XyG/AhaHPyBudFqc7KEbm/aPimVngU7kR6RFk/YA+Lti2VnhdcWymzx0T6H+oVh2VtiuWPYMD91cexrXnLPGfsWyp2oPgE7FsrNCh2LZ0zziR6bwQ3MFmxV6FMue7CGesVrkFz/iY8oruxT12gNAU/msoD4ANAMP5wMgPpo2HOshwRK0mKBYdlbQtOFhDwlKoMUJimVnBc2LNJ0euq9qqU2BZhFNG3Z6SJwcLfIBEB9NG3Z56G40HOWMmBOKSRwdUNMkHR6StlSL2eg2IO3Eiu8TgF0eJa4IG6QG/UakGRPRx/zYqT0AQL8RaWahcvk7PSSsqSbLK/9JTgkmov/jafeQgIeanAosUK4jjVyCfvj8dpADG22HxG8oNySN/AbdPulhxDnQFuXKdpGfDIbhJMShRrNP2mDYM+gl5QZNBz6pXEea2IB+PMVRF3avRne0FZD5RiOIc9powk6MgCtGVrrAQoUF4KsmLJRyHsVOX4zKKmIjPkABWXjMM2CktLIGO51f8tX/h5Yqf5nsZAcLw7uRMG42+uD7pRRYYanyAuL0WFXZrx1zDPAX7Nm/ZDigCdjNx6Pt/54UxgFPYs/uXfg8gZ+wqEgBSfPiF7I+7UxEJymHn/gmllxlWZkC8DC6vgnVyhwka6hte/tGJK3HTqzgYtmB/slXNXEl5hJFhpHdBMjXcIcDxQpIRIxNpDuQ5CnYne+L5VtBlNSMGBJE/odkCj0uiLIJoRkZ3Nr7+5UkcIr5p0MUOoB02Hxg8uC/a4B7iBd7uBtJxnguyXxlHA+sRU71NBNwBJVfh1H+IyEK7kTeY0sxCRkcPTGV34FMTR+lujeRhg697qf6ch2fF7YxYVK4P4i/j+E8JFqIiYb0ILFzbkMONM7GfiCqMcgqfhnwBeCnwD8D6O5KIgWdDJvT/kXgXT7lTUE6TquRe5HHnOYrZTOSR7lXsR0aEikQuEf47clDwGU+ZU5Gcu1qNPIIElZNm88o6a8lbcRYQ30wYqW3+FQ6C8ngbbqhN0VtZAQeUdBfQwYwEAb4wYiV3+xT5jWGG9qO3cXhTOxc2ogrPzHR2CaipzVfW6bMGsxeelxvoqEhuTeGvjakA4MR4G6MqMQh5JFfikbMBEPuwc2mUdTp0ZZ82WRj64m+eHvcp9wzkTBocRr6rLFWhqOW+LprSRsKkV9OJ/qGzlE5akZwGvGuo7m8V/C4j16upIui+34m2RBRqUobEVORnEJht0x7kN1BV9xURi+X8jnNBtcief+iKBbEz+0M4G4kwrjfCP8V8Fncu55fhfsOHymthLxgE2WDoBHZJn5nyO89QPCUsR6S0GAWw74E3cDfkHOBvpB1a7ECudBSDbQDZyH3OdQ5h/D3B/sIcRyZELQTOgSVDmQtZZUrIij6HPouTzb5AO47fwBYrdzOskS5PeRi00aLFtwPAKfeVh5y0yWMwn3AShfKKuB6M+h2/SZWpg54iHCK9yLnAUnnfNx1/o+ooptS9UTb278P2QNIKq4WgZupwrXUeOAxwjdmH/AldBNXaGEjx2+x3INugO9Y1CEKRmlYNzKVXItcIfOLJTAFSX26Dt1w95X4MHY73++eRdVQA3yT+I3tQ9yYtyIexVuQTaDiyyQuvYrCXJ6NI/0ob/FqcB3xbwMHEZeZSZf46GVKDgKX2mqQad6LbFFqGsjlInKpj14m5DVSEFBjGnJIoWUklwdCF/roFVceRvwqUkEdcAM69+hc+hJe5KNXVDmALIRTyQJkQWfSYGFPJU2y3EevKPIk/r4VqWAM8DXMPQ00U99WwtQA2EcG4yjOAX5BfOO5zEsUN65SL/AD0u0SX5EW4oWqdfnIvNhHr0rSinhS5yCnipcBrxLekC7zEoX1nxxA5vnFLpRNAjWIx+2zBDeqy32AoKeBR5Bj82Y3aiaThYhrUxflDbvNmXbCZPyDYOxEnGry/IkxmIjcvn2G0dfG36Q6AkutYnQwiIPIgVgLCQiBV/UnS0XMRBZO3cAL6GY9DUMD8njvQ9YxmrkYc3Jycgzxf/f7YEX5mx72AAAAAElFTkSuQmCC",alt:"github"}),Q("p",{className:"githubtag",onClick:()=>{const e=setTimeout((()=>{window.open("https://github.com/ccimayoung","_blank"),clearTimeout(e)}),100)},children:"github.com/ccimayoung"})]}),$(WB,{children:[Q(lV,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADdgAAA3YBfdWCzAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAArlSURBVHic7Z37j1XVFcc/e+RRE2vfxba8KbbaSsUREJvggBDBAIKAoEFR+aUag+lfUBPb2qSJKSXEGK3IcwiCIIq8YWgTtTCWWipWpc9oxT5stY1tee3+sNZMDuPcOeu87j0zZ3+SkxBmnb3XXt/vPXPvnf1w3nsC1aWp0QkEGkswQMUJBqg4wQAVJxig4gQDVJxggIoTDFBxggEqTjBAxQkGqDjBABUnGKDiBANUnGCAihMMUHGCASpOMEDF6VfrB865gcBEoDlyjQZcfVILpMQDbwIvR64Xvff/6z7a+49cwDjguDYWrt5/HQfGdat1F+H7Aw8Cp0uQdLjyvU6rtv2jmruOWcHOuQHAT4EJBPoyPwcmee9PwflvAr9DEL8KTEC0BpAngHNuPPACcEHD0grUk7PAtd77ww4YCBwFLmtsToE68xow1gEtwMEEN54BlgP/LiCpQHouAu6nh4/23TC5H/L5Pgn9gGuAGd77fyW8N1AAzrmPAztJJj5AcxPJDQDwTWCXdhxoIKrBLkSTpKQ2AMC1wO5ggsahtd+NaJGGZgecI9vXuy8C0733H2RoI5AQ59zFyCt/YoZmfBM9i3/K0MhE5ElwcYZEAgnQWu/GJn5PGrq4vwYuBw4YOrkG2OOc+4QhNpABrfEepOZxHEA0rEmcAT4EZgL7DZ1NIJigUCLiW76x3Y9o92FPQbHzAbz3/wFmAfsMnY4H9jrnPmmIDSRAa7oXqXEc+4BZql2PmCaEREyw1xA+jmCCXImIP84Qvhej+JBgRpD3/r/AbOQRFMfViAk+ZW0/0D1aw71ITePYA8xWrUwkmhKmDd+EvAONI5ggIwnF3w3clER8SDEnUDuYg3wGjaMZ2Oec+3TSfqqO1mwfti/qdgFzkooPKSeFRkyw0xB+FcEEiYiIf5UhfCcpxYcMs4J1kuFc4HlD+Fhgv3PuM2n7qwpao/1IzeJ4Hphbc8KngUzTwrXjm4EdhvArCSbokYj4VxrCdwA3ZxEfclgXEDHBc4bwbyAm+GzWfvsaWpP9SI3ieI4cxIecFoboBMN5wLOG8GCCLiQU/1lgXsekzqzktjJIE5oPbDeEjwEOOOc+l1f/vRWtwQGkJnFsB+bnJT7kvDRME1sAPGMIv4KKmyAi/hWG8GeABXmKDwWsDYyYYJsh/OuICT6fdx5lR8d8AKlBHIWIDwUtDvXenwZuIZigWxKKvw0R/3QRuRS2Ojhigq2G8K8BB51zg4rKpyzoGA8iY45jK3BLUeJDwcvDIyZ42hB+OX3cBBHxLzeEP03B4kMd9gfw3p8BFgJbDOGXISa4pNis6o+O6SC2BThbgIVau0KpywYROpBFwGZDeJ8zQULxNwOL6iE+1HGHEB3QrcBThvCvAm3OuS8Um1Xx6BjakDHF8RRwa73EhzpvEaMDuw3YZAj/CmKCLxabVXFo7m3IWOLYBNxWT/GhAXsERUyw0RB+KfLroNeZQHM+iIwhjo00QHxo0CZR3vuzwGKg1RB+KfIk+FKxWeWH5tqGTfxWYLHWpO40bJcwHfDtwAZD+Gh6iQki4o82hG8Abm+U+NDgbeJ04HcA6w3hX0ZMMLjYrNKjubUhucaxHrijkeJDCfYJ1AIsAdYZwjtMMKTYrJKjObVhE38dsKTR4kMJDADnmWCtIXwUJTNBRPxRhvC1lER8KIkBALz354A7gTWG8JGICYYWmpQBzaENySmONcCdOtZSUBoDQKcJ7gJWG8IbboKE4q8G7iqT+FAyA0CnCe4GnjSEjwAOOeeGFZpUN2ifhzSHOJ4E7i6b+FBCA0CnCZYCqwzhw5EnwfACUzoP7atN+45jFbC0jOJDSQ0AnSaw7joynDqZIKH4AB+UVXwosQGcc8uRbc+sDEN+HVgeyanQtg9pX1bu17GUklIawDm3AliW4tahyJPA8qYsEdpmm/aRlGU6ptJRKgM4YSVwX4ZmcjdBRvE7uM85t9I5V6rzFkpjAC3MSuDeHJobgvw6sHwx0yPaxiFtMyv3AqUyQSkMoAV5BLjHEP4Wtm8MByNPAsva+lp5XY288i1/f1irucVxD/BImUzQ0yEDD3R3ykSeF7JN3aMxeXRcfwJG6X0rjPecBr4HDEiQ0wC9x3pwxkodxyjN0XLPo+hu7QXX94GYPBpnAC3aYwnEH9nl/h8Z7/XAMWocm9KlzXEaa213RZf7RyYwwWNFm6C0BlDxHzcW6o/AiBrtPJxALA+8gyytfhDZ32Cu/nuH/ixJWz+ukdMIzdnSxuNFmqCUBkDeezxhLNAfaokfae+HCYXL41oek9MIzd3S1hNAUyUMoOKvMhbm98BwY7sP1VH8h405DdcxWNpcVYQJSmUAFX91AvGHJWz/WxR74tkZYFnCnIYlMMHqvE1QGgOo+GuMhfgdMDRlP1OA9woQ/z1gWsqchuqYLP2sydMEpTAAchjVOmMBfptW/C6vurXI4UhZhT+rbQ3LmNNQHZulz3XABX3CACr+euPATwBDcnT/GGQ/nXMphD+n947JMZ8hOkZL/+vzMEFDDaDityYQf3Bexe6SxyBkfsE24P0ecnhfY5YCgwrKZXACE7RmNUGcAZIeMmTGOdcPeZQtNISfAFq8928XkYv3/l3gJ3rhnLsIuEQvgJPASe994Sehee/fcs5dh20G8SLkm/LFvqBVQ4UYQMXfgGwVE8ebwOSixO8OFfqEXnXHe/+2c64FWToWt4BkIdDknCtk6VjufwxS8Vuxif8GBb7yy4yOuQWpQRwLgFatba7kagBNcCOyXVwcryPi/znPHHoTOvYWpBZxzAc25m2C3AzgnOuPLHGeZwh/HXnsv5NX/70VrcFkbCaYB2zSWudCLgaIiD/XEP4b5JVfefE70Fq0ILWJYy45miCzAZxzA5BtTeYYwl9DxD+Ztd++htakBalRHHOAzVr7TGQyQET82Ybw48hj/90sffZltDaTkVrFMZscTJDaANrxFuQwqTheJYhvImKCVw3hs4AtWUyQygDOuYHIJoYzDeG/BqZ47/+Spq8qorWagtQujpnAVtUkMYkNEBH/RkP4MYL4qYiY4Jgh/EZSmiCRAZxzH0O+K59hCO8Q/69JkwoIWjurCWYA21QjM2YDRMSfbgj/FSL+35IkE/goWsMpSE3jmE5CE5gM4Jy7EDms4AZD+CsE8XMlYoJXDOE3ANtVs1hiDRARf5qhvV8C13vv/27pPGBHa3o9UuM4pmE0QZwBLkTOqJlq6PQoQfxCiZjgqCF8KqJdjyZw6KyQGpxCVsnE8Qtgqvf+H4bYQEb0SFnrwZI9auiQqU9Z1qm9jEyWDOLXkci5wpajZWvhm5AJGWlpJ7zyG4LWfCqiQVreaEJewWk4grzy/5khgUAGtPbTEC3ScCStAQ4TxC8FERMcTnF7ez+SG+As8ALw7RItcQ+IJs3ITGwrRxwwEPlYYTnOJNB3OA6MbfJyAPESZN1boBqcQfYrPtUE4L0/AvygsTkF6shD3vt20I0JoHNe38+ACQ1MLFA8LwGTvJ5H2PlVsP7HJOD7yBu9QN/iDPBd4DofPYyyxnqy8cibhCyrasNVnusY0Nyd1p2/Arqis0smIh8tOq7RZPvaOFA8Hvl2tx35iN8OvORrnDxe0wCBalCKjSIDjSMYoOIEA1ScYICKEwxQcYIBKk4wQMUJBqg4wQAVJxig4gQDVJxggIoTDFBxggEqTjBAxQkGqDjBABUnGKDi/B+7WzmEA4CbKAAAAABJRU5ErkJggg==",alt:"mail"}),Q("a",{className:"mailtag",href:"mailto:ccimayoung@gmail.com",children:"ccimayoung@gmail.com"})]}),$(WB,{children:[Q(lV,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAADKeAAAyngE62EOGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAIRQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvSgy4QAAACt0Uk5TAAEDCQsRIiQqMDg5O0lXW2Jkan+GmKSwuL6/yM3U2Nrb3N3l6/H0+vz9/kHa9WoAAAEzSURBVHja7dvHDsIwEIThpYbeewslVL//+3GAnKLY0jpgkP45j7yfcslpROypDKabq1HmupkOKuKVTmw8E3d87o/vxjv3sf5+1xSSrvZ+7VQM4FRTAiamoEyUgFXui49hK5PhI7e+0t0vnXNfTMrZejnJrZ9LKkBk+ajbeSZbSz1SAZqmsDQB/DPgsvDKxRuw8/ub7QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP4fwMjltwHHfr3eP4YDrKsiItV1MEDjVWyEAuzT5uEzgMj17DJtLl1N3dzPMnh8zx7TZuIoKgePlsnnO71Xr+fqKSef7tFr0hYRabs+gHr06p793maj0ez2sdlv8OFz+Ol3+PH7F+b/T8aFFxyo8JOEAAAAAElFTkSuQmCC",alt:"phone"}),"010-2935-1666"]})]})]})})})},sV=UF(jB)`
  margin: 35px 0px;
  width: 340px;
  height: 200px;
  /* background-color: blue; */
  row-gap: 20px;

  .githubtag {
    font-size: 22px;
    font-family: "Title4";
    color: #3e7bff;
    cursor: pointer;
  }

  ${WB} {
    height: 50px;
    align-items: center;
    column-gap: 30px;
    justify-content: left;
    font-size: 22px;
    font-family: "Title4";
  }
`,lV=UF.img`
  width: 50px;
  height: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow-x: hidden;
`;function cV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var uV="(prefers-reduced-motion: reduce)",hV=4,dV=5,fV={CREATED:1,MOUNTED:2,IDLE:3,MOVING:hV,SCROLLING:dV,DRAGGING:6,DESTROYED:7};function pV(e){e.length=0}function mV(e,t,n){return Array.prototype.slice.call(e,t,n)}function gV(e){return e.bind.apply(e,[null].concat(mV(arguments,1)))}var vV=setTimeout,yV=function(){};function bV(e){return requestAnimationFrame(e)}function xV(e,t){return typeof t===e}function _V(e){return!TV(e)&&xV("object",e)}var wV=Array.isArray,SV=gV(xV,"function"),MV=gV(xV,"string"),AV=gV(xV,"undefined");function TV(e){return null===e}function EV(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(TG){return!1}}function CV(e){return wV(e)?e:[e]}function PV(e,t){CV(e).forEach(t)}function kV(e,t){return e.indexOf(t)>-1}function RV(e,t){return e.push.apply(e,CV(t)),e}function LV(e,t,n){e&&PV(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function IV(e,t){LV(e,MV(t)?t.split(" "):t,!0)}function NV(e,t){PV(t,e.appendChild.bind(e))}function DV(e,t){PV(e,(function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function OV(e,t){return EV(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function zV(e,t){var n=e?mV(e.children):[];return t?n.filter((function(e){return OV(e,t)})):n}function UV(e,t){return t?zV(e,t)[0]:e.firstElementChild}var FV=Object.keys;function BV(e,t,n){return e&&(n?FV(e).reverse():FV(e)).forEach((function(n){"__proto__"!==n&&t(e[n],n)})),e}function VV(e){return mV(arguments,1).forEach((function(t){BV(t,(function(n,r){e[r]=t[r]}))})),e}function jV(e){return mV(arguments,1).forEach((function(t){BV(t,(function(t,n){wV(t)?e[n]=t.slice():_V(t)?e[n]=jV({},_V(e[n])?e[n]:{},t):e[n]=t}))})),e}function HV(e,t){PV(t||FV(e),(function(t){delete e[t]}))}function WV(e,t){PV(e,(function(e){PV(t,(function(t){e&&e.removeAttribute(t)}))}))}function GV(e,t,n){_V(t)?BV(t,(function(t,n){GV(e,n,t)})):PV(e,(function(e){TV(n)||""===n?WV(e,t):e.setAttribute(t,String(n))}))}function qV(e,t,n){var r=document.createElement(e);return t&&(MV(t)?IV(r,t):GV(r,t)),n&&NV(n,r),r}function XV(e,t,n){if(AV(n))return getComputedStyle(e)[t];TV(n)||(e.style[t]=""+n)}function YV(e,t){XV(e,"display",t)}function ZV(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function JV(e,t){return e.getAttribute(t)}function KV(e,t){return e&&e.classList.contains(t)}function QV(e){return e.getBoundingClientRect()}function $V(e){PV(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function ej(e){return UV((new DOMParser).parseFromString(e,"text/html").body)}function tj(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function nj(e,t){return e&&e.querySelector(t)}function rj(e,t){return t?mV(e.querySelectorAll(t)):[]}function ij(e,t){LV(e,t,!1)}function aj(e){return e.timeStamp}function oj(e){return MV(e)?e:e?e+"px":""}var sj="splide",lj="data-"+sj;function cj(e,t){if(!e)throw new Error("["+sj+"] "+(t||""))}var uj=Math.min,hj=Math.max,dj=Math.floor,fj=Math.ceil,pj=Math.abs;function mj(e,t,n){return pj(e-t)<n}function gj(e,t,n,r){var i=uj(t,n),a=hj(t,n);return r?i<e&&e<a:i<=e&&e<=a}function vj(e,t,n){var r=uj(t,n),i=hj(t,n);return uj(hj(r,e),i)}function yj(e){return+(e>0)-+(e<0)}function bj(e,t){return PV(t,(function(t){e=e.replace("%s",""+t)})),e}function xj(e){return e<10?"0"+e:""+e}var _j={};function wj(){var e=[];function t(e,t,n){PV(e,(function(e){e&&PV(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");n(e,r[0],r[1])}))}))}))}return{bind:function(n,r,i,a){t(n,r,(function(t,n,r){var o="addEventListener"in t,s=o?t.removeEventListener.bind(t,n,i,a):t.removeListener.bind(t,i);o?t.addEventListener(n,i,a):t.addListener(i),e.push([t,n,r,i,s])}))},unbind:function(n,r,i){t(n,r,(function(t,n,r){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==r||i&&e[3]!==i)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var r;return"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:true,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,n),e.dispatchEvent(r),r},destroy:function(){e.forEach((function(e){e[4]()})),pV(e)}}}var Sj="mounted",Mj="ready",Aj="move",Tj="moved",Ej="click",Cj="active",Pj="inactive",kj="visible",Rj="hidden",Lj="refresh",Ij="updated",Nj="resize",Dj="resized",Oj="drag",zj="dragging",Uj="dragged",Fj="scroll",Bj="scrolled",Vj="destroy",jj="arrows:mounted",Hj="arrows:updated",Wj="pagination:mounted",Gj="pagination:updated",qj="navigation:mounted",Xj="autoplay:play",Yj="autoplay:playing",Zj="autoplay:pause",Jj="lazyload:loaded",Kj="sk",Qj="sh",$j="ei";function eH(e){var t=e?e.event.bus:document.createDocumentFragment(),n=wj();return e&&e.event.on(Vj,n.destroy),VV(n,{bus:t,on:function(e,r){n.bind(t,CV(e).join(" "),(function(e){r.apply(r,wV(e.detail)?e.detail:[])}))},off:gV(n.unbind,t),emit:function(e){n.dispatch(t,e,mV(arguments,1))}})}function tH(e,t,n,r){var i,a,o=Date.now,s=0,l=!0,c=0;function u(){if(!l){if(s=e?uj((o()-i)/e,1):1,n&&n(s),s>=1&&(t(),i=o(),r&&++c>=r))return h();a=bV(u)}}function h(){l=!0}function d(){a&&cancelAnimationFrame(a),s=0,a=0,l=!0}return{start:function(t){t||d(),i=o()-(t?s*e:0),l=!1,a=bV(u)},rewind:function(){i=o(),s=0,n&&n(s)},pause:h,cancel:d,set:function(t){e=t},isPaused:function(){return l}}}var nH="Arrow",rH=nH+"Left",iH=nH+"Right",aH=nH+"Up",oH=nH+"Down",sH="ttb",lH={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[aH,iH],ArrowRight:[oH,rH]};var cH="role",uH="tabindex",hH="aria-",dH=hH+"controls",fH=hH+"current",pH=hH+"selected",mH=hH+"label",gH=hH+"labelledby",vH=hH+"hidden",yH=hH+"orientation",bH=hH+"roledescription",xH=hH+"live",_H=hH+"busy",wH=hH+"atomic",SH=[cH,uH,"disabled",dH,fH,mH,gH,vH,yH,bH],MH=sj+"__",AH="is-",TH=sj,EH=MH+"track",CH=MH+"list",PH=MH+"slide",kH=PH+"--clone",RH=PH+"__container",LH=MH+"arrows",IH=MH+"arrow",NH=IH+"--prev",DH=IH+"--next",OH=MH+"pagination",zH=OH+"__page",UH=MH+"progress"+"__bar",FH=MH+"toggle",BH=MH+"sr",VH=AH+"initialized",jH=AH+"active",HH=AH+"prev",WH=AH+"next",GH=AH+"visible",qH=AH+"loading",XH=AH+"focus-in",YH=AH+"overflow",ZH=[jH,GH,HH,WH,qH,XH,YH],JH={slide:PH,clone:kH,arrows:LH,arrow:IH,prev:NH,next:DH,pagination:OH,page:zH,spinner:MH+"spinner"};var KH="touchstart mousedown",QH="touchmove mousemove",$H="touchend touchcancel mouseup click";var eW="slide",tW="loop",nW="fade";function rW(e,t,n,r){var i,a=eH(e),o=a.on,s=a.emit,l=a.bind,c=e.Components,u=e.root,h=e.options,d=h.isNavigation,f=h.updateOnMove,p=h.i18n,m=h.pagination,g=h.slideFocus,v=c.Direction.resolve,y=JV(r,"style"),b=JV(r,mH),x=n>-1,_=UV(r,"."+RH);function w(){var i=e.splides.map((function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");GV(r,mH,bj(p.slideX,(x?n:t)+1)),GV(r,dH,i),GV(r,cH,g?"button":""),g&&WV(r,bH)}function S(){i||M()}function M(){if(!i){var n=e.index;(a=A())!==KV(r,jH)&&(LV(r,jH,a),GV(r,fH,d&&a||""),s(a?Cj:Pj,T)),function(){var t=function(){if(e.is(nW))return A();var t=QV(c.Elements.track),n=QV(r),i=v("left",!0),a=v("right",!0);return dj(t[i])<=fj(n[i])&&dj(n[a])<=fj(t[a])}(),n=!t&&(!A()||x);e.state.is([hV,dV])||GV(r,vH,n||"");GV(rj(r,h.focusableNodes||""),uH,n?-1:""),g&&GV(r,uH,n?-1:0);t!==KV(r,GH)&&(LV(r,GH,t),s(t?kj:Rj,T));if(!t&&document.activeElement===r){var i=c.Slides.getAt(e.index);i&&ZV(i.slide)}}(),LV(r,HH,t===n-1),LV(r,WH,t===n+1)}var a}function A(){var r=e.index;return r===t||h.cloneStatus&&r===n}var T={index:t,slideIndex:n,slide:r,container:_,isClone:x,mount:function(){x||(r.id=u.id+"-slide"+xj(t+1),GV(r,cH,m?"tabpanel":"group"),GV(r,bH,p.slide),GV(r,mH,b||bj(p.slideLabel,[t+1,e.length]))),l(r,"click",gV(s,Ej,T)),l(r,"keydown",gV(s,Kj,T)),o([Tj,Qj,Bj],M),o(qj,w),f&&o(Aj,S)},destroy:function(){i=!0,a.destroy(),ij(r,ZH),WV(r,SH),GV(r,"style",y),GV(r,mH,b||"")},update:M,style:function(e,t,n){XV(n&&_||r,e,t)},isWithin:function(n,r){var i=pj(n-t);return x||!h.rewind&&!e.is(tW)||(i=uj(i,e.length-i)),i<=r}};return T}var iW=lj+"-interval";var aW={passive:!1,capture:!0};var oW={Spacebar:" ",Right:iH,Left:rH,Up:aH,Down:oH};function sW(e){return e=MV(e)?e:e.key,oW[e]||e}var lW="keydown";var cW=lj+"-lazy",uW=cW+"-srcset",hW="["+cW+"], ["+uW+"]";var dW=[" ","Enter"];var fW=Object.freeze({__proto__:null,Media:function(e,t,n){var r=e.state,i=n.breakpoints||{},a=n.reducedMotion||{},o=wj(),s=[];function l(e){e&&o.destroy()}function c(e,t){var n=matchMedia(t);o.bind(n,"change",u),s.push([e,n])}function u(){var t=r.is(7),i=n.direction,a=s.reduce((function(e,t){return jV(e,t[1].matches?t[0]:{})}),{});HV(n),h(a),n.destroy?e.destroy("completely"===n.destroy):t?(l(!0),e.mount()):i!==n.direction&&e.refresh()}function h(t,i,a){jV(n,t),i&&jV(Object.getPrototypeOf(n),t),!a&&r.is(1)||e.emit(Ij,n)}return{setup:function(){var e="min"===n.mediaQuery;FV(i).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){c(i[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),c(a,uV),u()},destroy:l,reduce:function(e){matchMedia(uV).matches&&(e?jV(n,a):HV(n,FV(a)))},set:h}},Direction:function(e,t,n){return{resolve:function(e,t,r){var i="rtl"!==(r=r||n.direction)||t?r===sH?0:-1:1;return lH[e]&&lH[e][i]||e.replace(/width|left|right/i,(function(e,t){var n=lH[e.toLowerCase()][i]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var r,i,a,o=eH(e),s=o.on,l=o.bind,c=e.root,u=n.i18n,h={},d=[],f=[],p=[];function m(){r=y("."+EH),i=UV(r,"."+CH),cj(r&&i,"A track/list element is missing."),RV(d,zV(i,"."+PH+":not(."+kH+")")),BV({arrows:LH,pagination:OH,prev:NH,next:DH,bar:UH,toggle:FH},(function(e,t){h[t]=y("."+e)})),VV(h,{root:c,track:r,list:i,slides:d}),function(){var e=c.id||(a=sj,""+a+xj(_j[a]=(_j[a]||0)+1)),t=n.role;var a;c.id=e,r.id=r.id||e+"-track",i.id=i.id||e+"-list",!JV(c,cH)&&"SECTION"!==c.tagName&&t&&GV(c,cH,t);GV(c,bH,u.carousel),GV(i,cH,"presentation")}(),v()}function g(e){var t=SH.concat("style");pV(d),ij(c,f),ij(r,p),WV([r,i],t),WV(c,e?t:["style",bH])}function v(){ij(c,f),ij(r,p),f=b(TH),p=b(EH),IV(c,f),IV(r,p),GV(c,mH,n.label),GV(c,gH,n.labelledby)}function y(e){var t=nj(c,e);return t&&function(e,t){if(SV(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!OV(n,t);)n=n.parentElement;return n}(t,"."+TH)===c?t:void 0}function b(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===TH&&jH]}return VV(h,{setup:m,mount:function(){s(Lj,g),s(Lj,m),s(Ij,v),l(document,KH+" keydown",(function(e){a="keydown"===e.type}),{capture:!0}),l(c,"focusin",(function(){LV(c,XH,!!a)}))},destroy:g})},Slides:function(e,t,n){var r=eH(e),i=r.on,a=r.emit,o=r.bind,s=t.Elements,l=s.slides,c=s.list,u=[];function h(){l.forEach((function(e,t){f(e,t,-1)}))}function d(){m((function(e){e.destroy()})),pV(u)}function f(t,n,r){var i=rW(e,n,r,t);i.mount(),u.push(i),u.sort((function(e,t){return e.index-t.index}))}function p(e){return e?g((function(e){return!e.isClone})):u}function m(e,t){p(t).forEach(e)}function g(e){return u.filter(SV(e)?e:function(t){return MV(e)?OV(t.slide,e):kV(CV(e),t.index)})}return{mount:function(){h(),i(Lj,d),i(Lj,h)},destroy:d,update:function(){m((function(e){e.update()}))},register:f,get:p,getIn:function(e){var r=t.Controller,i=r.toIndex(e),a=r.hasFocus()?1:n.perPage;return g((function(e){return gj(e.index,i,i+a-1)}))},getAt:function(e){return g(e)[0]},add:function(e,t){PV(e,(function(e){if(MV(e)&&(e=ej(e)),EV(e)){var r=l[t];r?DV(e,r):NV(c,e),IV(e,n.classes.slide),i=e,s=gV(a,Nj),u=rj(i,"img"),(h=u.length)?u.forEach((function(e){o(e,"load error",(function(){--h||s()}))})):s()}var i,s,u,h})),a(Lj)},remove:function(e){$V(g(e).map((function(e){return e.slide}))),a(Lj)},forEach:m,filter:g,style:function(e,t,n){m((function(r){r.style(e,t,n)}))},getLength:function(e){return e?l.length:u.length},isEnough:function(){return u.length>n.perPage}}},Layout:function(e,t,n){var r,i,a,o=eH(e),s=o.on,l=o.bind,c=o.emit,u=t.Slides,h=t.Direction.resolve,d=t.Elements,f=d.root,p=d.track,m=d.list,g=u.getAt,v=u.style;function y(){r=n.direction===sH,XV(f,"maxWidth",oj(n.width)),XV(p,h("paddingLeft"),x(!1)),XV(p,h("paddingRight"),x(!0)),b(!0)}function b(e){var t=QV(f);(e||i.width!==t.width||i.height!==t.height)&&(XV(p,"height",function(){var e="";r&&(cj(e=_(),"height or heightRatio is missing."),e="calc("+e+" - "+x(!1)+" - "+x(!0)+")");return e}()),v(h("marginRight"),oj(n.gap)),v("width",n.autoWidth?null:oj(n.fixedWidth)||(r?"":w())),v("height",oj(n.fixedHeight)||(r?n.autoHeight?null:w():_()),!0),i=t,c(Dj),a!==(a=C())&&(LV(f,YH,a),c("overflow",a)))}function x(e){var t=n.padding,r=h(e?"right":"left");return t&&oj(t[r]||(_V(t)?0:t))||"0px"}function _(){return oj(n.height||QV(m).width*n.heightRatio)}function w(){var e=oj(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function S(){return QV(m)[h("width")]}function M(e,t){var n=g(e||0);return n?QV(n.slide)[h("width")]+(t?0:E()):0}function A(e,t){var n=g(e);if(n){var r=QV(n.slide)[h("right")],i=QV(m)[h("left")];return pj(r-i)+(t?0:E())}return 0}function T(t){return A(e.length-1)-A(0)+M(0,t)}function E(){var e=g(0);return e&&parseFloat(XV(e.slide,h("marginRight")))||0}function C(){return e.is(nW)||T(!0)>S()}return{mount:function(){var e,t,n;y(),l(window,"resize load",(e=gV(c,Nj),n=tH(t||0,e,null,1),function(){n.isPaused()&&n.start()})),s([Ij,Lj],y),s(Nj,b)},resize:b,listSize:S,slideSize:M,sliderSize:T,totalSize:A,getPadding:function(e){return parseFloat(XV(p,h("padding"+(e?"Right":"Left"))))||0},isOverflow:C}},Clones:function(e,t,n){var r,i=eH(e),a=i.on,o=t.Elements,s=t.Slides,l=t.Direction.resolve,c=[];function u(){a(Lj,h),a([Ij,Nj],f),(r=p())&&(!function(t){var r=s.get().slice(),i=r.length;if(i){for(;r.length<t;)RV(r,r);RV(r.slice(-t),r.slice(0,t)).forEach((function(a,l){var u=l<t,h=function(t,r){var i=t.cloneNode(!0);return IV(i,n.classes.clone),i.id=e.root.id+"-clone"+xj(r+1),i}(a.slide,l);u?DV(h,r[0].slide):NV(o.list,h),RV(c,h),s.register(h,l-t+(u?0:i),a.index)}))}}(r),t.Layout.resize(!0))}function h(){d(),u()}function d(){$V(c),pV(c),i.destroy()}function f(){var e=p();r!==e&&(r<e||!e)&&i.emit(Lj)}function p(){var r=n.clones;if(e.is(tW)){if(AV(r)){var i=n[l("fixedWidth")]&&t.Layout.slideSize(0);r=i&&fj(QV(o.track)[l("width")]/i)||n[l("autoWidth")]&&e.length||2*n.perPage}}else r=0;return r}return{mount:u,destroy:d}},Move:function(e,t,n){var r,i=eH(e),a=i.on,o=i.emit,s=e.state.set,l=t.Layout,c=l.slideSize,u=l.getPadding,h=l.totalSize,d=l.listSize,f=l.sliderSize,p=t.Direction,m=p.resolve,g=p.orient,v=t.Elements,y=v.list,b=v.track;function x(){t.Controller.isBusy()||(t.Scroll.cancel(),_(e.index),t.Slides.update())}function _(e){w(T(e,!0))}function w(n,r){if(!e.is(nW)){var i=r?n:function(n){if(e.is(tW)){var r=A(n),i=r>t.Controller.getEnd();(r<0||i)&&(n=S(n,i))}return n}(n);XV(y,"transform","translate"+m("X")+"("+i+"px)"),n!==i&&o(Qj)}}function S(e,t){var n=e-C(t),r=f();return e-=g(r*(fj(pj(n)/r)||1))*(t?1:-1)}function M(){w(E(),!0),r.cancel()}function A(e){for(var n=t.Slides.get(),r=0,i=1/0,a=0;a<n.length;a++){var o=n[a].index,s=pj(T(o,!0)-e);if(!(s<=i))break;i=s,r=o}return r}function T(t,r){var i=g(h(t-1)-function(e){var t=n.focus;return"center"===t?(d()-c(e,!0))/2:+t*c(e)||0}(t));return r?function(t){n.trimSpace&&e.is(eW)&&(t=vj(t,0,g(f(!0)-d())));return t}(i):i}function E(){var e=m("left");return QV(y)[e]-QV(b)[e]+g(u(!1))}function C(e){return T(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){r=t.Transition,a([Sj,Dj,Ij,Lj],x)},move:function(e,t,n,i){var a,l;e!==t&&(a=e>n,l=g(S(E(),a)),a?l>=0:l<=y[m("scrollWidth")]-QV(b)[m("width")])&&(M(),w(S(E(),e>n),!0)),s(hV),o(Aj,t,n,e),r.start(t,(function(){s(3),o(Tj,t,n,e),i&&i()}))},jump:_,translate:w,shift:S,cancel:M,toIndex:A,toPosition:T,getPosition:E,getLimit:C,exceededLimit:function(e,t){t=AV(t)?E():t;var n=!0!==e&&g(t)<g(C(!1)),r=!1!==e&&g(t)>g(C(!0));return n||r},reposition:x}},Controller:function(e,t,n){var r,i,a,o,s=eH(e),l=s.on,c=s.emit,u=t.Move,h=u.getPosition,d=u.getLimit,f=u.toPosition,p=t.Slides,m=p.isEnough,g=p.getLength,v=n.omitEnd,y=e.is(tW),b=e.is(eW),x=gV(T,!1),_=gV(T,!0),w=n.start||0,S=w;function M(){i=g(!0),a=n.perMove,o=n.perPage,r=P();var e=vj(w,0,v?r:i-1);e!==w&&(w=e,u.reposition())}function A(){r!==P()&&c($j)}function T(e,t){var n=a||(I()?1:o),i=E(w+n*(e?-1:1),w,!(a||I()));return-1===i&&b&&!mj(h(),d(!e),1)?e?0:r:t?i:C(i)}function E(t,s,l){if(m()||I()){var c=function(t){if(b&&"move"===n.trimSpace&&t!==w)for(var r=h();r===f(t,!0)&&gj(t,0,e.length-1,!n.rewind);)t<w?--t:++t;return t}(t);c!==t&&(s=t,t=c,l=!1),t<0||t>r?t=a||!gj(0,t,s,!0)&&!gj(r,s,t,!0)?y?l?t<0?-(i%o||o):i:t:n.rewind?t<0?r:0:-1:k(R(t)):l&&t!==s&&(t=k(R(s)+(t<s?-1:1)))}else t=-1;return t}function C(e){return y?(e+i)%i||0:e}function P(){for(var e=i-(I()||y&&a?1:o);v&&e-- >0;)if(f(i-1,!0)!==f(e,!0)){e++;break}return vj(e,0,i-1)}function k(e){return vj(I()?e:o*e,0,r)}function R(e){return I()?uj(e,r):dj((e>=r?i-1:e)/o)}function L(e){e!==w&&(S=w,w=e)}function I(){return!AV(n.focus)||n.isNavigation}function N(){return e.state.is([hV,dV])&&!!n.waitForTransition}return{mount:function(){M(),l([Ij,Lj,$j],M),l(Dj,A)},go:function(e,t,n){if(!N()){var i=function(e){var t=w;if(MV(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],i=n[1],a=n[2];"+"===i||"-"===i?t=E(w+ +(""+i+(+a||1)),w):">"===i?t=a?k(+a):x(!0):"<"===i&&(t=_(!0))}else t=y?e:vj(e,0,r);return t}(e),a=C(i);a>-1&&(t||a!==w)&&(L(a),u.move(i,a,S,n))}},scroll:function(e,n,i,a){t.Scroll.scroll(e,n,i,(function(){var e=C(u.toIndex(h()));L(v?uj(e,r):e),a&&a()}))},getNext:x,getPrev:_,getAdjacent:T,getEnd:P,setIndex:L,getIndex:function(e){return e?S:w},toIndex:k,toPage:R,toDest:function(e){var t=u.toIndex(e);return b?vj(t,0,r):t},hasFocus:I,isBusy:N}},Arrows:function(e,t,n){var r,i,a=eH(e),o=a.on,s=a.bind,l=a.emit,c=n.classes,u=n.i18n,h=t.Elements,d=t.Controller,f=h.arrows,p=h.track,m=f,g=h.prev,v=h.next,y={};function b(){!function(){var e=n.arrows;!e||g&&v||(m=f||qV("div",c.arrows),g=S(!0),v=S(!1),r=!0,NV(m,[g,v]),!f&&DV(m,p));g&&v&&(VV(y,{prev:g,next:v}),YV(m,e?"":"none"),IV(m,i=LH+"--"+n.direction),e&&(o([Sj,Tj,Lj,Bj,$j],M),s(v,"click",gV(w,">")),s(g,"click",gV(w,"<")),M(),GV([g,v],dH,p.id),l(jj,g,v)))}(),o(Ij,x)}function x(){_(),b()}function _(){a.destroy(),ij(m,i),r?($V(f?[g,v]:m),g=v=null):WV([g,v],SH)}function w(e){d.go(e,!0)}function S(e){return ej('<button class="'+c.arrow+" "+(e?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function M(){if(g&&v){var t=e.index,n=d.getPrev(),r=d.getNext(),i=n>-1&&t<n?u.last:u.prev,a=r>-1&&t>r?u.first:u.next;g.disabled=n<0,v.disabled=r<0,GV(g,mH,i),GV(v,mH,a),l(Hj,g,v,n,r)}}return{arrows:y,mount:b,destroy:_,update:M}},Autoplay:function(e,t,n){var r,i,a=eH(e),o=a.on,s=a.bind,l=a.emit,c=tH(n.interval,e.go.bind(e,">"),(function(e){var t=h.bar;t&&XV(t,"width",100*e+"%"),l(Yj,e)})),u=c.isPaused,h=t.Elements,d=t.Elements,f=d.root,p=d.toggle,m=n.autoplay,g="pause"===m;function v(){u()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),i=r=g=!1,x(),l(Xj))}function y(e){void 0===e&&(e=!0),g=!!e,x(),u()||(c.pause(),l(Zj))}function b(){g||(r||i?y(!1):v())}function x(){p&&(LV(p,jH,!g),GV(p,mH,n.i18n[g?"play":"pause"]))}function _(e){var r=t.Slides.getAt(e);c.set(r&&+JV(r.slide,iW)||n.interval)}return{mount:function(){m&&(!function(){n.pauseOnHover&&s(f,"mouseenter mouseleave",(function(e){r="mouseenter"===e.type,b()}));n.pauseOnFocus&&s(f,"focusin focusout",(function(e){i="focusin"===e.type,b()}));p&&s(p,"click",(function(){g?v():y(!0)}));o([Aj,Fj,Lj],c.rewind),o(Aj,_)}(),p&&GV(p,dH,h.track.id),g||v(),x())},destroy:c.cancel,play:v,pause:y,isPaused:u}},Cover:function(e,t,n){var r=eH(e).on;function i(e){t.Slides.forEach((function(t){var n=UV(t.container||t.slide,"img");n&&n.src&&a(e,n,t)}))}function a(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),YV(t,e?"none":"")}return{mount:function(){n.cover&&(r(Jj,gV(a,!0)),r([Sj,Ij,Lj],gV(i,!0)))},destroy:gV(i,!1)}},Scroll:function(e,t,n){var r,i,a=eH(e),o=a.on,s=a.emit,l=e.state.set,c=t.Move,u=c.getPosition,h=c.getLimit,d=c.exceededLimit,f=c.translate,p=e.is(eW),m=1;function g(e,n,a,o,h){var f=u();if(b(),a&&(!p||!d())){var g=t.Layout.sliderSize(),x=yj(e)*g*dj(pj(e)/g)||0;e=c.toPosition(t.Controller.toDest(e%g))+x}var _=mj(f,e,1);m=1,n=_?0:n||hj(pj(e-f)/1.5,800),i=o,r=tH(n,v,gV(y,f,e,h),1),l(dV),s(Fj),r.start()}function v(){l(3),i&&i(),s(Bj)}function y(e,t,r,a){var o,s,l=u(),c=(e+(t-e)*(o=a,(s=n.easingFunc)?s(o):1-Math.pow(1-o,4))-l)*m;f(l+c),p&&!r&&d()&&(m*=.6,pj(c)<10&&g(h(d(!0)),600,!1,i,!0))}function b(){r&&r.cancel()}function x(){r&&!r.isPaused()&&(b(),v())}return{mount:function(){o(Aj,b),o([Ij,Lj],x)},destroy:b,scroll:g,cancel:x}},Drag:function(e,t,n){var r,i,a,o,s,l,c,u,h=eH(e),d=h.on,f=h.emit,p=h.bind,m=h.unbind,g=e.state,v=t.Move,y=t.Scroll,b=t.Controller,x=t.Elements.track,_=t.Media.reduce,w=t.Direction,S=w.resolve,M=w.orient,A=v.getPosition,T=v.exceededLimit,E=!1;function C(){var e=n.drag;F(!e),o="free"===e}function P(e){if(l=!1,!c){var t=U(e);r=e.target,i=n.noDrag,OV(r,"."+zH+", ."+IH)||i&&OV(r,i)||!t&&e.button||(b.isBusy()?tj(e,!0):(u=t?x:window,s=g.is([hV,dV]),a=null,p(u,QH,k,aW),p(u,$H,R,aW),v.cancel(),y.cancel(),I(e)))}var r,i}function k(t){if(g.is(6)||(g.set(6),f(Oj)),t.cancelable)if(s){v.translate(r+N(t)/(E&&e.is(eW)?5:1));var i=D(t)>200,a=E!==(E=T());(i||a)&&I(t),l=!0,f(zj),tj(t)}else(function(e){return pj(N(e))>pj(N(e,!0))})(t)&&(s=function(e){var t=n.dragMinThreshold,r=_V(t),i=r&&t.mouse||0,a=(r?t.touch:+t)||10;return pj(N(e))>(U(e)?a:i)}(t),tj(t))}function R(r){g.is(6)&&(g.set(3),f(Uj)),s&&(!function(r){var i=function(t){if(e.is(tW)||!E){var n=D(t);if(n&&n<200)return N(t)/n}return 0}(r),a=function(e){return A()+yj(e)*uj(pj(e)*(n.flickPower||600),o?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(i),s=n.rewind&&n.rewindByDrag;_(!1),o?b.scroll(a,0,n.snap):e.is(nW)?b.go(M(yj(i))<0?s?"<":"-":s?">":"+"):e.is(eW)&&E&&s?b.go(T(!0)?">":"<"):b.go(b.toDest(a),!0);_(!0)}(r),tj(r)),m(u,QH,k),m(u,$H,R),s=!1}function L(e){!c&&l&&tj(e,!0)}function I(e){a=i,i=e,r=A()}function N(e,t){return z(e,t)-z(O(e),t)}function D(e){return aj(e)-aj(O(e))}function O(e){return i===e&&a||i}function z(e,t){return(U(e)?e.changedTouches[0]:e)["page"+S(t?"Y":"X")]}function U(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function F(e){c=e}return{mount:function(){p(x,QH,yV,aW),p(x,$H,yV,aW),p(x,KH,P,aW),p(x,"click",L,{capture:!0}),p(x,"dragstart",tj),d([Sj,Ij],C)},disable:F,isDragging:function(){return s}}},Keyboard:function(e,t,n){var r,i,a=eH(e),o=a.on,s=a.bind,l=a.unbind,c=e.root,u=t.Direction.resolve;function h(){var e=n.keyboard;e&&(r="global"===e?window:c,s(r,lW,p))}function d(){l(r,lW)}function f(){var e=i;i=!0,vV((function(){i=e}))}function p(t){if(!i){var n=sW(t);n===u(rH)?e.go("<"):n===u(iH)&&e.go(">")}}return{mount:function(){h(),o(Ij,d),o(Ij,h),o(Aj,f)},destroy:d,disable:function(e){i=e}}},LazyLoad:function(e,t,n){var r=eH(e),i=r.on,a=r.off,o=r.bind,s=r.emit,l="sequential"===n.lazyLoad,c=[Tj,Bj],u=[];function h(){pV(u),t.Slides.forEach((function(e){rj(e.slide,hW).forEach((function(t){var r=JV(t,cW),i=JV(t,uW);if(r!==t.src||i!==t.srcset){var a=n.classes.spinner,o=t.parentElement,s=UV(o,"."+a)||qV("span",a,o);u.push([t,e,s]),t.src||YV(t,"none")}}))})),l?m():(a(c),i(c,d),d())}function d(){(u=u.filter((function(t){var r=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,r)||f(t)}))).length||a(c)}function f(e){var t=e[0];IV(e[1].slide,qH),o(t,"load error",gV(p,e)),GV(t,"src",JV(t,cW)),GV(t,"srcset",JV(t,uW)),WV(t,cW),WV(t,uW)}function p(e,t){var n=e[0],r=e[1];ij(r.slide,qH),"error"!==t.type&&($V(e[2]),YV(n,""),s(Jj,n,r),s(Nj)),l&&m()}function m(){u.length&&f(u.shift())}return{mount:function(){n.lazyLoad&&(h(),i(Lj,h))},destroy:gV(pV,u),check:d}},Pagination:function(e,t,n){var r,i,a=eH(e),o=a.on,s=a.emit,l=a.bind,c=t.Slides,u=t.Elements,h=t.Controller,d=h.hasFocus,f=h.getIndex,p=h.go,m=t.Direction.resolve,g=u.pagination,v=[];function y(){r&&($V(g?mV(r.children):r),ij(r,i),pV(v),r=null),a.destroy()}function b(e){p(">"+e,!0)}function x(e,t){var n=v.length,r=sW(t),i=_(),a=-1;r===m(iH,!1,i)?a=++e%n:r===m(rH,!1,i)?a=(--e+n)%n:"Home"===r?a=0:"End"===r&&(a=n-1);var o=v[a];o&&(ZV(o.button),p(">"+a),tj(t,!0))}function _(){return n.paginationDirection||n.direction}function w(e){return v[h.toPage(e)]}function S(){var e=w(f(!0)),t=w(f());if(e){var n=e.button;ij(n,jH),WV(n,pH),GV(n,uH,-1)}if(t){var i=t.button;IV(i,jH),GV(i,pH,!0),GV(i,uH,"")}s(Gj,{list:r,items:v},e,t)}return{items:v,mount:function t(){y(),o([Ij,Lj,$j],t);var a=n.pagination;g&&YV(g,a?"":"none"),a&&(o([Aj,Fj,Bj],S),function(){var t=e.length,a=n.classes,o=n.i18n,s=n.perPage,f=d()?h.getEnd()+1:fj(t/s);IV(r=g||qV("ul",a.pagination,u.track.parentElement),i=OH+"--"+_()),GV(r,cH,"tablist"),GV(r,mH,o.select),GV(r,yH,_()===sH?"vertical":"");for(var p=0;p<f;p++){var m=qV("li",null,r),y=qV("button",{class:a.page,type:"button"},m),w=c.getIn(p).map((function(e){return e.slide.id})),S=!d()&&s>1?o.pageX:o.slideX;l(y,"click",gV(b,p)),n.paginationKeyboard&&l(y,"keydown",gV(x,p)),GV(m,cH,"presentation"),GV(y,cH,"tab"),GV(y,dH,w.join(" ")),GV(y,mH,bj(S,p+1)),GV(y,uH,-1),v.push({li:m,button:y,page:p})}}(),S(),s(Wj,{list:r,items:v},w(e.index)))},destroy:y,getAt:w,update:S}},Sync:function(e,t,n){var r=n.isNavigation,i=n.slideFocus,a=[];function o(){var t,n;e.splides.forEach((function(t){t.isParent||(l(e,t.splide),l(t.splide,e))})),r&&(t=eH(e),(n=t.on)(Ej,u),n(Kj,h),n([Sj,Ij],c),a.push(t),t.emit(qj,e.splides))}function s(){a.forEach((function(e){e.destroy()})),pV(a)}function l(e,t){var n=eH(e);n.on(Aj,(function(e,n,r){t.go(t.is(tW)?r:e)})),a.push(n)}function c(){GV(t.Elements.list,yH,n.direction===sH?"vertical":"")}function u(t){e.go(t.index)}function h(e,t){kV(dW,sW(t))&&(u(e),tj(t))}return{setup:gV(t.Media.set,{slideFocus:AV(i)?r:i},!0),mount:o,destroy:s,remount:function(){s(),o()}}},Wheel:function(e,t,n){var r=eH(e).bind,i=0;function a(r){if(r.cancelable){var a=r.deltaY,o=a<0,s=aj(r),l=n.wheelMinThreshold||0,c=n.wheelSleep||0;pj(a)>l&&s-i>c&&(e.go(o?"<":">"),i=s),function(r){return!n.releaseWheel||e.state.is(hV)||-1!==t.Controller.getAdjacent(r)}(o)&&tj(r)}}return{mount:function(){n.wheel&&r(t.Elements.track,"wheel",a,aW)}}},Live:function(e,t,n){var r=eH(e).on,i=t.Elements.track,a=n.live&&!n.isNavigation,o=qV("span",BH),s=tH(90,gV(l,!1));function l(e){GV(i,_H,e),e?(NV(i,o),s.start()):($V(o),s.cancel())}function c(e){a&&GV(i,xH,e?"off":"polite")}return{mount:function(){a&&(c(!t.Autoplay.isPaused()),GV(i,wH,!0),o.textContent="…",r(Xj,gV(c,!0)),r(Zj,gV(c,!1)),r([Tj,Bj],gV(l,!0)))},disable:c,destroy:function(){WV(i,[xH,wH,_H]),$V(o)}}}}),pW={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:JH,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function mW(e,t,n){var r=t.Slides;function i(){r.forEach((function(e){e.style("transform","translateX(-"+100*e.index+"%)")}))}return{mount:function(){eH(e).on([Sj,Lj],i)},start:function(e,t){r.style("transition","opacity "+n.speed+"ms "+n.easing),vV(t)},cancel:yV}}function gW(e,t,n){var r,i=t.Move,a=t.Controller,o=t.Scroll,s=t.Elements.list,l=gV(XV,s,"transition");function c(){l(""),o.cancel()}return{mount:function(){eH(e).bind(s,"transitionend",(function(e){e.target===s&&r&&(c(),r())}))},start:function(t,s){var c=i.toPosition(t,!0),u=i.getPosition(),h=function(t){var r=n.rewindSpeed;if(e.is(eW)&&r){var i=a.getIndex(!0),o=a.getEnd();if(0===i&&t>=o||i>=o&&0===t)return r}return n.speed}(t);pj(c-u)>=1&&h>=1?n.useScroll?o.scroll(c,h,!1,s):(l("transform "+h+"ms "+n.easing),i.translate(c,!0),r=s):(i.jump(t),s())},cancel:c}}var vW=function(){function e(t,n){var r;this.event=eH(),this.Components={},this.state=(r=1,{set:function(e){r=e},is:function(e){return kV(CV(e),r)}}),this.splides=[],this._o={},this._E={};var i=MV(t)?nj(document,t):t;cj(i,i+" is invalid."),this.root=i,n=jV({label:JV(i,mH)||"",labelledby:JV(i,gH)||""},pW,e.defaults,n||{});try{jV(n,JSON.parse(JV(i,lj)))}catch(TG){cj(!1,"Invalid JSON")}this._o=Object.create(jV({},n))}var t,n,r,i=e.prototype;return i.mount=function(e,t){var n=this,r=this.state,i=this.Components;return cj(r.is([1,7]),"Already mounted!"),r.set(1),this._C=i,this._T=t||this._T||(this.is(nW)?mW:gW),this._E=e||this._E,BV(VV({},fW,this._E,{Transition:this._T}),(function(e,t){var r=e(n,i,n._o);i[t]=r,r.setup&&r.setup()})),BV(i,(function(e){e.mount&&e.mount()})),this.emit(Sj),IV(this.root,VH),r.set(3),this.emit(Mj),this},i.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},i.go=function(e){return this._C.Controller.go(e),this},i.on=function(e,t){return this.event.on(e,t),this},i.off=function(e){return this.event.off(e),this},i.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(mV(arguments,1))),this},i.add=function(e,t){return this._C.Slides.add(e,t),this},i.remove=function(e){return this._C.Slides.remove(e),this},i.is=function(e){return this._o.type===e},i.refresh=function(){return this.emit(Lj),this},i.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?eH(this).on(Mj,this.destroy.bind(this,e)):(BV(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(Vj),t.destroy(),e&&pV(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&cV(t.prototype,n),r&&cV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();vW.defaults={},vW.STATES=fV;var yW=[[Sj,"onMounted"],[Mj,"onReady"],[Aj,"onMove"],[Tj,"onMoved"],[Ej,"onClick"],[Cj,"onActive"],[Pj,"onInactive"],[kj,"onVisible"],[Rj,"onHidden"],[Lj,"onRefresh"],[Ij,"onUpdated"],[Nj,"onResize"],[Dj,"onResized"],[Oj,"onDrag"],[zj,"onDragging"],[Uj,"onDragged"],[Fj,"onScroll"],[Bj,"onScrolled"],[Vj,"onDestroy"],[jj,"onArrowsMounted"],[Hj,"onArrowsUpdated"],[Wj,"onPaginationMounted"],[Gj,"onPaginationUpdated"],[qj,"onNavigationMounted"],[Xj,"onAutoplayPlay"],[Yj,"onAutoplayPlaying"],[Zj,"onAutoplayPause"],[Jj,"onLazyLoadLoaded"]];function bW(...e){return e.filter(Boolean).join(" ")}function xW(e){return null!==e&&"object"==typeof e}function _W(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&!e.some(((e,n)=>!_W(e,t[n])));if(xW(e)&&xW(t)){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&!n.some((n=>!Object.prototype.hasOwnProperty.call(t,n)||!_W(e[n],t[n])))}return e===t}function wW(e,t){const n=e;return function(e,t){if(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];if("__proto__"!==i&&!1===t(e[i],i))break}}}(t,((e,t)=>{Array.isArray(e)?n[t]=e.slice():xW(e)?n[t]=wW(xW(n[t])?n[t]:{},e):n[t]=e})),n}var SW=({children:e,className:t,...n})=>V.createElement("div",{className:bW("splide__track",t),...n},V.createElement("ul",{className:"splide__list"},e)),MW=class extends V.Component{constructor(){super(...arguments),this.splideRef=V.createRef(),this.slides=[]}componentDidMount(){const{options:e,extensions:t,transition:n}=this.props,{current:r}=this.splideRef;r&&(this.splide=new vW(r,e),this.bind(this.splide),this.splide.mount(t,n),this.options=wW({},e||{}),this.slides=this.getSlides())}componentWillUnmount(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}componentDidUpdate(){if(!this.splide)return;const{options:e}=this.props;e&&!_W(this.options,e)&&(this.splide.options=e,this.options=wW({},e));const t=this.getSlides();var n,r;n=this.slides,r=t,(n.length!==r.length||n.some(((e,t)=>e!==r[t])))&&(this.splide.refresh(),this.slides=t)}sync(e){var t;null==(t=this.splide)||t.sync(e)}go(e){var t;null==(t=this.splide)||t.go(e)}getSlides(){var e;if(this.splide){const t=null==(e=this.splide.Components.Elements)?void 0:e.list.children;return t&&Array.prototype.slice.call(t)||[]}return[]}bind(e){yW.forEach((([t,n])=>{const r=this.props[n];"function"==typeof r&&e.on(t,((...t)=>{r(e,...t)}))}))}omit(e,t){return t.forEach((t=>{Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]})),e}render(){const{className:e,tag:t="div",hasTrack:n=!0,children:r,...i}=this.props;return V.createElement(t,{className:bW("splide",e),ref:this.splideRef,...this.omit(i,["options",...yW.map((e=>e[1]))])},n?V.createElement(SW,null,r):r)}},AW=({children:e,className:t,...n})=>V.createElement("li",{className:bW("splide__slide",t),...n},e);
/*!
 * Splide.js
 * Version  : 4.1.3
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */
const TW=UF.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 650px;
  height: 330px;
  overflow-x: hidden;
  margin: 10px auto 30px auto;
  cursor: pointer;
  border: 1px solid ${BF.subTitle};
`,EW=UF.img`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow-x: hidden;
`,CW=()=>Q(K,{children:$(MW,{"aria-label":"My Favorite Images",options:{rewind:!0,arrows:!1,width:650,gap:"10px",perMove:1},children:[Q(PW,{src:"/ayoungRoom/assets/길이재기-258cf16b.gif",content:"▲ 3d 길이재기"}),Q(PW,{src:"/ayoungRoom/assets/undo-702b80f4.gif",content:"▲ undo & redo"}),Q(PW,{src:"/ayoungRoom/assets/에셋설치-ef6ba2c9.gif",content:"▲ 에셋 설치"}),Q(PW,{src:"/ayoungRoom/assets/조명-b184f7bd.gif",content:"▲ 조명 설치"}),Q(PW,{src:"/ayoungRoom/assets/배경-f08baf87.gif",content:"▲ 배경 단색, hdr 설정"}),Q(PW,{src:"/ayoungRoom/assets/시작위치-2ef31c9f.gif",content:"▲ 유저 시작위치 설정"}),Q(PW,{src:"/ayoungRoom/assets/저장-bacc834e.gif",content:"▲ 저장 및 게시"})]})}),PW=({src:e,content:t})=>$(AW,{children:[Q(TW,{children:Q(EW,{src:e,alt:e})}),Q(kW,{children:t})]}),kW=UF.p`
  font-size: 18px;
  font-family: "title3";
  /* background-color: white; */
  position: absolute;
  z-index: 300;
  color: black;
  bottom: 4px;
  left: 0px;
`,RW=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.spaceModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,spaceModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,spaceModal:!1}),clearTimeout(n)}),200)}}),Q(LW,{})]})})})},LW=()=>$(K,{children:[Q(DB,{children:"Vrin Space"}),Q(UB,{children:"2022.10 ~ 2022.12"}),$(jB,{className:"center wrap",margin:"0px auto 0 auto",children:[Q(jB,{className:"video",width:650,margin:"10px auto 0 auto",children:Q(CW,{})}),Q(HB,{className:"right text",width:650,height:125,margin:"20px auto 20px auto",children:Q(IW,{})})]}),Q(WB,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto",columnGap:15,children:Q(VB,{className:"link btn",onClick:()=>window.open("https://vrin.co.kr/","_blank"),children:"👉서비스 링크"})})]}),IW=()=>$(HB,{style:{overflowY:"scroll"},children:[Q(FB,{children:"- one page 3D 공간 편집 툴인 VRIN SPACE 개발 (3d 공간에 glb파일, 조명, 배경 설치)"}),Q(FB,{children:"- 담당 : 프론트엔드 (초반 외주 코드 제외한 70%)"}),Q(FB,{children:"- 주요 스킬 : React, Javascript, three.js, GSAP, Redux, React Query"}),Q(FB,{margin:"10px 0 3px 0",children:"- 주요 개발 기능"}),$(BB,{children:["◾ Raycaster와 마우스 이벤트를 이용한 ",Q("span",{children:"3d 길이 측정"})]}),$(BB,{children:["◾ Redux 타임머신 기능을 이용한 ",Q("span",{children:"undo, redo"})]}),Q(BB,{children:"◾ glb 파일 BufferAttribute 를 이용하여 에셋 별 높이 측정 → 바닥으로부터 높이로 이용"}),Q(BB,{children:"◾ 썸네일, 스크린 캡쳐, 유저 시작위치와 cube 배경 생성"}),Q(FB,{margin:"10px 0 3px 0",children:"- 러닝 포인트"}),Q(BB,{children:"◾ 비동기 호출 컴포넌트와 one page 최적화 위한 적절한 Suspense 사용"}),Q(BB,{children:"◾ glb파일 저장 방식에 따른 파일 구조 차이와 웹 상 퍼포먼스 최적화 "})]}),NW=UF.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 485px;
  overflow-x: hidden;
  margin: 0 auto 35px auto;
  cursor: pointer;
`,DW=UF.img`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow-x: hidden;
`,OW=()=>Q(K,{children:$(MW,{"aria-label":"My Favorite Images",options:{rewind:!0,arrows:!1,width:190,gap:"10px",perMove:1},children:[Q(AW,{children:Q(NW,{children:Q(DW,{src:"/ayoungRoom/assets/투두윗1-9fb702f7.png",alt:"투두윗1"})})}),Q(AW,{children:Q(NW,{children:Q(DW,{src:"/ayoungRoom/assets/투두윗2-a92b0a56.png",alt:"투두윗2"})})}),Q(AW,{children:Q(NW,{children:Q(DW,{src:"/ayoungRoom/assets/투두윗3-9828e15e.png",alt:"투두윗3"})})}),Q(AW,{children:Q(NW,{children:Q(DW,{src:"/ayoungRoom/assets/투두윗4-e3c6080f.png",alt:"투두윗4"})})}),Q(AW,{children:Q(NW,{children:Q(DW,{src:"/ayoungRoom/assets/투두윗5-09293a8a.png",alt:"투두윗5"})})}),Q(AW,{children:Q(NW,{children:Q(DW,{src:"/ayoungRoom/assets/투두윗6-32e6a9c4.png",alt:"투두윗6"})})})]})}),zW=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.todowithModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,todowithModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,todowithModal:!1}),clearTimeout(n)}),200)}}),Q(UW,{})]})})})},UW=()=>$(K,{children:[Q(DB,{className:"Title",children:"TODOWITH (투두윗)"}),Q(UB,{children:"2022.06 ~ 2022.08 협업 프로젝트(FE 2명, BE 3명, 디자이너 2명)"}),$(WB,{className:"center wrap",margin:"15px auto 0 auto",children:[Q(jB,{className:"left photo",width:190,height:520,margin:"0 0 0 auto",children:Q(OW,{})}),Q(HB,{width:480,height:480,margin:"0 auto 40px 10px",children:Q(FW,{})})]}),$(WB,{className:"bottom botton wrap",width:600,height:50,margin:"5px auto 10px auto",columnGap:15,children:[Q(VB,{className:"readme btn",onClick:()=>window.open("https://www.notion.so/Shim-A-Young-1dc0c70d78764f309d9829499d4bb53c#6ef578200aad4d73a0939e85d40cdf32","_blank"),children:"👉상세 Readme"}),Q(VB,{className:"link btn",onClick:()=>window.open("https://todowith.co.kr","_blank"),children:"👉서비스 링크"}),Q(VB,{className:"github btn",onClick:()=>window.open("https://github.com/HanghaeE5/Front-end","_blank"),children:"👉GitHub"})]})]}),FW=()=>$(HB,{isAlignSide:!0,isContentSide:!0,style:{overflowY:"scroll",padding:"0 5px 0 5px"},children:[Q(FB,{children:"- Todo를 완료하며 캐릭터와 같이 성장하는 반응형 웹앱"}),$(FB,{children:["- 부트캠프 항해99 7기 39개 팀 중 ",Q("span",{children:"1위 최우수 프로젝트 수상"})]}),$(FB,{children:["- 배포 8일간 방문유저 500명, 실유저 200명, 유저 TODO 3000개,",Q("span",{children:" 유저테스트 53개 달성"})]}),$(FB,{children:["- UT를 반영한 UI 개선 후 서비스 만족도(6점 만점 중 4.9점)와 가입 유저수 상승 ",Q("a",{className:"linktag",href:"https://www.notion.so/TODOWITH-e2c94553e7c245ef8d411b9aa4a752b3#46c5abd15b434de9ba5e38fd4345068c",target:"_blank",children:"👉 UT 추가&개선 기능 보기"})]}),$(FB,{margin:"10px 0 0 0",children:["- 주요 스킬 : React, Typescript, PWA, SockJs, StompJS, React Query, Recoil, Github Actions, AWS, CloudFront\n        ",Q("a",{className:"linktag",href:"https://www.notion.so/TODOWITH-e2c94553e7c245ef8d411b9aa4a752b3#1aff2c7659684ba285ca2e2b3b742c12",target:"_blank",children:"👉 기술적 의사결정 (노션)"})]}),Q(FB,{margin:"10px 0 3px 0",children:"- 의의"}),$(BB,{children:["◾ 첫 프로젝트로 시작은 미미했으나, 1주일 112시간에 가까운 몰입을 통해 ",Q("span",{children:"가파른 러닝커브"}),"로 39개팀 중 1위로 끝마친 프로젝트"]}),Q(BB,{margin:"2px 0 0 0",children:"◾ 프론트 리더로서 디자이너와 백엔드 소통 담당. 프론트 코드의 75% 작성 (CICD/서버설정, Interceptors 로직, 로그인/회원가입/온보딩, 메인페이지, 채팅, 친구목록/친구페이지, 알림)\n"}),$(BB,{margin:"2px 0 0 0",children:["◾"," ",Q("span",{children:"UI/UX 에 딥다이브"}),"한 프론트엔드 개발자가 되겠다는 목표를 세우게 됨"]}),$(FB,{margin:"10px 0 3px 0",children:["- 트러블슈팅",Q("a",{className:"linktag",href:"https://github.com/HanghaeE5/Front-end/wiki",target:"_blank",children:"👉 상세한 트러블슈팅 보러가기 (깃허브 위키)"})]}),$(BB,{children:["◾ 마운트 속도, 리렌더링 최적화\n        : 코드 리펙토링(useState, useRecoilState 객체화. API 후처리, onClick 공통로직 생성. gif 용량 감소 등) "," ",Q("span",{children:"→ 로드타임 38% 향상, LightHouse 테스트 성능 43점, 접근성 26점 향상"})]}),Q(BB,{margin:"2px 0 0 0",children:"◾ 캔버스 함수 브라우저 호환성 문제\n      : 모바일 로컬 환경에서 navigator.userAgent로 안드로이드 브라우저 종류 파악 →  브라우저마다 다른 문자열을 이용하여 문제 브라우저 차단\n"}),Q(BB,{margin:"2px 0 0 0",children:"◾ 캐릭터 선택 API와 유저데이터 API 충돌 : cancelquery 명령으로 비동기로 실행되던 유저 데이터 API 취소"}),Q(FB,{margin:"10px 0 3px 0",children:"- 주요 기능"}),Q(BB,{children:"◾ 편의성 : 반응형, PWA, 알림 기능"}),Q(BB,{margin:"2px 0 0 0",children:"◾ 페이지 : TODO 작성/완료/삭제, TODO완료에 따른 캐릭터 레벨업/스텝업,\n1:1/단체채팅, 친구요청/수락/거절/삭제, 친구페이지, 랜덤이벤트, 커뮤니티\n"}),Q(BB,{margin:"2px 0 0 0",children:"◾ 인프라 : HTTPS 배포 및 CI/CD 구축 CloudFront + Gihub Action + S3"})]}),BW=UF.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 240px;
  overflow-x: hidden;
  margin: 10px auto 30px auto;
  cursor: pointer;
`,VW=UF.img`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow-x: hidden;
`,jW=()=>Q(K,{children:$(MW,{"aria-label":"My Favorite Images",options:{rewind:!0,arrows:!1,width:600,gap:"10px",perMove:1},children:[Q(AW,{children:Q(BW,{children:Q(VW,{src:"/ayoungRoom/assets/우탐1-41a70b89.png",alt:"우탐1"})})}),Q(AW,{children:Q(BW,{children:Q(VW,{src:"/ayoungRoom/assets/우탐2-2a5abdc4.png",alt:"우탐2"})})})]})}),HW=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.utModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,utModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,utModal:!1}),clearTimeout(n)}),200)}}),Q(WW,{})]})})})},WW=()=>$(K,{children:[Q(DB,{children:"우당탕탕 탐험일기"}),Q(UB,{children:"2022.09 1인 개인 프로젝트"}),$(jB,{className:"center wrap",margin:"0px auto 0 auto",children:[Q(jB,{className:"video",width:600,margin:"10px auto 0 auto",children:Q(jW,{})}),Q(HB,{className:"right text",width:650,height:215,margin:"20px auto 20px auto",children:Q(GW,{})})]}),$(WB,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto 0px auto",columnGap:15,children:[Q(VB,{className:"서비스 btn",onClick:()=>window.open("https://ccimayoung.github.io/","_blank"),children:"👉서비스 링크"}),Q(VB,{className:"github btn",onClick:()=>window.open("https://github.com/ccimayoung/portpro","_blank"),children:"👉GitHub"}),Q(VB,{className:"github btn",onClick:()=>window.open("https://www.figma.com/file/VatAYk9Dyzgtxw1Ci7nbcg/%EC%9A%B0%EB%8B%B9%ED%83%95%ED%83%95-%ED%83%90%ED%97%98%EC%9D%BC%EA%B8%B0?node-id=0%3A1","_blank"),children:"👉Figma"})]})]}),GW=()=>$(HB,{style:{overflowY:"scroll"},children:[Q(FB,{children:"- 기억을 잃은 심아영씨가 퀘스트를 수행하고 탐험하며 기억을 찾아가는 게임 "}),$(FB,{children:["- three.js, react-three/fiber, Blender, React를 이용한 ",Q("span",{children:"웹 게임 형식 포트폴리오"})]}),Q(FB,{margin:"10px 0 3px 0",children:"- 의의"}),$(BB,{children:["◾ "," ",Q("span",{children:"살아있는 서비스"}),"를 만들기 위해 three.js를 독학하고 만든 첫 프로젝트 "]}),$(BB,{children:["◾ 바닐라 JS로 공부했던 three.js를"," ",Q("span",{children:"리액트와 react-three/fiber"}),"로 구현할 수 있게 됨"]}),Q(BB,{margin:"2px 0 0 0",children:"◾ 스토리를 구상하며 게임 형식으로 재밌게 만든 포트폴리오"}),Q(FB,{margin:"10px 0 3px 0",children:"- 주요 기능"}),Q(BB,{children:"◾ 정글 맵 : PointerLockControls + keyController 사용. 마인크래프트 느낌의 캐릭터 이동, 시점 이동 방식"}),Q(BB,{children:"◾ 실내 맵 : OrbitControls 사용. 마우스 시점 이동 방식"}),Q(BB,{margin:"2px 0 0 0",children:"◾ Particle : 구의 attributes.position.array 를 이용한 이미지 Particle 구현"}),Q(BB,{margin:"2px 0 0 0",children:"◾ 고양이 position : 고양이 퀘스트 완료 시 고양이 mesh가 플레이어 mesh 위치를 따라가게 설정"}),$(BB,{margin:"2px 0 0 0",children:["◾ 지도 : "," ",Q("span",{children:"캐릭터의 3d x,z 위치를 2d로 변환"}),"하여 지도에 표시"]}),Q(BB,{margin:"2px 0 0 0",children:"◾ 포트폴리오 : 퀘스트 완성도에 따라 포트폴리오 모달이 점차 완성됨"}),Q(BB,{margin:"2px 0 0 0",children:"◾ 가방 : 아이템 습득 시 가방에 넣음"})]}),qW=UF.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 650px;
  height: 340px;
  overflow-x: hidden;
  margin: 10px auto 30px auto;
  cursor: pointer;
  border: 1px solid ${BF.subTitle};
`,XW=UF.img`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow-x: hidden;
`,YW=()=>Q(K,{children:$(MW,{"aria-label":"My Favorite Images",options:{rewind:!0,arrows:!1,width:650,gap:"10px",perMove:1},children:[Q(ZW,{src:"/ayoungRoom/assets/mira_자동오류검출-af2dab26.gif",content:"▲ 자동오류검출"}),Q(ZW,{src:"/ayoungRoom/assets/mira_드로잉복제-f11a1293.gif",content:"▲ 드로잉, 편집, 복제 - 단축키"}),Q(ZW,{src:"/ayoungRoom/assets/mira_필터_ 모드-f04c022c.gif",content:"▲ 필터, 모드 변경"}),Q(ZW,{src:"/ayoungRoom/assets/mira_PF모드단축키-f1750ca2.gif",content:"▲ Pass/Fail 단축키 작업"}),Q(ZW,{src:"/ayoungRoom/assets/mira_crop-02c5f62f.gif",content:"▲ 사진을 벗어난 object crop"}),Q(ZW,{src:"/ayoungRoom/assets/mira_더티체크-84ea14cf.gif",content:"▲ 파일 열기 시 dirty check"})]})}),ZW=({src:e,content:t})=>$(AW,{children:[Q(qW,{children:Q(XW,{src:e,alt:e})}),Q(JW,{children:t})]}),JW=UF.p`
  font-size: 18px;
  font-family: "title3";
  /* background-color: white; */
  position: absolute;
  z-index: 300;
  color: black;
  bottom: 4px;
  left: 0px;
`,KW=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.miraModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,miraModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,miraModal:!1}),clearTimeout(n)}),200)}}),Q(QW,{})]})})})},QW=()=>$(K,{children:[Q(DB,{children:"Mira - 자율주행 annotation Tool"}),Q(UB,{children:"2023.02 ~"}),$(jB,{className:"center wrap",margin:"0px auto 0 auto",children:[Q(jB,{className:"video",width:650,height:340,margin:"10px auto 0 auto",children:Q(YW,{})}),Q(HB,{className:"right text",width:650,height:165,margin:"50px auto 20px auto",children:Q($W,{})})]}),Q(WB,{className:"bottom botton wrap",width:550,height:50,margin:"-5px auto 0px auto",columnGap:15})]}),$W=()=>$(HB,{style:{overflowY:"scroll"},children:[Q(FB,{children:"- 모회사(42dot) AI 교육용 데이터 납품을 위한 데이터 라벨링&검수 Tool"}),Q(FB,{children:"- 차량과 신호등 타겟 electron 기반 one page 툴 "}),Q(FB,{children:"- 1회 1800개 이상의 json과 image를 트리구조로 불러와 객체 속성 수정, 위치/크기 변환, 삭제, convert, pass/fail 기능 등을 수행 후 custom json 포맷 저장"}),Q(FB,{children:"- 담당 : 기획, 디자인, 개발 (import 로직을 제외한 95%)"}),$(FB,{children:["-  ",Q("span",{children:"기존 툴 대비 작업자들의 작업 속도 30% 증가 "}),"\n        (신호등, 속성 → 이미지, 색상으로 가시화. 자동 오류 검출 로직, 객체 복제, 단축키 이벤트 등)"]}),Q(FB,{margin:"10px 0 3px 0",children:"- 주요 스킬 : electron, react-three/fiber, React.js, TypeScript, Recoil"}),Q(FB,{margin:"10px 0 3px 0",children:"- 주요 개발 기능"}),$(BB,{children:["◾ ",Q("span",{children:"자동 오류 검출 25개"})," : 한 사진에 같은 id 신호 존재. 신호등 크기에 따른 속성 추측 등 "]}),Q(BB,{children:"◾ Raycaster와 마우스, 키 이벤트를 이용한 객체 복제, 드로잉, 선택, 편집 "}),Q(BB,{children:"◾ 필터 검색으로 작업목록 변경, 작업 목표에 따른 모드 변경"}),$(BB,{children:["◾ ",Q("span",{children:"converting"})," : 사진 밖으로 나가는 객체 crop, 겹치는 객체 삭제 등"]}),Q(BB,{children:"◾ 변경사항이 발생한 객체와 사진에 update 상태를 보여주고 파일 변경 전 dirty check"}),Q(FB,{margin:"10px 0 3px 0",children:"- 러닝 포인트"}),$(BB,{children:["◾ ",Q("span",{children:"메모리 누수 해결"}),"을 위해 성능 검사와 react 작동 원리 중 eventListener 생명주기를 깊게 공부함"]}),Q(BB,{children:"◾ usememo, useCallback의 적절한 사용"}),$(BB,{children:["◾ ",Q("span",{children:"z-fighting 해결"}),"을 위한 depth-test, offset 에 대한 고민"]}),Q(BB,{children:"◾ ver 1.0.0 부터 ver 3.3.0 배포까지의 지라 버전 관리와 버그, UI/UX 개선"})]}),eG=UF.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 650px;
  height: 330px;
  overflow-x: hidden;
  margin: 10px auto 30px auto;
  cursor: pointer;
  border: 1px solid ${BF.subTitle};
`,tG=UF.img`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow-x: hidden;
`,nG=()=>Q(K,{children:$(MW,{"aria-label":"My Favorite Images",options:{rewind:!0,arrows:!1,width:650,gap:"10px",perMove:1},children:[Q(rG,{src:"/ayoungRoom/assets/voc_조회-a89e9914.gif",content:"▲ 이용내역 원스톱 조회"}),Q(rG,{src:"/ayoungRoom/assets/voc_csv-ebd1d554.gif",content:"▲ CSV 다운"}),Q(rG,{src:"/ayoungRoom/assets/voc_필터검색-49e374b8.gif",content:"▲ 검색 필터"})]})}),rG=({src:e,content:t})=>$(AW,{children:[Q(eG,{children:Q(tG,{src:e,alt:e})}),Q(iG,{children:t})]}),iG=UF.p`
  font-size: 18px;
  font-family: "title3";
  /* background-color: white; */
  position: absolute;
  z-index: 300;
  color: black;
  bottom: 4px;
  left: 0px;
`,aG=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.vocModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,vocModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,vocModal:!1}),clearTimeout(n)}),200)}}),Q(oG,{})]})})})},oG=()=>$(K,{children:[Q(DB,{children:"TAP! VoC Manager"}),Q(UB,{children:"2023.08 ~"}),$(jB,{className:"center wrap",margin:"0px auto 0 auto",children:[Q(jB,{className:"video",width:650,margin:"10px auto 0 auto",children:Q(nG,{})}),Q(HB,{className:"right text",width:650,height:165,margin:"20px auto 20px auto",children:Q(sG,{})})]}),Q(WB,{className:"bottom botton wrap",width:550,height:50,margin:"-5px auto 0px auto",columnGap:15})]}),sG=()=>$(HB,{style:{overflowY:"scroll"},children:[Q(FB,{children:"- 42dot TAP 고객센터 직원들이 고객 이용내역을 조회하고, 상담내역을 기록/검색하는 시스템 "}),Q(FB,{children:"- 담당 : 기획, 디자인, 프론트엔드 (FE 코드 100%)"}),Q(FB,{children:"- 주요 스킬 : React.js, TypeScript, Recoil, React Query"}),Q(FB,{margin:"10px 0 3px 0",children:"- 주요 개발 기능"}),Q(BB,{children:"◾ 고객 정보 확인/수정, 상담내용 작성/수정"}),Q(BB,{children:"◾ 데이터 csv 엑셀 다운로드 "}),Q(BB,{children:"◾ 필터 검색"}),Q(FB,{margin:"10px 0 3px 0",children:"- 러닝 포인트"}),Q(BB,{children:"◾ 상담사가 빠르게 상담내역을 남길 수 있게 정보, 속성 자동화에 대한 기획"}),Q(BB,{children:"◾ 초기화 버튼을 눌렀을 때 페이지 별 초기화를 위한 공통로직 세팅"})]}),lG=()=>{const[e,t]=Pz(Lz),n=()=>{const n=setTimeout((()=>{t({...e,moocModal:!1}),clearTimeout(n)}),200)};return Q(K,{children:e.moocModal&&Q(RB,{onClick:n,children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:n}),Q(cG,{})]})})})},cG=()=>$(K,{children:[Q(DB,{children:"인천교육청 무크 온라인 강의"}),Q(UB,{children:"2023.03 ~ 2023.05"}),$(jB,{className:"center wrap",margin:"0px auto 0 auto",children:[Q(jB,{className:"video",width:570,margin:"10px auto 0 auto",children:Q("video",{controls:!0,style:{width:"570px"},children:Q("source",{src:"/ayoungRoom/assets/mooc강의1-389031c6.mp4"})})}),Q(HB,{className:"right text",width:650,margin:"20px auto 20px auto",children:Q(uG,{})})]}),Q(WB,{className:"bottom botton wrap",width:550,height:50,margin:"10px auto 0px auto",columnGap:15,children:Q(VB,{className:"link btn",onClick:()=>window.open("https://imooc.datamine.co.kr/courses?category=cat26","_blank"),children:"👉강의 링크"})})]}),uG=()=>$(HB,{children:[Q(FB,{children:"- 인천교과연계 SW학습 블록코딩 심화반 강의 촬영 및 교안, ppt 준비"}),Q(FB,{margin:"10px 0 3px 0",children:"- 초등학교 고학년을 대상으로 코딩과 수학, 과학, 실과 연계 교육"}),Q(FB,{margin:"10px 0 3px 0",children:"- 파이썬 기반의 블록코딩과 엔트리 파이썬을 이용하여 if문, for문을 중점적으로 교육"})]}),hG=()=>{const[e,t]=Pz(Lz);B.useState(!1);const[n,r]=B.useState("part1");B.useRef(null);const i=B.useRef(null),a=B.useRef(null),o=B.useRef(null),s=B.useRef(null),l=B.useRef(null),c=B.useRef(null),u=B.useRef(null),h=B.useRef(null),d=B.useCallback(((e,t)=>{let n;return r=>{clearTimeout(n),n=setTimeout((()=>e(r)),t)}})((e=>{const t=e.target.scrollTop;r(t>=5250?"part8":t>=4500?"part7":t>=3750?"part6":t>=3e3?"part5":t>=2200?"part4":t>=1500?"part3":t>=750?"part2":"part1")}),100),[]);return Q(K,{children:e.profileModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,profileModal:!1}),clearTimeout(n)}),200)},children:$(dG,{onClick:e=>{e.stopPropagation()},style:{backgroundColor:"part2"===n||"part4"===n||"part6"===n||"part8"===n?VF:"#fffab9"},children:[Q(vG,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,profileModal:!1}),clearTimeout(n)}),200)}}),$(fG,{children:[Q(yG,{onClick:()=>{var e;null==(e=i.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part1"===n?jF.font:""},children:"Introduce"}),Q(yG,{onClick:()=>{var e;null==(e=a.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part2"===n?jF.font:""},children:"Skills"}),Q(yG,{onClick:()=>{var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part3"===n?jF.font:""},children:"career1"}),Q(yG,{onClick:()=>{var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part4"===n?jF.font:""},children:"career2"}),Q(yG,{onClick:()=>{var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part5"===n?jF.font:""},children:"career3"}),Q(yG,{onClick:()=>{var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part6"===n?jF.font:""},children:"lecture"}),Q(yG,{onClick:()=>{var e;null==(e=s.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part7"===n?jF.font:""},children:"project1"}),Q(yG,{onClick:()=>{var e;null==(e=l.current)||e.scrollIntoView({behavior:"smooth"})},style:{color:"part8"===n?jF.font:""},children:"project2"})]}),$(pG,{onScroll:d,children:[Q(mG,{ref:i,children:Q(JB,{})}),Q(gG,{}),Q(mG,{ref:a,children:Q(XB,{})}),Q(gG,{}),Q(mG,{ref:o,style:{height:"690px"},children:Q(QW,{})}),Q(gG,{}),Q(mG,{ref:s,style:{height:"690px"},children:Q(oG,{})}),Q(gG,{}),Q(mG,{ref:l,children:Q(LW,{})}),Q(gG,{}),Q(mG,{ref:c,children:Q(cG,{})}),Q(gG,{}),Q(mG,{ref:u,children:Q(WW,{})}),Q(gG,{}),Q(mG,{ref:h,children:Q(UW,{})})]})]})})})},dG=UF.div`
  border-radius: 20px;
  display: flex;
  flex-direction: row;
  /* justify-content: center; */
  /* align-items: center; */

  width: 950px;
  height: 700px;
  padding: 20px;
  position: relative;
  ::-webkit-scrollbar {
    display: none;
  }
  z-index: 25;
`,fG=UF.div`
  display: flex;
  flex-direction: column;
  margin: 0px 10px 0 5px;
  row-gap: 15px;
  width: 150px;
  height: 350px;
  padding: 20px;
  background-color: ${FF};
  border-radius: 15px;
`,pG=UF.div`
  margin: 0px auto 0 auto;
  ::-webkit-scrollbar {
    display: none;
  }
  flex-direction: column;
  position: relative;
  width: 700px;
  height: 675px;
  overflow-y: scroll;
  overflow-x: hidden;
  /* background-color: #ffe2ac; */
  align-items: center;
`,mG=UF.div`
  border-radius: 15px;
  width: 700px;
  height: 670px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  margin: 0 0 0px 0;
`;UF.div`
  margin: 35px auto 0 auto;
  position: relative;
  width: 100%;
  height: 1000px;
  overflow-y: scroll;
  background-color: orange;
  justify-content: center;
  align-items: center;
`,UF.div`
  position: absolute;
  width: 500px;
  height: 500px;
  background-color: pink;
  top: 100px;
`;const gG=UF.div`
  width: 700px;
  height: 2px;
  margin: 40px 0;
  background-color: ${FF};
  border-radius: 20px;
`,vG=UF.img`
  width: 45px;
  height: 45px;
  top: 5px;
  right: 5px;
  position: absolute;
  cursor: pointer;
`,yG=UF(HB)`
  width: 120px;
  font-family: "title4";
  cursor: pointer;
  font-size: 22px;
  height: 25px;
  color: ${VF};
  :hover {
    color: ${jF.font};
  }
`,bG=()=>{const[e,t]=Pz(Lz);return Q(K,{children:e.sgModal&&Q(RB,{onClick:()=>{const n=setTimeout((()=>{t({...e,sgModal:!1}),clearTimeout(n)}),200)},children:$(LB,{onClick:e=>{e.stopPropagation()},children:[Q(NB,{src:GB,alt:"닫음",onClick:()=>{const n=setTimeout((()=>{t({...e,sgModal:!1}),clearTimeout(n)}),200)}}),Q(DB,{children:"브릿지 게임"}),Q(UB,{children:"2022.08 클론 코딩"}),$(jB,{className:"center wrap",margin:"0px auto 0 auto",children:[Q(jB,{className:"video",width:650,margin:"10px auto 0 auto",children:Q("video",{controls:!0,style:{width:"650px"},children:Q("source",{src:"/ayoungRoom/assets/브릿지게임-1aba4dd1.mp4"})})}),Q(HB,{className:"right text",width:650,height:193,margin:"20px auto 20px auto",children:Q(xG,{})})]}),$(WB,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto 0px auto",columnGap:15,children:[Q(VB,{className:"link btn",onClick:()=>window.open("https://ccimayoung.github.io/bridgegame/","_blank"),children:"👉서비스 링크"}),Q(VB,{className:"github btn",onClick:()=>window.open("https://github.com/ccimayoung/bridgegame","_blank"),children:"👉GitHub"})]})]})})})},xG=()=>$(HB,{style:{overflowY:"scroll"},children:[Q(FB,{children:"- 강화유리와 일반유리가 랜덤으로 생성되는 다리를 끝까지 건너는 게임\n        (체험을 위해 강화유리와 일반유리의 투명도에 약간의 차이를 설정했습니다🙂)"}),Q(FB,{children:"- three.js, cannon.js, Blender, 바닐라JS를 이용한 오징어게임 다리건너기 클론 코딩"}),Q(FB,{children:"- raycaster를 이용하여 클릭한 유리로 캐릭터가 이동.\n        강화유리의 경우 성공이지만, 일반유리의 경우 추락하고 다리 조명이 꺼지며 게임 종료"}),Q(FB,{margin:"10px 0 3px 0",children:"- 의의"}),Q(BB,{children:"◾ cannon.js 물리엔진을 처음으로 도입. 질량, 중력, 마찰력, 반발력, 충돌에 대해 배움 "}),Q(BB,{margin:"2px 0 0 0",children:"◾ blender에서 캐릭터와 애니메이션을 만드는 방법을 공부하고, 직접 만든 캐릭터를 활용함 "}),Q(BB,{margin:"2px 0 0 0",children:"◾ 바닐라JS에서 three.js의 mesh, scene, light 등을 사용할 수 있게 됨 "}),$(BB,{margin:"2px 0 0 0",children:["◾"," ",Q("span",{children:"다양한 인터렉티브"}),"를 활용한 프론트엔드 개발자가 되겠다는 목표를 세우게 됨"]}),Q(FB,{margin:"10px 0 3px 0",children:"- 주요 기능"}),Q(BB,{children:"◾ 캐릭터 : blender를 이용해 생성. 애니메이션은 상황 별 3개로 구성 (기본동작, 점프, 추락 후)"}),$(BB,{margin:"2px 0 0 0",children:["◾ 클릭 방식 : raycaster 를 이용하여 유리 감지.",Q("span",{children:" 드래그 클릭 방지 모듈"}),"로 일정 범위와 시간을 초과하는 드래그 발생 시 raycaster 실행 방지"]}),Q(BB,{margin:"2px 0 0 0",children:"◾ 물리엔진 : cannonworld를 생성하고 물체 충돌 상황에 따른 마찰력, 반발력 설정 "}),Q(BB,{margin:"2px 0 0 0",children:"◾ 질량 : 강화유리 질량 100, 일반유리 질량 1, 캐릭터의 질량 30으로 설정. 일반유리는 깨지는 물리엔진 적용"}),Q(BB,{margin:"2px 0 0 0",children:"◾ 카메라 : 2가지 각도로 설정하여 추락 시 카메라 위치를 변동시켜 리플레이로 보여줌"})]}),_G=()=>{const[e,t]=Pz(kz),[n,r]=Pz(Rz),[i,a]=Pz(Lz);return $("div",{children:[(e.isOpen&&i||n)&&Q(EB,{}),i.todowithModal&&Q(zW,{}),i.vocModal&&Q(aG,{}),i.miraModal&&Q(KW,{}),i.moocModal&&Q(lG,{}),i.utModal&&Q(HW,{}),i.sgModal&&Q(bG,{}),i.codingModal&&Q(qB,{}),i.fileModal&&Q(ZB,{}),i.phoneModal&&Q(oV,{}),i.spaceModal&&Q(RW,{}),i.onboardingModal&&Q(rV,{}),i.profileModal&&Q(hG,{})]})};UF.div`
  position: absolute;
  z-index: 10;
  background-color: white;
  box-sizing: border-box;
  width: 200px;
  height: 100vh;

  .side-menu {
    display: inline-flex;
    position: relative;
  }
`;const wG=()=>Q(SG,{children:$(B.Suspense,{fallback:$(K,{children:[Q(MG,{src:"/ayoungRoom/assets/loading3-21c49978.gif"}),Q(rV,{isLoading:!0})]}),children:[Q(lB,{}),Q(fB,{}),Q(_G,{})]})}),SG=UF.div`
  width: 100vw;
  height: 100vh;
  position: relative;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
`,MG=UF.img`
  position: absolute;
  top: calc(50% - 450px);
  width: 80px;
  height: 80px;
  transform-origin: translate(-50%, -50%);
`;function AG(){return Q(bd,{children:$(gd,{children:[Q(pd,{path:"/*",element:Q(fd,{to:"/ayoungRoom/"})}),Q(pd,{path:"/ayoungRoom/",element:Q(wG,{})})]})})}ee.createRoot(document.getElementById("root")).render(Q(V.StrictMode,{children:Q(Tz,{children:Q(AG,{})})}));
